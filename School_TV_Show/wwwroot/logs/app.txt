[2025-04-30 17:58:40] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-04-30 17:58:42] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-04-30 17:58:42] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-04-30 17:58:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-04-30 17:58:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 04/30/2025 17:58:42
[2025-04-30 17:58:43] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-04-30 17:58:43] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-04-30 17:58:43] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-04-30 17:58:43] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-04-30 17:58:43] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-04-30 17:58:43] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-04-30 17:58:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-04-30 17:58:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-04-30 17:59:00] [Information] Program: Trang chủ được truy cập lúc 04/30/2025 17:59:00
[2025-04-30 17:59:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 04/30/2025 17:59:14
[2025-04-30 17:59:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-04-30 17:59:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-04-30 17:59:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 04/30/2025 17:59:44
[2025-04-30 17:59:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-04-30 17:59:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-04-30 18:00:09] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-04-30 18:00:12] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-04-30 18:00:12] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-04-30 18:00:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-04-30 18:00:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 04/30/2025 18:00:12
[2025-04-30 18:00:13] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-04-30 18:00:13] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-04-30 18:00:13] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-04-30 18:00:13] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-04-30 18:00:13] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-04-30 18:00:13] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-04-30 18:00:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-04-30 18:00:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-04-30 18:00:23] [Information] Program: Trang chủ được truy cập lúc 04/30/2025 18:00:23
[2025-04-30 18:00:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 04/30/2025 18:00:43
[2025-04-30 18:00:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-04-30 18:00:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-04-30 18:01:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 04/30/2025 18:01:14
[2025-04-30 18:01:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-04-30 18:01:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-04-30 19:00:40] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-04-30 19:00:42] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-04-30 19:00:42] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-04-30 19:00:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-04-30 19:00:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 04/30/2025 19:00:42
[2025-04-30 19:00:43] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-04-30 19:00:43] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-04-30 19:00:43] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-04-30 19:00:43] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-04-30 19:00:43] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-04-30 19:00:43] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-04-30 19:00:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-04-30 19:00:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-04-30 19:01:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 04/30/2025 19:01:14
[2025-04-30 19:01:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-04-30 19:01:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-04-30 19:01:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 04/30/2025 19:01:44
[2025-04-30 19:01:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-04-30 19:01:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-04-30 19:02:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 04/30/2025 19:02:17
[2025-04-30 19:02:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-04-30 19:02:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-04-30 19:02:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 04/30/2025 19:02:47
[2025-04-30 19:02:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-04-30 19:02:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-04-30 19:03:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 04/30/2025 19:03:17
[2025-04-30 19:03:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-04-30 19:03:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-04-30 19:03:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 04/30/2025 19:03:48
[2025-04-30 19:03:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-04-30 19:03:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-04-30 19:04:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 04/30/2025 19:04:18
[2025-04-30 19:04:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-04-30 19:04:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-04-30 19:04:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 04/30/2025 19:04:48
[2025-04-30 19:04:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-04-30 19:04:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-04-30 19:05:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 04/30/2025 19:05:19
[2025-04-30 19:05:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-04-30 19:05:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-04-30 19:05:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 04/30/2025 19:05:49
[2025-04-30 19:05:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-04-30 19:05:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-04-30 19:06:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 04/30/2025 19:06:19
[2025-04-30 19:06:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-04-30 19:06:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-04-30 19:06:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 04/30/2025 19:06:50
[2025-04-30 19:06:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-04-30 19:06:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-04-30 19:07:25] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-04-30 19:07:26] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-04-30 19:07:26] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-04-30 19:07:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-04-30 19:07:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 04/30/2025 19:07:27
[2025-04-30 19:07:27] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-04-30 19:07:27] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-04-30 19:07:27] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-04-30 19:07:27] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-04-30 19:07:27] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-04-30 19:07:27] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-04-30 19:07:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-04-30 19:07:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-04-30 19:07:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 04/30/2025 19:07:58
[2025-04-30 19:08:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-04-30 19:08:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-04-30 19:08:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 04/30/2025 19:08:33
[2025-04-30 19:08:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-04-30 19:08:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-04-30 19:08:37] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_AccountPackage_Package_PackageID". The conflict occurred in database "tvshow5", table "dbo.Package", column 'PackageID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:debd3abf-c1b5-437a-b472-a9f24e949457
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at DAOs.AccountPackageDAO.UpdateAccountPackageAsync(AccountPackage accountPackage) in F:\Workspace\School_TV_BE\DAOs\AccountPackageDAO.cs:line 55
   at Repos.AccountPackageRepo.UpdateAccountPackageAsync(AccountPackage accountPackage) in F:\Workspace\School_TV_BE\Repos\AccountPackageRepo.cs:line 16
   at Services.AccountPackageService.UpdateAccountPackageAsync(AccountPackage accountPackage) in F:\Workspace\School_TV_BE\Services\AccountPackageService.cs:line 30
   at School_TV_Show.Controllers.AccountController.UpdateAccountPackage(AccountPackage accountRequest) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\AccountController.cs:line 151
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-04-30 19:09:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 04/30/2025 19:09:03
[2025-04-30 19:09:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-04-30 19:09:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-04-30 19:29:45] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-04-30 19:29:47] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-04-30 19:29:47] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-04-30 19:29:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-04-30 19:29:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 04/30/2025 19:29:47
[2025-04-30 19:29:48] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-04-30 19:29:48] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-04-30 19:29:48] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-04-30 19:29:48] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-04-30 19:29:48] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-04-30 19:29:48] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-04-30 19:29:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-04-30 19:29:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-04-30 19:30:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 04/30/2025 19:30:18
[2025-04-30 19:30:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-04-30 19:30:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 08:49:11] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-01 08:49:15] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-01 08:49:15] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-01 08:49:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-01 08:49:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 08:49:40
[2025-05-01 08:50:02] [Error] Services.HostedServices.PendingAccountReminderService: Error while sending OTP reminders.
Exception: System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The client was unable to establish a connection because of an error during connection initialization process before login. Possible causes include the following:  the client tried to connect to an unsupported version of SQL Server; the server was too busy to accept new connections; or there was a resource limitation (insufficient memory or maximum allowed connections) on the server. (provider: TCP Provider, error: 0 - An existing connection was forcibly closed by the remote host.)
 ---> System.ComponentModel.Win32Exception (10054): An existing connection was forcibly closed by the remote host.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.SNIWritePacket(PacketHandle packet, UInt32& sniError, Boolean canAccumulate, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.WriteSni(Boolean canAccumulate)
   at Microsoft.Data.SqlClient.TdsParserStateObject.WritePacket(Byte flushMode, Boolean canAccumulate)
   at Microsoft.Data.SqlClient.TdsParser.SendPreLoginHandshake(Byte[] instanceName, SqlConnectionEncryptOption encrypt, Boolean integratedSecurity, String serverCertificateFilename)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:7873d8a2-1510-4d39-8f0b-5bb7737bdebd
Error Number:10054,State:0,Class:20
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.AccountDAO.GetPendingAccountsOlderThanAsync(DateTime threshold) in F:\Workspace\School_TV_BE\DAOs\AccountDAO.cs:line 235
   at Repos.AccountRepo.GetPendingAccountsOlderThanAsync(DateTime threshold) in F:\Workspace\School_TV_BE\Repos\AccountRepo.cs:line 50
   at Services.AccountService.GetPendingAccountsAsync(DateTime threshold) in F:\Workspace\School_TV_BE\Services\AccountService.cs:line 74
   at Services.HostedServices.PendingAccountReminderService.SendPendingAccountRemindersAsync() in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\PendingAccountReminderService.cs:line 58
[2025-05-01 08:50:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 08:50:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 08:50:22] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-01 08:50:22] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-01 08:51:13] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-01 08:51:13] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-01 08:51:13] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-01 08:51:24] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 08:52:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 08:52:25
[2025-05-01 08:52:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 08:52:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 08:52:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 08:52:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 08:52:56
[2025-05-01 08:52:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 08:52:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 08:52:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 08:53:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 08:53:26
[2025-05-01 08:53:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 08:53:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 08:53:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 08:53:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 08:53:57
[2025-05-01 08:53:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 08:53:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 08:53:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 08:54:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 08:54:27
[2025-05-01 08:54:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 08:54:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 08:54:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 08:54:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 08:54:58
[2025-05-01 08:54:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 08:54:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 08:54:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 08:55:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 08:55:28
[2025-05-01 08:55:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 08:55:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 08:55:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 08:55:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 08:55:58
[2025-05-01 08:55:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 08:55:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 08:55:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 08:56:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 08:56:29
[2025-05-01 08:56:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 08:56:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 08:56:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 08:56:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 08:56:59
[2025-05-01 08:56:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 08:56:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 08:56:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 08:57:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 08:57:30
[2025-05-01 08:57:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 08:57:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 08:57:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 08:58:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 08:58:00
[2025-05-01 08:58:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 08:58:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 08:58:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 08:58:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 08:58:30
[2025-05-01 08:58:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 08:58:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 08:58:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 08:59:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 08:59:01
[2025-05-01 08:59:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 08:59:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 08:59:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 08:59:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 08:59:31
[2025-05-01 08:59:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 08:59:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 08:59:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:00:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:00:02
[2025-05-01 09:00:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:00:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:00:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:00:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:00:32
[2025-05-01 09:00:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:00:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:00:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:01:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:01:02
[2025-05-01 09:01:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:01:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:01:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:01:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:01:33
[2025-05-01 09:01:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:01:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:01:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:02:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:02:03
[2025-05-01 09:02:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:02:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:02:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:02:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:02:34
[2025-05-01 09:02:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:02:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:02:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:03:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:03:04
[2025-05-01 09:03:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:03:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:03:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:03:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:03:34
[2025-05-01 09:03:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:03:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:03:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:04:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:04:05
[2025-05-01 09:04:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:04:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:04:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:04:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:04:35
[2025-05-01 09:04:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:04:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:04:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:05:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:05:06
[2025-05-01 09:05:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:05:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:05:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:05:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:05:36
[2025-05-01 09:05:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:05:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:05:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:06:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:06:07
[2025-05-01 09:06:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:06:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:06:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:06:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:06:37
[2025-05-01 09:06:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:06:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:06:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:07:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:07:07
[2025-05-01 09:07:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:07:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:07:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:07:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:07:38
[2025-05-01 09:07:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:07:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:07:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:08:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:08:08
[2025-05-01 09:08:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:08:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:08:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:08:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:08:39
[2025-05-01 09:08:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:08:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:08:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:09:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:09:09
[2025-05-01 09:09:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:09:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:09:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:09:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:09:39
[2025-05-01 09:09:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:09:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:09:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:10:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:10:10
[2025-05-01 09:10:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:10:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:10:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:10:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:10:40
[2025-05-01 09:10:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:10:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:10:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:11:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:11:11
[2025-05-01 09:11:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:11:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:11:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:11:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:11:41
[2025-05-01 09:11:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:11:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:11:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:12:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:12:11
[2025-05-01 09:12:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:12:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:12:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:12:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:12:42
[2025-05-01 09:12:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:12:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:12:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:13:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:13:12
[2025-05-01 09:13:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:13:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:13:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:13:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:13:43
[2025-05-01 09:13:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:13:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:13:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:14:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:14:13
[2025-05-01 09:14:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:14:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:14:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:14:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:14:43
[2025-05-01 09:14:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:14:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:14:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:15:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:15:14
[2025-05-01 09:15:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:15:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:15:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:15:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:15:44
[2025-05-01 09:15:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:15:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:15:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:16:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:16:15
[2025-05-01 09:16:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:16:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:16:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:16:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:16:45
[2025-05-01 09:16:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:16:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:16:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:17:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:17:16
[2025-05-01 09:17:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:17:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:17:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:17:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:17:46
[2025-05-01 09:17:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:17:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:17:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:18:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:18:17
[2025-05-01 09:18:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:18:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:18:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:18:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:18:47
[2025-05-01 09:18:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:18:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:18:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:19:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:19:17
[2025-05-01 09:19:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:19:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:19:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:19:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:19:48
[2025-05-01 09:19:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:19:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:19:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:20:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:20:18
[2025-05-01 09:20:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:20:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:20:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:20:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:20:49
[2025-05-01 09:20:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:20:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:20:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:21:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:21:19
[2025-05-01 09:21:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:21:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:21:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:21:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:21:49
[2025-05-01 09:21:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:21:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:21:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:22:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:22:20
[2025-05-01 09:22:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:22:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:22:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:22:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:22:50
[2025-05-01 09:22:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:22:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:22:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:23:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:23:21
[2025-05-01 09:23:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:23:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:23:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:23:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:23:51
[2025-05-01 09:23:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:23:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:23:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:24:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:24:21
[2025-05-01 09:24:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:24:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:24:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:24:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:24:52
[2025-05-01 09:24:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:24:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:24:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:25:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:25:22
[2025-05-01 09:25:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:25:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:25:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:25:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:25:52
[2025-05-01 09:25:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:25:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:25:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:26:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:26:23
[2025-05-01 09:26:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:26:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:26:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:26:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:26:53
[2025-05-01 09:26:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:26:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:26:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:27:24] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:27:24
[2025-05-01 09:27:24] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:27:24] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:27:24] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:27:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:27:54
[2025-05-01 09:27:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:27:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:27:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:28:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:28:25
[2025-05-01 09:28:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:28:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:28:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:28:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:28:55
[2025-05-01 09:28:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:28:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:28:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:29:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:29:25
[2025-05-01 09:29:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:29:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:29:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:29:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:29:56
[2025-05-01 09:29:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:29:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:29:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:30:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:30:26
[2025-05-01 09:30:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:30:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:30:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:30:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:30:57
[2025-05-01 09:30:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:30:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:30:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:31:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:31:27
[2025-05-01 09:31:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:31:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:31:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:31:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:31:57
[2025-05-01 09:31:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:31:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:31:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:32:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:32:28
[2025-05-01 09:32:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:32:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:32:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:32:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:32:58
[2025-05-01 09:32:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:32:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:32:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:33:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:33:29
[2025-05-01 09:33:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:33:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:33:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:33:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:33:59
[2025-05-01 09:33:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:33:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:33:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:34:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:34:29
[2025-05-01 09:34:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:34:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:34:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:35:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:35:00
[2025-05-01 09:35:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:35:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:35:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:35:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:35:30
[2025-05-01 09:35:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:35:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:35:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:36:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:36:01
[2025-05-01 09:36:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:36:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:36:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:36:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:36:31
[2025-05-01 09:36:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:36:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:36:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:37:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:37:01
[2025-05-01 09:37:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:37:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:37:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:37:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:37:32
[2025-05-01 09:37:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:37:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:37:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:38:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:38:02
[2025-05-01 09:38:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:38:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:38:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:38:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:38:32
[2025-05-01 09:38:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:38:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:38:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:39:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:39:03
[2025-05-01 09:39:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:39:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:39:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:39:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:39:33
[2025-05-01 09:39:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:39:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:39:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:40:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:40:04
[2025-05-01 09:40:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:40:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:40:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:40:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:40:34
[2025-05-01 09:40:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:40:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:40:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:41:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:41:04
[2025-05-01 09:41:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:41:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:41:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:41:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:41:35
[2025-05-01 09:41:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:41:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:41:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:42:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:42:05
[2025-05-01 09:42:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:42:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:42:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:42:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:42:36
[2025-05-01 09:42:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:42:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:42:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:43:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:43:06
[2025-05-01 09:43:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:43:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:43:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:43:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:43:37
[2025-05-01 09:43:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:43:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:43:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:44:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:44:07
[2025-05-01 09:44:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:44:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:44:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:44:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:44:37
[2025-05-01 09:44:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:44:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:44:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:45:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:45:08
[2025-05-01 09:45:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:45:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:45:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:45:08] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.VideoHistoryDAO.GetExpiredUploadedVideosAsync(DateTime currentTime) in F:\Workspace\School_TV_BE\DAOs\VideoHistoryDAO.cs:line 44
   at Repos.VideoHistoryRepo.GetExpiredUploadedVideosAsync(DateTime currentTime) in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 50
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 362
[2025-05-01 09:45:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:45:38
[2025-05-01 09:45:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:45:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:45:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:46:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:46:09
[2025-05-01 09:46:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:46:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:46:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:46:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:46:39
[2025-05-01 09:46:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:46:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:46:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:47:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:47:09
[2025-05-01 09:47:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:47:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:47:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:47:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:47:40
[2025-05-01 09:47:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:47:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:47:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:48:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:48:10
[2025-05-01 09:48:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:48:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:48:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:48:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:48:41
[2025-05-01 09:48:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:48:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:48:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:49:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:49:11
[2025-05-01 09:49:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:49:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:49:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:49:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:49:41
[2025-05-01 09:49:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:49:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:49:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:50:02] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-01 09:50:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:50:12
[2025-05-01 09:50:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:50:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:50:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:50:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:50:43
[2025-05-01 09:50:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:50:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:50:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:51:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:51:13
[2025-05-01 09:51:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:51:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:51:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:51:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:51:44
[2025-05-01 09:51:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:51:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:51:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:52:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:52:14
[2025-05-01 09:52:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:52:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:52:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:52:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:52:44
[2025-05-01 09:52:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:52:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:52:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:53:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:53:15
[2025-05-01 09:53:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:53:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:53:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:53:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:53:45
[2025-05-01 09:53:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:53:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:53:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:54:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:54:16
[2025-05-01 09:54:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:54:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:54:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:54:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:54:46
[2025-05-01 09:54:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:54:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:54:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:55:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:55:16
[2025-05-01 09:55:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:55:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:55:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:55:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:55:47
[2025-05-01 09:55:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:55:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:55:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:56:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:56:17
[2025-05-01 09:56:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:56:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:56:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:56:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:56:48
[2025-05-01 09:56:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:56:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:56:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:57:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:57:18
[2025-05-01 09:57:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:57:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:57:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:57:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:57:49
[2025-05-01 09:57:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:57:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:57:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:58:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:58:19
[2025-05-01 09:58:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:58:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:58:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:58:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:58:49
[2025-05-01 09:58:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:58:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:58:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:59:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:59:20
[2025-05-01 09:59:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:59:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:59:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 09:59:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 09:59:50
[2025-05-01 09:59:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 09:59:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 09:59:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 10:00:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 10:00:21
[2025-05-01 10:00:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 10:00:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 10:00:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 10:00:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 10:00:51
[2025-05-01 10:00:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 10:00:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 10:00:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 10:01:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 10:01:21
[2025-05-01 10:01:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 10:01:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 10:01:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 10:01:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 10:01:52
[2025-05-01 10:01:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 10:01:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 10:01:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 10:02:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 10:02:22
[2025-05-01 10:02:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 10:02:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 10:02:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 10:02:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 10:02:53
[2025-05-01 10:02:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 10:02:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 10:02:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 10:03:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 10:03:23
[2025-05-01 10:03:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 10:03:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 10:03:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 10:03:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 10:03:53
[2025-05-01 10:03:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 10:03:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 10:03:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 10:04:24] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 10:04:24
[2025-05-01 10:04:24] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 10:04:24] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 10:04:24] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 10:04:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 10:04:55
[2025-05-01 10:04:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 10:04:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 10:04:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 10:05:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 10:05:25
[2025-05-01 10:05:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 10:05:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 10:05:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 10:05:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 10:05:56
[2025-05-01 10:05:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 10:05:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 10:05:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 10:06:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 10:06:26
[2025-05-01 10:06:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 10:06:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 10:06:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 10:06:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 10:06:57
[2025-05-01 10:06:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 10:06:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 10:06:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 10:07:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 10:07:27
[2025-05-01 10:07:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 10:07:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 10:07:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 10:07:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 10:07:57
[2025-05-01 10:07:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 10:07:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 10:07:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 10:08:17] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-01 10:08:18] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-01 10:08:18] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-01 10:08:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-01 10:08:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 10:08:26
[2025-05-01 10:09:14] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-01 10:09:15] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-01 10:09:15] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-01 10:09:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-01 10:09:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 10:09:21
[2025-05-01 10:09:33] [Error] Services.HostedServices.PendingAccountReminderService: Error while sending OTP reminders.
Exception: System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The client was unable to establish a connection because of an error during connection initialization process before login. Possible causes include the following:  the client tried to connect to an unsupported version of SQL Server; the server was too busy to accept new connections; or there was a resource limitation (insufficient memory or maximum allowed connections) on the server. (provider: TCP Provider, error: 0 - An existing connection was forcibly closed by the remote host.)
 ---> System.ComponentModel.Win32Exception (10054): An existing connection was forcibly closed by the remote host.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.SNIWritePacket(PacketHandle packet, UInt32& sniError, Boolean canAccumulate, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.WriteSni(Boolean canAccumulate)
   at Microsoft.Data.SqlClient.TdsParserStateObject.WritePacket(Byte flushMode, Boolean canAccumulate)
   at Microsoft.Data.SqlClient.TdsParser.SendPreLoginHandshake(Byte[] instanceName, SqlConnectionEncryptOption encrypt, Boolean integratedSecurity, String serverCertificateFilename)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:209938d2-c525-4fbd-820b-228974883b05
Error Number:10054,State:0,Class:20
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.AccountDAO.GetPendingAccountsOlderThanAsync(DateTime threshold) in F:\Workspace\School_TV_BE\DAOs\AccountDAO.cs:line 235
   at Repos.AccountRepo.GetPendingAccountsOlderThanAsync(DateTime threshold) in F:\Workspace\School_TV_BE\Repos\AccountRepo.cs:line 50
   at Services.AccountService.GetPendingAccountsAsync(DateTime threshold) in F:\Workspace\School_TV_BE\Services\AccountService.cs:line 74
   at Services.HostedServices.PendingAccountReminderService.SendPendingAccountRemindersAsync() in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\PendingAccountReminderService.cs:line 58
[2025-05-01 10:09:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 10:09:43] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip marking READY for ScheduleID 1 because it's already past StartTime: 04/30/2025 19:58:07
[2025-05-01 10:09:47] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-01 10:09:47] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-01 10:09:47] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-01 10:09:47] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-01 10:09:47] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-01 10:09:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 10:10:55] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-01 10:10:56] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-01 10:10:56] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-01 10:10:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-01 10:10:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 10:10:56
[2025-05-01 10:10:56] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-01 10:10:56] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-01 10:10:57] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-01 10:10:57] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-01 10:10:57] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-01 10:10:57] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-01 10:10:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 10:10:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 10:11:30] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-01 10:11:31] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-01 10:11:31] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-01 10:11:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-01 10:11:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 10:11:31
[2025-05-01 10:11:35] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-01 10:11:35] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-01 10:11:36] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-01 10:11:36] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-01 10:11:36] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-01 10:11:36] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-01 10:11:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 10:14:56] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-01 10:14:57] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-01 10:14:57] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-01 10:14:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-01 10:14:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 10:14:58
[2025-05-01 10:15:01] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-01 10:15:01] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-01 10:15:01] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-01 10:15:01] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-01 10:15:01] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-01 10:15:01] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-01 10:15:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 10:15:22] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-01 10:15:23] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-01 10:15:23] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-01 10:15:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-01 10:15:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 10:15:23
[2025-05-01 10:15:43] [Error] Services.HostedServices.PendingAccountReminderService: Error while sending OTP reminders.
Exception: System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The client was unable to establish a connection because of an error during connection initialization process before login. Possible causes include the following:  the client tried to connect to an unsupported version of SQL Server; the server was too busy to accept new connections; or there was a resource limitation (insufficient memory or maximum allowed connections) on the server. (provider: TCP Provider, error: 0 - An existing connection was forcibly closed by the remote host.)
 ---> System.ComponentModel.Win32Exception (10054): An existing connection was forcibly closed by the remote host.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.SNIWritePacket(PacketHandle packet, UInt32& sniError, Boolean canAccumulate, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.WriteSni(Boolean canAccumulate)
   at Microsoft.Data.SqlClient.TdsParserStateObject.WritePacket(Byte flushMode, Boolean canAccumulate)
   at Microsoft.Data.SqlClient.TdsParser.SendPreLoginHandshake(Byte[] instanceName, SqlConnectionEncryptOption encrypt, Boolean integratedSecurity, String serverCertificateFilename)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:bbdd249b-6b85-486e-b712-0020de10634c
Error Number:10054,State:0,Class:20
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.AccountDAO.GetPendingAccountsOlderThanAsync(DateTime threshold) in F:\Workspace\School_TV_BE\DAOs\AccountDAO.cs:line 235
   at Repos.AccountRepo.GetPendingAccountsOlderThanAsync(DateTime threshold) in F:\Workspace\School_TV_BE\Repos\AccountRepo.cs:line 50
   at Services.AccountService.GetPendingAccountsAsync(DateTime threshold) in F:\Workspace\School_TV_BE\Services\AccountService.cs:line 74
   at Services.HostedServices.PendingAccountReminderService.SendPendingAccountRemindersAsync() in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\PendingAccountReminderService.cs:line 58
[2025-05-01 10:15:43] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-01 10:15:43] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-01 10:15:43] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-01 10:15:43] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-01 10:15:43] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-01 10:16:11] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-01 10:16:12] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-01 10:16:12] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-01 10:16:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-01 10:16:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 10:16:13
[2025-05-01 10:16:16] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-01 10:16:16] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-01 10:16:16] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-01 10:16:16] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-01 10:16:16] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-01 10:16:16] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-01 10:16:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 10:16:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 1 marked as READY.
[2025-05-01 10:17:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: ✅ Saved READY schedules to database.
[2025-05-01 10:17:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 10:17:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 10:17:44
[2025-05-01 10:17:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 10:17:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 10:18:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 10:18:14
[2025-05-01 10:18:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 10:18:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 10:18:34] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-01 10:18:35] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-01 10:18:35] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-01 10:18:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-01 10:18:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 10:18:35
[2025-05-01 10:18:35] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-01 10:18:35] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-01 10:18:35] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-01 10:18:35] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-01 10:18:35] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-01 10:18:35] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-01 10:18:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 10:18:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 10:19:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 10:19:06
[2025-05-01 10:19:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 10:19:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 10:20:11] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-01 10:20:12] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-01 10:20:12] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-01 10:20:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-01 10:20:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 10:20:12
[2025-05-01 10:20:13] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-01 10:20:13] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-01 10:20:13] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-01 10:20:13] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-01 10:20:13] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-01 10:20:13] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-01 10:20:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 10:20:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 10:20:55] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request POST https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs
[2025-05-01 10:20:55] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request POST https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs
[2025-05-01 10:20:56] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1507.4422ms - 200
[2025-05-01 10:20:56] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 3049.3427ms - 200
[2025-05-01 10:21:05] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: No email found for ScheduleID 1's streamer.
[2025-05-01 10:21:05] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 10:21:05] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 10:21:05] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 305.9194ms - 200
[2025-05-01 10:21:05] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 307.3752ms - 200
[2025-05-01 10:21:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 10:21:35
[2025-05-01 10:21:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 10:21:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 10:21:36] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 10:21:36] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 10:21:37] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1177.0103ms - 200
[2025-05-01 10:21:37] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1178.6079ms - 200
[2025-05-01 11:39:47] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-01 11:39:53] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-01 11:39:53] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-01 11:39:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-01 11:39:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 11:39:53
[2025-05-01 11:39:54] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-01 11:39:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 11:39:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 11:39:56] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-01 11:39:56] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-01 11:39:56] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-01 11:39:56] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-01 11:39:56] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-01 11:40:03] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.Exception: No follows found for this account.
   at Services.ProgramFollowService.GetByAccountIdAsync(Int32 accountId) in F:\Workspace\School_TV_BE\Services\ProgramFollowService.cs:line 53
   at School_TV_Show.Controllers.ProgramFollowController.GetByAccountId(Int32 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ProgramFollowController.cs:line 37
   at lambda_method174(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 11:40:22] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 79
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 376
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 11:40:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 11:40:26
[2025-05-01 11:40:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 11:40:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 11:40:49] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.Exception: No follows found for this account.
   at Services.ProgramFollowService.GetByAccountIdAsync(Int32 accountId) in F:\Workspace\School_TV_BE\Services\ProgramFollowService.cs:line 53
   at School_TV_Show.Controllers.ProgramFollowController.GetByAccountId(Int32 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ProgramFollowController.cs:line 37
   at lambda_method174(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 11:40:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 11:40:56
[2025-05-01 11:40:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 11:40:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 11:41:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 11:41:27
[2025-05-01 11:41:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 11:41:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 11:41:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 11:41:57
[2025-05-01 11:41:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 11:41:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 11:42:20] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 125
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 36
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 11:42:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 11:42:27
[2025-05-01 11:42:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 11:42:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 11:43:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 11:43:12
[2025-05-01 11:43:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 11:43:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 11:44:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 11:44:00
[2025-05-01 11:44:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 11:44:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 11:44:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 11:44:30
[2025-05-01 11:44:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 11:44:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 11:45:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 11:45:00
[2025-05-01 11:45:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 11:45:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 11:45:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 11:45:31
[2025-05-01 11:45:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 11:45:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 11:46:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 11:46:01
[2025-05-01 11:46:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 11:46:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 11:46:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 11:46:31
[2025-05-01 11:46:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 11:46:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 11:47:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 11:47:01
[2025-05-01 11:47:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 11:47:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 11:47:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 11:47:32
[2025-05-01 11:47:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 11:47:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 11:48:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 11:48:02
[2025-05-01 11:48:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 11:48:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 11:48:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 11:48:32
[2025-05-01 11:48:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 11:48:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 11:49:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 11:49:03
[2025-05-01 11:49:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 11:49:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 11:49:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 11:49:33
[2025-05-01 11:49:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 11:49:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 11:50:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 11:50:03
[2025-05-01 11:50:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 11:50:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 11:50:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 11:50:33
[2025-05-01 11:50:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 11:50:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 11:51:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 11:51:04
[2025-05-01 11:51:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 11:51:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 11:51:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 11:51:34
[2025-05-01 11:51:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 11:51:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 11:51:49] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"ccb12e65cde0a166e689c064ef3e05f8","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/ccb12e65cde0a166e689c064ef3e05f8/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-01T04:51:38.707013Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program asd 01 May 25 04:50 UTC"},"created":"2025-05-01T04:50:34.616581Z","modified":"2025-05-01T04:51:38.707821Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/ccb12e65cde0a166e689c064ef3e05f8/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-01T04:50:34.616574Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":41.71,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/ccb12e65cde0a166e689c064ef3e05f8/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/ccb12e65cde0a166e689c064ef3e05f8/manifest/video.mpd"},"watermark":null,"liveInput":"7f641662439df5abf9ca1009c1df27ba","clippedFrom":null,"publicDetails":null}
[2025-05-01 11:51:49] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: 7f641662439df5abf9ca1009c1df27ba
[2025-05-01 11:51:49] [Information] School_TV_Show.Controllers.LiveStreamController: Stream duration from Cloudflare: 0.011586111111111111 hours
[2025-05-01 11:51:50] [Information] School_TV_Show.Controllers.LiveStreamController: Updated account package - Hours used: 0.027805555555555556, Remaining: 39.97219444444445
[2025-05-01 11:52:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 11:52:04
[2025-05-01 11:52:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 11:52:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 11:52:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 11:52:34
[2025-05-01 11:52:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 11:52:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 11:53:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 11:53:05
[2025-05-01 11:53:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 11:53:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 11:53:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 11:53:35
[2025-05-01 11:53:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 11:53:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 11:54:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 11:54:15
[2025-05-01 11:54:18] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"209f4cf906626ce754948102bd6df787","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/209f4cf906626ce754948102bd6df787/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-01T04:53:48.01549Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program asd 01 May 25 04:52 UTC"},"created":"2025-05-01T04:52:51.060918Z","modified":"2025-05-01T04:53:48.016391Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/209f4cf906626ce754948102bd6df787/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-01T04:52:51.060911Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":33.37,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/209f4cf906626ce754948102bd6df787/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/209f4cf906626ce754948102bd6df787/manifest/video.mpd"},"watermark":null,"liveInput":"7f641662439df5abf9ca1009c1df27ba","clippedFrom":null,"publicDetails":null}
[2025-05-01 11:54:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 11:54:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 11:54:23] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: 7f641662439df5abf9ca1009c1df27ba
[2025-05-01 11:54:36] [Information] School_TV_Show.Controllers.LiveStreamController: Stream duration from Cloudflare: 0.009269444444444443 hours
[2025-05-01 11:57:11] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-01 11:57:16] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-01 11:57:16] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-01 11:57:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-01 11:57:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 11:57:16
[2025-05-01 11:57:17] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-01 11:57:17] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-01 11:57:17] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-01 11:57:17] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-01 11:57:17] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-01 11:57:17] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-01 11:57:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 11:57:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 11:57:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 11:57:47
[2025-05-01 11:57:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 11:57:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 11:59:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 11:59:47
[2025-05-01 11:59:50] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"209f4cf906626ce754948102bd6df787","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/209f4cf906626ce754948102bd6df787/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-01T04:53:48.01549Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program asd 01 May 25 04:52 UTC"},"created":"2025-05-01T04:52:51.060918Z","modified":"2025-05-01T04:53:48.016391Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/209f4cf906626ce754948102bd6df787/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-01T04:52:51.060911Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":33.37,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/209f4cf906626ce754948102bd6df787/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/209f4cf906626ce754948102bd6df787/manifest/video.mpd"},"watermark":null,"liveInput":"7f641662439df5abf9ca1009c1df27ba","clippedFrom":null,"publicDetails":null}
[2025-05-01 11:59:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 11:59:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 11:59:57] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: 7f641662439df5abf9ca1009c1df27ba
[2025-05-01 12:01:32] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"2b921bd9f5afe976161f248b6adf8668","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/2b921bd9f5afe976161f248b6adf8668/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-01T05:00:00.679704Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program asd 01 May 25 04:57 UTC"},"created":"2025-05-01T04:57:42.719959Z","modified":"2025-05-01T05:00:00.680852Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/2b921bd9f5afe976161f248b6adf8668/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-01T04:57:42.719953Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":116.78,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/2b921bd9f5afe976161f248b6adf8668/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/2b921bd9f5afe976161f248b6adf8668/manifest/video.mpd"},"watermark":null,"liveInput":"7f641662439df5abf9ca1009c1df27ba","clippedFrom":null,"publicDetails":null}
[2025-05-01 12:01:32] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"2b921bd9f5afe976161f248b6adf8668","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/2b921bd9f5afe976161f248b6adf8668/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-01T05:00:00.679704Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program asd 01 May 25 04:57 UTC"},"created":"2025-05-01T04:57:42.719959Z","modified":"2025-05-01T05:00:00.680852Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/2b921bd9f5afe976161f248b6adf8668/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-01T04:57:42.719953Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":116.78,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/2b921bd9f5afe976161f248b6adf8668/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/2b921bd9f5afe976161f248b6adf8668/manifest/video.mpd"},"watermark":null,"liveInput":"7f641662439df5abf9ca1009c1df27ba","clippedFrom":null,"publicDetails":null}
[2025-05-01 12:01:46] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: 7f641662439df5abf9ca1009c1df27ba
[2025-05-01 12:01:48] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: 7f641662439df5abf9ca1009c1df27ba
[2025-05-01 12:01:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:01:48
[2025-05-01 12:01:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:01:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:02:15] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"2b921bd9f5afe976161f248b6adf8668","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/2b921bd9f5afe976161f248b6adf8668/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-01T05:00:00.679704Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program asd 01 May 25 04:57 UTC"},"created":"2025-05-01T04:57:42.719959Z","modified":"2025-05-01T05:00:00.680852Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/2b921bd9f5afe976161f248b6adf8668/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-01T04:57:42.719953Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":116.78,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/2b921bd9f5afe976161f248b6adf8668/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/2b921bd9f5afe976161f248b6adf8668/manifest/video.mpd"},"watermark":null,"liveInput":"7f641662439df5abf9ca1009c1df27ba","clippedFrom":null,"publicDetails":null}
[2025-05-01 12:02:15] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: 7f641662439df5abf9ca1009c1df27ba
[2025-05-01 12:02:44] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-01 12:02:45] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-01 12:02:45] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-01 12:02:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-01 12:02:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:02:46
[2025-05-01 12:02:46] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-01 12:02:46] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-01 12:02:46] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-01 12:02:46] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-01 12:02:46] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-01 12:02:46] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-01 12:02:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:02:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:03:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:03:17
[2025-05-01 12:03:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:03:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:03:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:03:47
[2025-05-01 12:03:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:03:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:04:08] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"6aefc4696ff31737c8093b7c05907e15","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/6aefc4696ff31737c8093b7c05907e15/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-01T05:03:54.970569Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program asd 01 May 25 05:03 UTC"},"created":"2025-05-01T05:03:08.455904Z","modified":"2025-05-01T05:03:54.972232Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/6aefc4696ff31737c8093b7c05907e15/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-01T05:03:08.455899Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":25.02,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/6aefc4696ff31737c8093b7c05907e15/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/6aefc4696ff31737c8093b7c05907e15/manifest/video.mpd"},"watermark":null,"liveInput":"7f641662439df5abf9ca1009c1df27ba","clippedFrom":null,"publicDetails":null}
[2025-05-01 12:04:08] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: 7f641662439df5abf9ca1009c1df27ba
[2025-05-01 12:04:08] [Information] School_TV_Show.Controllers.LiveStreamController: Stream duration from Cloudflare: 0.00695 hours
[2025-05-01 12:04:09] [Information] School_TV_Show.Controllers.LiveStreamController: Updated account package - Hours used: 0.03475555555555555, Remaining: 39.965244444444444
[2025-05-01 12:04:13] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"2b921bd9f5afe976161f248b6adf8668","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/2b921bd9f5afe976161f248b6adf8668/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-01T05:00:00.679704Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program asd 01 May 25 04:57 UTC"},"created":"2025-05-01T04:57:42.719959Z","modified":"2025-05-01T05:00:00.680852Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/2b921bd9f5afe976161f248b6adf8668/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-01T04:57:42.719953Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":116.78,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/2b921bd9f5afe976161f248b6adf8668/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/2b921bd9f5afe976161f248b6adf8668/manifest/video.mpd"},"watermark":null,"liveInput":"7f641662439df5abf9ca1009c1df27ba","clippedFrom":null,"publicDetails":null}
[2025-05-01 12:04:13] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: 7f641662439df5abf9ca1009c1df27ba
[2025-05-01 12:04:13] [Information] School_TV_Show.Controllers.LiveStreamController: Stream duration from Cloudflare: 0.03243888888888889 hours
[2025-05-01 12:04:14] [Information] School_TV_Show.Controllers.LiveStreamController: Updated account package - Hours used: 0.06719444444444445, Remaining: 39.932805555555554
[2025-05-01 12:04:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:04:18
[2025-05-01 12:04:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:04:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:04:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:04:48
[2025-05-01 12:04:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:04:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:05:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:05:18
[2025-05-01 12:05:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:05:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:05:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:05:48
[2025-05-01 12:05:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:05:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:06:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:06:19
[2025-05-01 12:06:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:06:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:06:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:06:49
[2025-05-01 12:06:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:06:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:07:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:07:19
[2025-05-01 12:07:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:07:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:07:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:07:50
[2025-05-01 12:07:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:07:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:08:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:08:20
[2025-05-01 12:08:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:08:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:08:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:08:50
[2025-05-01 12:08:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:08:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:09:14] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-01 12:09:16] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-01 12:09:16] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-01 12:09:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-01 12:09:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:09:16
[2025-05-01 12:09:17] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-01 12:09:17] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-01 12:09:17] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-01 12:09:17] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-01 12:09:17] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-01 12:09:17] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-01 12:09:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:09:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:09:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:09:47
[2025-05-01 12:09:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:09:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:10:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:10:18
[2025-05-01 12:10:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 12:10:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 2 marked as READY.
[2025-05-01 12:10:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: ✅ Saved READY schedules to database.
[2025-05-01 12:10:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 12:10:18] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:10:18] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:10:19] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 588.7346ms - 200
[2025-05-01 12:10:19] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 605.5084ms - 200
[2025-05-01 12:10:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:10:49
[2025-05-01 12:10:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:10:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 12:10:49] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:10:49] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:10:49] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 349.1804ms - 200
[2025-05-01 12:10:49] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 350.2527ms - 200
[2025-05-01 12:11:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:11:19
[2025-05-01 12:11:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:11:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 12:11:20] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:11:20] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:11:20] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 507.087ms - 200
[2025-05-01 12:11:20] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 510.0048ms - 200
[2025-05-01 12:11:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:11:50
[2025-05-01 12:11:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:11:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 2
[2025-05-01 12:11:51] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:11:51] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:11:51] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 337.458ms - 200
[2025-05-01 12:11:51] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 341.6948ms - 200
[2025-05-01 12:11:51] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b68fc13b9e038f0c405068eb7e531ba/videos
[2025-05-01 12:11:51] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b68fc13b9e038f0c405068eb7e531ba/videos
[2025-05-01 12:11:51] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 265.4516ms - 200
[2025-05-01 12:11:51] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 268.3414ms - 200
[2025-05-01 12:11:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Streamer started broadcasting, ScheduleID 3 marked LIVE.
[2025-05-01 12:11:51] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b68fc13b9e038f0c405068eb7e531ba/videos
[2025-05-01 12:11:51] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b68fc13b9e038f0c405068eb7e531ba/videos
[2025-05-01 12:11:52] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 264.8198ms - 200
[2025-05-01 12:11:52] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 272.718ms - 200
[2025-05-01 12:12:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:12:22
[2025-05-01 12:12:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:12:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 12:12:22] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:12:22] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:12:22] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 373.7029ms - 200
[2025-05-01 12:12:22] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 375.0082ms - 200
[2025-05-01 12:12:22] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b68fc13b9e038f0c405068eb7e531ba/videos
[2025-05-01 12:12:22] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b68fc13b9e038f0c405068eb7e531ba/videos
[2025-05-01 12:12:23] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 249.5321ms - 200
[2025-05-01 12:12:23] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 251.4502ms - 200
[2025-05-01 12:12:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:12:53
[2025-05-01 12:12:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:12:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 12:12:53] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:12:53] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:12:53] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 552.0229ms - 200
[2025-05-01 12:12:53] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 553.1721ms - 200
[2025-05-01 12:12:54] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b68fc13b9e038f0c405068eb7e531ba/videos
[2025-05-01 12:12:54] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b68fc13b9e038f0c405068eb7e531ba/videos
[2025-05-01 12:12:54] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 258.1507ms - 200
[2025-05-01 12:12:54] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 263.5942ms - 200
[2025-05-01 12:13:24] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:13:24
[2025-05-01 12:13:24] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:13:24] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 12:13:24] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:13:24] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:13:25] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 473.5345ms - 200
[2025-05-01 12:13:25] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 476.9792ms - 200
[2025-05-01 12:13:25] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b68fc13b9e038f0c405068eb7e531ba/videos
[2025-05-01 12:13:25] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b68fc13b9e038f0c405068eb7e531ba/videos
[2025-05-01 12:13:25] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 248.0706ms - 200
[2025-05-01 12:13:25] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 251.4069ms - 200
[2025-05-01 12:13:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:13:55
[2025-05-01 12:13:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:13:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 12:13:55] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:13:55] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:13:56] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 341.2408ms - 200
[2025-05-01 12:13:56] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 344.7224ms - 200
[2025-05-01 12:13:56] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b68fc13b9e038f0c405068eb7e531ba/videos
[2025-05-01 12:13:56] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b68fc13b9e038f0c405068eb7e531ba/videos
[2025-05-01 12:13:56] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 247.1382ms - 200
[2025-05-01 12:13:56] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 248.9854ms - 200
[2025-05-01 12:14:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:14:26
[2025-05-01 12:14:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:14:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 12:14:26] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:14:26] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:14:27] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 344.754ms - 200
[2025-05-01 12:14:27] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 350.6226ms - 200
[2025-05-01 12:14:27] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b68fc13b9e038f0c405068eb7e531ba/videos
[2025-05-01 12:14:27] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b68fc13b9e038f0c405068eb7e531ba/videos
[2025-05-01 12:14:27] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 294.4241ms - 200
[2025-05-01 12:14:27] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 296.5185ms - 200
[2025-05-01 12:14:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:14:57
[2025-05-01 12:14:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:14:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 12:14:57] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:14:57] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:14:58] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"0b6fbcf1add5adf97f09a4aeb5d07181","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/0b6fbcf1add5adf97f09a4aeb5d07181/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-01T05:14:47.275199Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program bbb 01 May 25 05:11 UTC"},"created":"2025-05-01T05:11:48.546017Z","modified":"2025-05-01T05:14:47.276687Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/0b6fbcf1add5adf97f09a4aeb5d07181/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-01T05:11:48.546012Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":158.49,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/0b6fbcf1add5adf97f09a4aeb5d07181/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/0b6fbcf1add5adf97f09a4aeb5d07181/manifest/video.mpd"},"watermark":null,"liveInput":"6b68fc13b9e038f0c405068eb7e531ba","clippedFrom":null,"publicDetails":null}
[2025-05-01 12:14:58] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: 6b68fc13b9e038f0c405068eb7e531ba
[2025-05-01 12:14:58] [Information] School_TV_Show.Controllers.LiveStreamController: Stream duration from Cloudflare: 0.044025 hours
[2025-05-01 12:14:58] [Information] School_TV_Show.Controllers.LiveStreamController: Updated account package - Hours used: 0.11121944444444445, Remaining: 39.888780555555556
[2025-05-01 12:14:58] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 725.0866ms - 200
[2025-05-01 12:14:58] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 726.272ms - 200
[2025-05-01 12:14:58] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b68fc13b9e038f0c405068eb7e531ba/videos
[2025-05-01 12:14:58] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b68fc13b9e038f0c405068eb7e531ba/videos
[2025-05-01 12:14:58] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 256.4126ms - 200
[2025-05-01 12:14:58] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 257.9694ms - 200
[2025-05-01 12:14:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip early end check for ScheduleID 3 - within 5-minute grace after StartTime 05/01/2025 12:14:00
[2025-05-01 12:15:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:15:29
[2025-05-01 12:15:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:15:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 12:15:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:15:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:15:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 476.398ms - 200
[2025-05-01 12:15:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 478.2177ms - 200
[2025-05-01 12:15:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b68fc13b9e038f0c405068eb7e531ba/videos
[2025-05-01 12:15:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b68fc13b9e038f0c405068eb7e531ba/videos
[2025-05-01 12:15:30] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 313.1047ms - 200
[2025-05-01 12:15:30] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 315.3412ms - 200
[2025-05-01 12:15:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip early end check for ScheduleID 3 - within 5-minute grace after StartTime 05/01/2025 12:14:00
[2025-05-01 12:15:30] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b68fc13b9e038f0c405068eb7e531ba/videos
[2025-05-01 12:15:30] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b68fc13b9e038f0c405068eb7e531ba/videos
[2025-05-01 12:15:30] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 253.1446ms - 200
[2025-05-01 12:15:30] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 254.0368ms - 200
[2025-05-01 12:15:30] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request POST https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/0b6fbcf1add5adf97f09a4aeb5d07181/downloads
[2025-05-01 12:15:30] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request POST https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/0b6fbcf1add5adf97f09a4aeb5d07181/downloads
[2025-05-01 12:15:31] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 706.5263ms - 200
[2025-05-01 12:15:31] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 708.0359ms - 200
[2025-05-01 12:15:46] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/0b6fbcf1add5adf97f09a4aeb5d07181/downloads
[2025-05-01 12:15:46] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/0b6fbcf1add5adf97f09a4aeb5d07181/downloads
[2025-05-01 12:15:46] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 281.2904ms - 200
[2025-05-01 12:15:46] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 282.2528ms - 200
[2025-05-01 12:15:46] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request DELETE https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b68fc13b9e038f0c405068eb7e531ba
[2025-05-01 12:15:46] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request DELETE https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b68fc13b9e038f0c405068eb7e531ba
[2025-05-01 12:15:46] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 337.6295ms - 200
[2025-05-01 12:15:46] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 338.5413ms - 200
[2025-05-01 12:15:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Force-ended overdue livestream for ScheduleID 3, recordings saved.
[2025-05-01 12:16:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:16:16
[2025-05-01 12:16:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:16:16] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 2 marked as LateStart at 05/01/2025 12:16:16.
[2025-05-01 12:16:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:16:17] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:16:17] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:16:17] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 414.5431ms - 200
[2025-05-01 12:16:17] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 417.0519ms - 200
[2025-05-01 12:16:17] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:16:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:16:47
[2025-05-01 12:16:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:16:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:16:48] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:16:48] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:16:48] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 400.1989ms - 200
[2025-05-01 12:16:48] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 400.9728ms - 200
[2025-05-01 12:16:48] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:17:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:17:18
[2025-05-01 12:17:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:17:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:17:18] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:17:18] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:17:19] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 349.8751ms - 200
[2025-05-01 12:17:19] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 350.9225ms - 200
[2025-05-01 12:17:19] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:17:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:17:49
[2025-05-01 12:17:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:17:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:17:49] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:17:49] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:17:50] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 443.7708ms - 200
[2025-05-01 12:17:50] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 445.2321ms - 200
[2025-05-01 12:17:50] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:18:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:18:20
[2025-05-01 12:18:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:18:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:18:20] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:18:20] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:18:21] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 393.9318ms - 200
[2025-05-01 12:18:21] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 395.6087ms - 200
[2025-05-01 12:18:21] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:18:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:18:51
[2025-05-01 12:18:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:18:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:18:51] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:18:51] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:18:51] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 359.1066ms - 200
[2025-05-01 12:18:51] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 360.0552ms - 200
[2025-05-01 12:18:52] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:19:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:19:22
[2025-05-01 12:19:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:19:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:19:22] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:19:22] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:19:22] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 426.0867ms - 200
[2025-05-01 12:19:22] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 428.415ms - 200
[2025-05-01 12:19:23] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:19:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:19:53
[2025-05-01 12:19:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:19:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:19:53] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:19:53] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:19:53] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 434.5396ms - 200
[2025-05-01 12:19:53] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 435.583ms - 200
[2025-05-01 12:19:54] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:20:24] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:20:24
[2025-05-01 12:20:24] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:20:24] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:20:24] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:20:24] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:20:24] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 335.7575ms - 200
[2025-05-01 12:20:24] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 336.9224ms - 200
[2025-05-01 12:20:24] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:20:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:20:54
[2025-05-01 12:20:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:20:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:20:55] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:20:55] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:20:55] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 336.995ms - 200
[2025-05-01 12:20:55] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 339.3596ms - 200
[2025-05-01 12:20:55] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:21:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:21:25
[2025-05-01 12:21:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:21:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:21:25] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:21:25] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:21:26] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 536.0459ms - 200
[2025-05-01 12:21:26] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 536.8191ms - 200
[2025-05-01 12:21:26] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:21:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:21:56
[2025-05-01 12:21:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:21:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:21:56] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:21:56] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:21:57] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 472.7864ms - 200
[2025-05-01 12:21:57] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 473.8326ms - 200
[2025-05-01 12:21:57] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:22:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:22:27
[2025-05-01 12:22:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:22:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:22:27] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:22:27] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:22:28] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 365.7734ms - 200
[2025-05-01 12:22:28] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 368.2191ms - 200
[2025-05-01 12:22:28] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:22:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:22:58
[2025-05-01 12:22:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:22:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:22:58] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:22:58] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:22:59] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 358.6292ms - 200
[2025-05-01 12:22:59] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 360.1441ms - 200
[2025-05-01 12:22:59] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:23:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:23:29
[2025-05-01 12:23:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:23:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:23:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:23:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:23:30] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1421.2389ms - 200
[2025-05-01 12:23:30] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1422.3473ms - 200
[2025-05-01 12:23:31] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:24:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:24:01
[2025-05-01 12:24:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:24:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:24:01] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:24:01] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:24:02] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 756.5462ms - 200
[2025-05-01 12:24:02] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 767.0488ms - 200
[2025-05-01 12:24:02] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:24:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:24:32
[2025-05-01 12:24:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:24:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:24:32] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:24:32] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:24:33] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 431.5166ms - 200
[2025-05-01 12:24:33] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 434.4746ms - 200
[2025-05-01 12:24:33] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:25:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:25:03
[2025-05-01 12:25:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:25:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:25:03] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:25:03] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:25:05] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1716.9962ms - 200
[2025-05-01 12:25:05] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1717.8318ms - 200
[2025-05-01 12:25:05] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:25:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:25:35
[2025-05-01 12:25:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:25:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:25:35] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:25:35] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:25:36] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 568.7975ms - 200
[2025-05-01 12:25:36] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 569.6988ms - 200
[2025-05-01 12:25:36] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:26:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:26:06
[2025-05-01 12:26:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:26:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:26:06] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:26:06] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:26:07] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 476.812ms - 200
[2025-05-01 12:26:07] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 477.5482ms - 200
[2025-05-01 12:26:07] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:26:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:26:37
[2025-05-01 12:26:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:26:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:26:37] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:26:37] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:26:38] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 371.396ms - 200
[2025-05-01 12:26:38] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 377.4805ms - 200
[2025-05-01 12:26:38] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:27:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:27:08
[2025-05-01 12:27:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:27:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:27:08] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:27:08] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:27:09] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 433.4546ms - 200
[2025-05-01 12:27:09] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 436.402ms - 200
[2025-05-01 12:27:09] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:27:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:27:39
[2025-05-01 12:27:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:27:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:27:39] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:27:39] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:27:40] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 503.6342ms - 200
[2025-05-01 12:27:40] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 504.539ms - 200
[2025-05-01 12:27:40] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:28:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:28:10
[2025-05-01 12:28:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:28:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:28:10] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:28:10] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:28:11] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 451.7162ms - 200
[2025-05-01 12:28:11] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 452.5745ms - 200
[2025-05-01 12:28:11] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:28:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:28:41
[2025-05-01 12:28:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:28:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:28:41] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:28:41] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:28:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 357.6835ms - 200
[2025-05-01 12:28:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 359.2146ms - 200
[2025-05-01 12:28:42] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:29:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:29:12
[2025-05-01 12:29:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:29:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:29:12] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:29:12] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:29:12] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 385.6328ms - 200
[2025-05-01 12:29:12] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 386.8166ms - 200
[2025-05-01 12:29:13] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:29:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:29:43
[2025-05-01 12:29:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:29:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:29:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:29:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:29:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 382.053ms - 200
[2025-05-01 12:29:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 383.0232ms - 200
[2025-05-01 12:29:44] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:30:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:30:14
[2025-05-01 12:30:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:30:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:30:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:30:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:30:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 461.9675ms - 200
[2025-05-01 12:30:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 464.4953ms - 200
[2025-05-01 12:30:14] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:30:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:30:44
[2025-05-01 12:30:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:30:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:30:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:30:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:30:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 394.607ms - 200
[2025-05-01 12:30:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 395.7107ms - 200
[2025-05-01 12:30:45] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:31:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:31:15
[2025-05-01 12:31:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:31:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:31:15] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:31:15] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:31:16] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 379.5903ms - 200
[2025-05-01 12:31:16] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 382.278ms - 200
[2025-05-01 12:31:16] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:31:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:31:46
[2025-05-01 12:31:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:31:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:31:46] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:31:46] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:31:47] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 372.0758ms - 200
[2025-05-01 12:31:47] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 373.1547ms - 200
[2025-05-01 12:31:47] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:32:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:32:17
[2025-05-01 12:32:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:32:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:32:17] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:32:17] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:32:18] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 518.2845ms - 200
[2025-05-01 12:32:18] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 519.5454ms - 200
[2025-05-01 12:32:18] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:32:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:32:48
[2025-05-01 12:32:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:32:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:32:48] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:32:48] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:32:48] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 359.1122ms - 200
[2025-05-01 12:32:48] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 360.1835ms - 200
[2025-05-01 12:32:49] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:33:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:33:19
[2025-05-01 12:33:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:33:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:33:19] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:33:19] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:33:19] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 351.6802ms - 200
[2025-05-01 12:33:19] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 352.8631ms - 200
[2025-05-01 12:33:19] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:33:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:33:49
[2025-05-01 12:33:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:33:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:33:50] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:33:50] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:33:51] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1364.9781ms - 200
[2025-05-01 12:33:51] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1366.7555ms - 200
[2025-05-01 12:33:51] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:34:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:34:21
[2025-05-01 12:34:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:34:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:34:21] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:34:21] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:34:22] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 452.2637ms - 200
[2025-05-01 12:34:22] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 453.7472ms - 200
[2025-05-01 12:34:22] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:34:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:34:52
[2025-05-01 12:34:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:34:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:34:52] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:34:52] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:34:53] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 336.1277ms - 200
[2025-05-01 12:34:53] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 337.12ms - 200
[2025-05-01 12:34:53] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:35:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:35:23
[2025-05-01 12:35:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:35:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:35:23] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:35:23] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:35:23] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 368.6965ms - 200
[2025-05-01 12:35:23] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 369.6489ms - 200
[2025-05-01 12:35:24] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:35:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:35:54
[2025-05-01 12:35:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:35:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:35:54] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:35:54] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:35:54] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 383.2279ms - 200
[2025-05-01 12:35:54] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 384.4313ms - 200
[2025-05-01 12:35:55] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:36:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:36:25
[2025-05-01 12:36:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:36:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:36:25] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:36:25] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:36:25] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 467.0366ms - 200
[2025-05-01 12:36:25] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 468.4366ms - 200
[2025-05-01 12:36:26] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:36:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:36:56
[2025-05-01 12:36:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:36:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:36:56] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:36:56] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:36:57] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1011.3892ms - 200
[2025-05-01 12:36:57] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1012.8074ms - 200
[2025-05-01 12:36:57] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:37:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:37:27
[2025-05-01 12:37:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:37:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:37:27] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:37:27] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:37:28] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 396.7053ms - 200
[2025-05-01 12:37:28] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 398.2518ms - 200
[2025-05-01 12:37:28] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:37:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:37:58
[2025-05-01 12:37:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:37:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:37:58] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:37:58] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:37:58] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 373.142ms - 200
[2025-05-01 12:37:58] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 374.5831ms - 200
[2025-05-01 12:37:59] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 266
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.CheckAndMarkEndedEarlySchedulesAsync(ILiveStreamRepo repository, ILiveStreamService streamService, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 413
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 376
[2025-05-01 12:46:29] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-01 12:46:33] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-01 12:46:33] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-01 12:46:33] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-01 12:46:33] [Error] Microsoft.Extensions.Hosting.Internal.Host: Hosting failed to start
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.VideoHistoryDAO.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\DAOs\VideoHistoryDAO.cs:line 172
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 40
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 45
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
[2025-05-01 12:46:58] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-01 12:47:00] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-01 12:47:00] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-01 12:47:00] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-01 12:47:00] [Error] Microsoft.Extensions.Hosting.Internal.Host: Hosting failed to start
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.VideoHistoryDAO.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\DAOs\VideoHistoryDAO.cs:line 172
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 40
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 45
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
[2025-05-01 12:52:43] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-01 12:52:45] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-01 12:52:45] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-01 12:52:45] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-01 12:52:45] [Error] Microsoft.Extensions.Hosting.Internal.Host: Hosting failed to start
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.VideoHistoryDAO.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\DAOs\VideoHistoryDAO.cs:line 172
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 40
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 45
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
[2025-05-01 12:53:35] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-01 12:53:36] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-01 12:53:36] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-01 12:53:36] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-01 12:53:36] [Error] Microsoft.Extensions.Hosting.Internal.Host: Hosting failed to start
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 40
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 45
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
[2025-05-01 12:55:32] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-01 12:55:36] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-01 12:55:36] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-01 12:55:36] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-01 12:55:36] [Error] Microsoft.Extensions.Hosting.Internal.Host: Hosting failed to start
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 40
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 45
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
[2025-05-01 12:58:25] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-01 12:58:28] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-01 12:58:28] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-01 12:58:28] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-01 12:58:28] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 40
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 48
[2025-05-01 12:58:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-01 12:58:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:58:28
[2025-05-01 12:58:29] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-01 12:58:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:58:29] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-01 12:58:29] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-01 12:58:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:58:29] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-01 12:58:29] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-01 12:58:29] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-01 12:58:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:58:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba/videos
[2025-05-01 12:58:30] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1088.4356ms - 200
[2025-05-01 12:58:30] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1132.406ms - 200
[2025-05-01 12:58:32] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request DELETE https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba
[2025-05-01 12:58:32] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request DELETE https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/7f641662439df5abf9ca1009c1df27ba
[2025-05-01 12:58:32] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 511.032ms - 200
[2025-05-01 12:58:32] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 518.7033ms - 200
[2025-05-01 12:58:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Auto-End] Cloudflare input deleted for LateStart ScheduleID 2, StreamID 1.
[2025-05-01 12:58:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Auto-End] Schedule 2 marked as EndedEarly (no stream detected).
[2025-05-01 12:59:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:59:02
[2025-05-01 12:59:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:59:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 12:59:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 12:59:33
[2025-05-01 12:59:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 12:59:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 13:00:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 13:00:03
[2025-05-01 13:00:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 13:00:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 13:00:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 13:00:34
[2025-05-01 13:00:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 13:00:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 13:01:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 13:01:04
[2025-05-01 13:01:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 13:01:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 13:01:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 13:01:34
[2025-05-01 13:01:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 13:01:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 13:02:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 13:02:05
[2025-05-01 13:02:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 13:02:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 4 marked as READY.
[2025-05-01 13:02:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: ✅ Saved READY schedules to database.
[2025-05-01 13:02:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 13:02:05] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request POST https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs
[2025-05-01 13:02:05] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request POST https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs
[2025-05-01 13:02:06] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 670.7476ms - 200
[2025-05-01 13:02:06] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 672.1123ms - 200
[2025-05-01 13:02:06] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: No email found for ScheduleID 4's streamer.
[2025-05-01 13:02:06] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054/videos
[2025-05-01 13:02:06] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054/videos
[2025-05-01 13:02:06] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 289.2863ms - 200
[2025-05-01 13:02:06] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 290.5419ms - 200
[2025-05-01 13:02:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 13:02:37
[2025-05-01 13:02:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 13:02:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 13:02:37] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054/videos
[2025-05-01 13:02:37] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054/videos
[2025-05-01 13:02:37] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 466.8107ms - 200
[2025-05-01 13:02:37] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 471.8653ms - 200
[2025-05-01 13:03:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 13:03:08
[2025-05-01 13:03:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 13:03:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 13:03:08] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054/videos
[2025-05-01 13:03:08] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054/videos
[2025-05-01 13:03:08] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 529.192ms - 200
[2025-05-01 13:03:08] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 530.6754ms - 200
[2025-05-01 13:03:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 13:03:38
[2025-05-01 13:03:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 13:03:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 13:03:39] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054/videos
[2025-05-01 13:03:39] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054/videos
[2025-05-01 13:03:39] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 357.2525ms - 200
[2025-05-01 13:03:39] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 358.402ms - 200
[2025-05-01 13:04:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 13:04:09
[2025-05-01 13:04:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 13:04:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 13:04:09] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054/videos
[2025-05-01 13:04:09] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054/videos
[2025-05-01 13:04:10] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 367.3204ms - 200
[2025-05-01 13:04:10] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 368.1588ms - 200
[2025-05-01 13:04:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 13:04:40
[2025-05-01 13:04:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 13:04:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 13:04:40] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054/videos
[2025-05-01 13:04:40] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054/videos
[2025-05-01 13:04:41] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 456.2908ms - 200
[2025-05-01 13:04:41] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 458.0475ms - 200
[2025-05-01 13:05:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 13:05:11
[2025-05-01 13:05:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 13:05:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 13:05:11] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054/videos
[2025-05-01 13:05:11] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054/videos
[2025-05-01 13:05:11] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 333.516ms - 200
[2025-05-01 13:05:11] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 334.8007ms - 200
[2025-05-01 13:05:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 13:05:42
[2025-05-01 13:05:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 13:05:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 13:05:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054/videos
[2025-05-01 13:05:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054/videos
[2025-05-01 13:05:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 361.6892ms - 200
[2025-05-01 13:05:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 362.8009ms - 200
[2025-05-01 13:06:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 13:06:12
[2025-05-01 13:06:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 13:06:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 13:06:13] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054/videos
[2025-05-01 13:06:13] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054/videos
[2025-05-01 13:06:13] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 342.7063ms - 200
[2025-05-01 13:06:13] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 344.0144ms - 200
[2025-05-01 13:06:29] [Error] Services.HostedServices.DurationTrackingService: Error in DurationTrackingService
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.VideoHistoryDAO.GetVideosUploadedAfterAsync(DateTime timestamp) in F:\Workspace\School_TV_BE\DAOs\VideoHistoryDAO.cs:line 164
   at Repos.VideoHistoryRepo.GetVideosUploadedAfterAsync(DateTime timestamp) in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 95
   at Services.HostedServices.DurationTrackingService.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\DurationTrackingService.cs:line 38
[2025-05-01 13:06:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 13:06:43
[2025-05-01 13:06:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 13:06:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 13:06:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054/videos
[2025-05-01 13:06:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054/videos
[2025-05-01 13:06:44] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 429.3771ms - 200
[2025-05-01 13:06:44] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 430.3348ms - 200
[2025-05-01 13:07:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 13:07:14
[2025-05-01 13:07:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 13:07:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 13:07:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054/videos
[2025-05-01 13:07:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054/videos
[2025-05-01 13:07:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 764.5648ms - 200
[2025-05-01 13:07:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 769.5779ms - 200
[2025-05-01 13:07:35] [Error] Services.HostedServices.DurationTrackingService: Error in DurationTrackingService
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.VideoHistoryDAO.GetVideosUploadedAfterAsync(DateTime timestamp) in F:\Workspace\School_TV_BE\DAOs\VideoHistoryDAO.cs:line 164
   at Repos.VideoHistoryRepo.GetVideosUploadedAfterAsync(DateTime timestamp) in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 95
   at Services.HostedServices.DurationTrackingService.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\DurationTrackingService.cs:line 38
[2025-05-01 13:08:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 13:08:05
[2025-05-01 13:08:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 13:08:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 13:08:06] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054/videos
[2025-05-01 13:08:06] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054/videos
[2025-05-01 13:08:06] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 444.1345ms - 200
[2025-05-01 13:08:06] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 445.6151ms - 200
[2025-05-01 13:08:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Streamer started broadcasting, ScheduleID 4 marked LIVE.
[2025-05-01 13:08:06] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054/videos
[2025-05-01 13:08:06] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054/videos
[2025-05-01 13:08:07] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 302.5592ms - 200
[2025-05-01 13:08:07] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 303.8818ms - 200
[2025-05-01 13:08:07] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054/videos
[2025-05-01 13:08:07] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054/videos
[2025-05-01 13:08:07] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 252.8843ms - 200
[2025-05-01 13:08:07] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 256.0614ms - 200
[2025-05-01 13:08:07] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request POST https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/565ad04bf9dff1dfcb6af7192a3269d4/downloads
[2025-05-01 13:08:07] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request POST https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/565ad04bf9dff1dfcb6af7192a3269d4/downloads
[2025-05-01 13:08:07] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 275.4483ms - 400
[2025-05-01 13:08:07] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 276.501ms - 400
[2025-05-01 13:08:07] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request DELETE https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054
[2025-05-01 13:08:07] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request DELETE https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054
[2025-05-01 13:08:08] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 327.6105ms - 200
[2025-05-01 13:08:08] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 328.5206ms - 200
[2025-05-01 13:08:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Force-ended overdue livestream for ScheduleID 4, recordings saved.
[2025-05-01 13:08:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 13:08:38
[2025-05-01 13:08:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 13:08:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 13:09:03] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"565ad04bf9dff1dfcb6af7192a3269d4","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/565ad04bf9dff1dfcb6af7192a3269d4/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-01T06:08:52.805127Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program ccc 01 May 25 06:08 UTC"},"created":"2025-05-01T06:08:05.017844Z","modified":"2025-05-01T06:08:52.805729Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/565ad04bf9dff1dfcb6af7192a3269d4/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-01T06:08:05.01784Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":25.02,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/565ad04bf9dff1dfcb6af7192a3269d4/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/565ad04bf9dff1dfcb6af7192a3269d4/manifest/video.mpd"},"watermark":null,"liveInput":"140df113033efc6b9fee4a6ceca21054","clippedFrom":null,"publicDetails":null}
[2025-05-01 13:09:03] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: 140df113033efc6b9fee4a6ceca21054
[2025-05-01 13:09:03] [Information] School_TV_Show.Controllers.LiveStreamController: Stream duration from Cloudflare: 0.00695 hours
[2025-05-01 13:09:03] [Information] School_TV_Show.Controllers.LiveStreamController: Updated account package - Hours used: 0.11816944444444445, Remaining: 39.88183055555555
[2025-05-01 13:09:10] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 79
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 376
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 13:09:17] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.Exception: No follows found for this account.
   at Services.ProgramFollowService.GetByAccountIdAsync(Int32 accountId) in F:\Workspace\School_TV_BE\Services\ProgramFollowService.cs:line 53
   at School_TV_Show.Controllers.ProgramFollowController.GetByAccountId(Int32 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ProgramFollowController.cs:line 37
   at lambda_method1019(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 13:09:22] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 125
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 36
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 13:09:24] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.Exception: No follows found for this account.
   at Services.ProgramFollowService.GetByAccountIdAsync(Int32 accountId) in F:\Workspace\School_TV_BE\Services\ProgramFollowService.cs:line 53
   at School_TV_Show.Controllers.ProgramFollowController.GetByAccountId(Int32 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ProgramFollowController.cs:line 37
   at lambda_method1019(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 13:09:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 13:09:25
[2025-05-01 13:09:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 13:09:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 13:09:34] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.VideoHistoryDAO.GetAllVideosAsync() in F:\Workspace\School_TV_BE\DAOs\VideoHistoryDAO.cs:line 57
   at Repos.VideoHistoryRepo.GetAllVideosAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 50
   at Services.VideoHistoryService.GetAllVideosAsync() in F:\Workspace\School_TV_BE\Services\VideoHistoryService.cs:line 36
   at School_TV_Show.Controllers.VideoHistoryController.GetAllActiveVideos() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\VideoHistoryController.cs:line 80
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 13:09:34] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 125
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 36
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 13:09:34] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 125
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 36
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 13:10:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 13:10:04
[2025-05-01 13:10:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 13:10:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 13:10:08] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 79
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 376
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 13:10:12] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 79
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 376
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 13:10:16] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.Exception: No follows found for this account.
   at Services.ProgramFollowService.GetByAccountIdAsync(Int32 accountId) in F:\Workspace\School_TV_BE\Services\ProgramFollowService.cs:line 53
   at School_TV_Show.Controllers.ProgramFollowController.GetByAccountId(Int32 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ProgramFollowController.cs:line 37
   at lambda_method1019(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 13:10:17] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 79
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 376
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 13:10:19] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.Exception: No follows found for this account.
   at Services.ProgramFollowService.GetByAccountIdAsync(Int32 accountId) in F:\Workspace\School_TV_BE\Services\ProgramFollowService.cs:line 53
   at School_TV_Show.Controllers.ProgramFollowController.GetByAccountId(Int32 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ProgramFollowController.cs:line 37
   at lambda_method1019(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 13:10:22] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 79
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 376
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 13:10:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 13:10:34
[2025-05-01 13:10:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 13:10:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 13:10:52] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 79
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 376
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 13:11:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 13:11:05
[2025-05-01 13:11:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 13:11:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 13:11:07] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 79
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 376
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 19:31:03] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-01 19:31:08] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-01 19:31:08] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-01 19:31:08] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-01 19:31:08] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 40
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 48
[2025-05-01 19:31:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-01 19:31:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:31:08
[2025-05-01 19:31:09] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-01 19:31:09] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-01 19:31:09] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-01 19:31:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:31:09] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-01 19:31:09] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-01 19:31:09] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-01 19:31:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:31:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:31:39
[2025-05-01 19:31:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:31:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:32:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:32:09
[2025-05-01 19:32:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:32:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:32:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:32:40
[2025-05-01 19:32:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:32:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:33:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:33:10
[2025-05-01 19:33:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 19:33:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 5 marked as READY.
[2025-05-01 19:33:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: ✅ Saved READY schedules to database.
[2025-05-01 19:33:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 19:33:10] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054
[2025-05-01 19:33:10] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/140df113033efc6b9fee4a6ceca21054
[2025-05-01 19:33:11] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 557.0173ms - 404
[2025-05-01 19:33:11] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 572.7937ms - 404
[2025-05-01 19:33:11] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 87
   at Repos.LiveStreamRepo.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\Repos\LiveStreamRepo.cs:line 155
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 211
[2025-05-01 19:33:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:33:41
[2025-05-01 19:33:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:33:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 19:33:41] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request POST https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs
[2025-05-01 19:33:41] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request POST https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs
[2025-05-01 19:33:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 532.6985ms - 200
[2025-05-01 19:33:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 533.4656ms - 200
[2025-05-01 19:33:42] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Program' cannot be tracked because another instance with the same key value for {'ProgramID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 87
   at Repos.LiveStreamRepo.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\Repos\LiveStreamRepo.cs:line 155
   at Services.LiveStreamService.StartLiveStreamAsync(VideoHistory stream) in F:\Workspace\School_TV_BE\Services\LiveStreamService.cs:line 92
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 228
[2025-05-01 19:34:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:34:12
[2025-05-01 19:34:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:34:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 19:34:12] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c
[2025-05-01 19:34:12] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c
[2025-05-01 19:34:13] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 700.1227ms - 200
[2025-05-01 19:34:13] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 701.7488ms - 200
[2025-05-01 19:34:13] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c
[2025-05-01 19:34:13] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c
[2025-05-01 19:34:13] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 392.4162ms - 200
[2025-05-01 19:34:13] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 393.5827ms - 200
[2025-05-01 19:34:14] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: No email found for ScheduleID 5's streamer.
[2025-05-01 19:34:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:34:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:34:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 348.7279ms - 200
[2025-05-01 19:34:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 350.7136ms - 200
[2025-05-01 19:34:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:34:44
[2025-05-01 19:34:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:34:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 19:34:44] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:34:44] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:34:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 522.7103ms - 200
[2025-05-01 19:34:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 523.8572ms - 200
[2025-05-01 19:35:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:35:15
[2025-05-01 19:35:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:35:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 19:35:15] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:35:15] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:35:16] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 443.7295ms - 200
[2025-05-01 19:35:16] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 453.5883ms - 200
[2025-05-01 19:35:36] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 125
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 36
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 19:35:39] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 125
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 36
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 19:35:39] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.VideoHistoryDAO.GetAllVideosAsync() in F:\Workspace\School_TV_BE\DAOs\VideoHistoryDAO.cs:line 57
   at Repos.VideoHistoryRepo.GetAllVideosAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 50
   at Services.VideoHistoryService.GetAllVideosAsync() in F:\Workspace\School_TV_BE\Services\VideoHistoryService.cs:line 36
   at School_TV_Show.Controllers.VideoHistoryController.GetAllActiveVideos() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\VideoHistoryController.cs:line 80
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 19:35:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:35:46
[2025-05-01 19:35:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:35:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 19:35:46] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:35:46] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:35:47] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1025.5173ms - 200
[2025-05-01 19:35:47] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1026.805ms - 200
[2025-05-01 19:36:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:36:17
[2025-05-01 19:36:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:36:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 19:36:17] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:36:17] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:36:18] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 626.1383ms - 200
[2025-05-01 19:36:18] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 627.3418ms - 200
[2025-05-01 19:36:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:36:48
[2025-05-01 19:36:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:36:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 19:36:48] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:36:48] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:36:49] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 374.5545ms - 200
[2025-05-01 19:36:49] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 377.8553ms - 200
[2025-05-01 19:37:09] [Error] Services.HostedServices.DurationTrackingService: Error in DurationTrackingService
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.VideoHistoryDAO.GetVideosUploadedAfterAsync(DateTime timestamp) in F:\Workspace\School_TV_BE\DAOs\VideoHistoryDAO.cs:line 164
   at Repos.VideoHistoryRepo.GetVideosUploadedAfterAsync(DateTime timestamp) in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 95
   at Services.HostedServices.DurationTrackingService.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\DurationTrackingService.cs:line 38
[2025-05-01 19:37:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:37:19
[2025-05-01 19:37:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:37:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 19:37:19] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:37:19] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:37:20] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 545.0142ms - 200
[2025-05-01 19:37:20] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 546.6134ms - 200
[2025-05-01 19:37:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:37:50
[2025-05-01 19:37:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:37:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 19:37:50] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:37:50] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:37:50] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 358.0505ms - 200
[2025-05-01 19:37:50] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 359.1983ms - 200
[2025-05-01 19:38:09] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 40
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 48
[2025-05-01 19:38:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:38:20
[2025-05-01 19:38:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:38:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 19:38:21] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:38:21] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:38:21] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 347.0017ms - 200
[2025-05-01 19:38:21] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 348.0727ms - 200
[2025-05-01 19:38:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:38:51
[2025-05-01 19:38:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:38:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 19:38:51] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:38:51] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:38:52] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 415.1528ms - 200
[2025-05-01 19:38:52] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 416.7076ms - 200
[2025-05-01 19:39:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:39:22
[2025-05-01 19:39:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:39:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 19:39:22] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:39:22] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:39:23] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 435.5275ms - 200
[2025-05-01 19:39:23] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 436.5518ms - 200
[2025-05-01 19:39:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:39:53
[2025-05-01 19:39:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:39:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 19:39:53] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:39:53] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:39:53] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 412.2226ms - 200
[2025-05-01 19:39:53] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 413.7315ms - 200
[2025-05-01 19:40:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:40:23
[2025-05-01 19:40:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:40:23] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 5 marked as LateStart at 05/01/2025 19:40:23.
[2025-05-01 19:40:24] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:40:24] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:40:24] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:40:24] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 396.6744ms - 200
[2025-05-01 19:40:24] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 397.7627ms - 200
[2025-05-01 19:40:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:40:54
[2025-05-01 19:40:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:40:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:40:54] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:40:54] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:40:55] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 336.1717ms - 200
[2025-05-01 19:40:55] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 336.8784ms - 200
[2025-05-01 19:41:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:41:25
[2025-05-01 19:41:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:41:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:41:25] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:41:25] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:41:25] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 442.3578ms - 200
[2025-05-01 19:41:25] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 443.1434ms - 200
[2025-05-01 19:41:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:41:55
[2025-05-01 19:41:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:41:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:41:56] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:41:56] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:41:56] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 372.7324ms - 200
[2025-05-01 19:41:56] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 374.0202ms - 200
[2025-05-01 19:42:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:42:26
[2025-05-01 19:42:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:42:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:42:26] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:42:26] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:42:27] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 387.7407ms - 200
[2025-05-01 19:42:27] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 390.6665ms - 200
[2025-05-01 19:42:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:42:57
[2025-05-01 19:42:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:42:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:42:57] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:42:57] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:42:58] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1174.3382ms - 200
[2025-05-01 19:42:58] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1175.3746ms - 200
[2025-05-01 19:43:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:43:28
[2025-05-01 19:43:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:43:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:43:28] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:43:28] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:43:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 449.5882ms - 200
[2025-05-01 19:43:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 450.464ms - 200
[2025-05-01 19:43:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:43:59
[2025-05-01 19:43:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:43:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:43:59] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:43:59] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:44:00] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 362.1619ms - 200
[2025-05-01 19:44:00] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 363.2339ms - 200
[2025-05-01 19:44:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:44:30
[2025-05-01 19:44:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:44:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:44:30] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:44:30] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:44:30] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 427.4836ms - 200
[2025-05-01 19:44:30] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 428.8662ms - 200
[2025-05-01 19:45:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:45:00
[2025-05-01 19:45:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:45:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:45:01] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:45:01] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:45:03] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 2710.7122ms - 200
[2025-05-01 19:45:03] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 2713.3051ms - 200
[2025-05-01 19:45:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:45:33
[2025-05-01 19:45:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:45:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:45:34] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:45:34] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:45:34] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 490.0305ms - 200
[2025-05-01 19:45:34] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 490.9962ms - 200
[2025-05-01 19:46:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:46:04
[2025-05-01 19:46:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:46:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:46:04] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:46:04] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:46:05] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 375.94ms - 200
[2025-05-01 19:46:05] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 376.7063ms - 200
[2025-05-01 19:46:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:46:35
[2025-05-01 19:46:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:46:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:46:35] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:46:35] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:46:36] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 572.2085ms - 200
[2025-05-01 19:46:36] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 573.0923ms - 200
[2025-05-01 19:47:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:47:06
[2025-05-01 19:47:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:47:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:47:06] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:47:06] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:47:06] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 382.8847ms - 200
[2025-05-01 19:47:06] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 384.0743ms - 200
[2025-05-01 19:47:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:47:36
[2025-05-01 19:47:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:47:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:47:36] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:47:36] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:47:37] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 857.2091ms - 200
[2025-05-01 19:47:37] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 858.1529ms - 200
[2025-05-01 19:48:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:48:07
[2025-05-01 19:48:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:48:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:48:08] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:48:08] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:48:08] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 404.8471ms - 200
[2025-05-01 19:48:08] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 406.6383ms - 200
[2025-05-01 19:48:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:48:38
[2025-05-01 19:48:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:48:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:48:38] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:48:38] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:48:39] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 381.4086ms - 200
[2025-05-01 19:48:39] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 382.5858ms - 200
[2025-05-01 19:49:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:49:09
[2025-05-01 19:49:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:49:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:49:09] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:49:09] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:49:09] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 400.5201ms - 200
[2025-05-01 19:49:09] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 402.1806ms - 200
[2025-05-01 19:49:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:49:40
[2025-05-01 19:49:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:49:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:49:40] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:49:40] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:49:41] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1086.5463ms - 200
[2025-05-01 19:49:41] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1087.7394ms - 200
[2025-05-01 19:50:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:50:11
[2025-05-01 19:50:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:50:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:50:11] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:50:11] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:50:12] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 903.8425ms - 200
[2025-05-01 19:50:12] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 904.9482ms - 200
[2025-05-01 19:50:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:50:42
[2025-05-01 19:50:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:50:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:50:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:50:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:50:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 966.9608ms - 200
[2025-05-01 19:50:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 967.7414ms - 200
[2025-05-01 19:51:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:51:13
[2025-05-01 19:51:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:51:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:51:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:51:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:51:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 849.981ms - 200
[2025-05-01 19:51:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 851.0969ms - 200
[2025-05-01 19:51:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:51:44
[2025-05-01 19:51:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:51:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:51:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:51:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:51:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 831.2091ms - 200
[2025-05-01 19:51:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 831.9877ms - 200
[2025-05-01 19:52:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:52:16
[2025-05-01 19:52:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:52:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:52:16] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:52:16] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:52:16] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 387.7903ms - 200
[2025-05-01 19:52:16] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 388.7506ms - 200
[2025-05-01 19:52:35] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-01 19:52:37] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-01 19:52:37] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-01 19:52:38] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-01 19:52:38] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 40
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 50
[2025-05-01 19:52:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-01 19:52:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:52:38
[2025-05-01 19:52:38] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-01 19:52:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:52:38] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-01 19:52:38] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-01 19:52:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:52:39] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-01 19:52:39] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-01 19:52:39] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-01 19:53:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:53:09
[2025-05-01 19:53:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:53:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:53:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:53:39
[2025-05-01 19:53:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:53:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:53:56] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: An attempt was made to use the context instance while it is being configured. A DbContext instance cannot be used inside 'OnConfiguring' since it is still being configured at this point. This can happen if a second operation is started on this context instance before a previous operation completed. Any instance members are not guaranteed to be thread safe.
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AsNoTracking[TEntity](IQueryable`1 source)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 132
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 36
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 19:54:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:54:09
[2025-05-01 19:54:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:54:09] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 5 marked as LateStart at 05/01/2025 19:54:09.
[2025-05-01 19:54:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:54:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:54:40
[2025-05-01 19:54:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:54:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:55:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:55:10
[2025-05-01 19:55:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:55:10] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 5 marked as LateStart at 05/01/2025 19:55:10.
[2025-05-01 19:55:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 19:55:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:55:40
[2025-05-01 19:55:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:55:40] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 5 marked as LateStart at 05/01/2025 19:55:40.
[2025-05-01 19:55:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 19:55:48] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 86
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 376
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 19:56:04] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 86
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 376
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 19:56:06] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.Exception: No follows found for this account.
   at Services.ProgramFollowService.GetByAccountIdAsync(Int32 accountId) in F:\Workspace\School_TV_BE\Services\ProgramFollowService.cs:line 53
   at School_TV_Show.Controllers.ProgramFollowController.GetByAccountId(Int32 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ProgramFollowController.cs:line 37
   at lambda_method348(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 19:56:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:56:10
[2025-05-01 19:56:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:56:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:56:11] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:56:11] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:56:12] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 773.763ms - 200
[2025-05-01 19:56:12] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 813.5633ms - 200
[2025-05-01 19:56:17] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 132
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 36
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 19:56:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:56:42
[2025-05-01 19:56:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:56:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:56:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:56:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:56:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 502.8143ms - 200
[2025-05-01 19:56:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 503.8391ms - 200
[2025-05-01 19:56:57] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"d3c4e269929de3621e59af890f683e19","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/d3c4e269929de3621e59af890f683e19/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-01T12:56:47.025238Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program ccc 01 May 25 12:54 UTC"},"created":"2025-05-01T12:54:21.698117Z","modified":"2025-05-01T12:56:47.025896Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/d3c4e269929de3621e59af890f683e19/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-01T12:54:21.69811Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":125.12,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/d3c4e269929de3621e59af890f683e19/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/d3c4e269929de3621e59af890f683e19/manifest/video.mpd"},"watermark":null,"liveInput":"1af589526289386593aa0ba54d56365c","clippedFrom":null,"publicDetails":null}
[2025-05-01 19:56:57] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: 1af589526289386593aa0ba54d56365c
[2025-05-01 19:56:57] [Information] School_TV_Show.Controllers.LiveStreamController: Stream duration from Cloudflare: 0.03475555555555555 hours
[2025-05-01 19:56:57] [Information] School_TV_Show.Controllers.LiveStreamController: Updated account package - Hours used: 0.152925, Remaining: 39.847075
[2025-05-01 19:57:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:57:12
[2025-05-01 19:57:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:57:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:57:13] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:57:13] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:57:13] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 388.4981ms - 200
[2025-05-01 19:57:13] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 389.503ms - 200
[2025-05-01 19:57:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 19:57:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:57:43
[2025-05-01 19:57:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:57:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:57:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:57:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:57:44] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 402.8823ms - 200
[2025-05-01 19:57:44] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 403.9675ms - 200
[2025-05-01 19:57:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 19:58:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:58:14
[2025-05-01 19:58:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:58:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:58:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:58:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:58:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 415.551ms - 200
[2025-05-01 19:58:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 417.3562ms - 200
[2025-05-01 19:58:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 19:58:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:58:44
[2025-05-01 19:58:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:58:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:58:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:58:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:58:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 443.5104ms - 200
[2025-05-01 19:58:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 444.8423ms - 200
[2025-05-01 19:58:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 19:59:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:59:15
[2025-05-01 19:59:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:59:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:59:15] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:59:15] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:59:16] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 352.9245ms - 200
[2025-05-01 19:59:16] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 353.8539ms - 200
[2025-05-01 19:59:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 19:59:39] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 40
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 50
[2025-05-01 19:59:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 19:59:46
[2025-05-01 19:59:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 19:59:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 19:59:46] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:59:46] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 19:59:46] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 341.9986ms - 200
[2025-05-01 19:59:46] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 349.784ms - 200
[2025-05-01 19:59:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 20:00:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:00:16
[2025-05-01 20:00:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:00:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:00:17] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:00:17] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:00:17] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 595.1161ms - 200
[2025-05-01 20:00:17] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 596.0748ms - 200
[2025-05-01 20:00:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 20:00:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:00:47
[2025-05-01 20:00:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:00:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:00:47] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:00:47] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:00:48] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 621.2831ms - 200
[2025-05-01 20:00:48] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 622.8326ms - 200
[2025-05-01 20:00:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 20:01:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:01:18
[2025-05-01 20:01:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:01:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:01:18] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:01:18] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:01:19] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 365.3305ms - 200
[2025-05-01 20:01:19] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 366.2601ms - 200
[2025-05-01 20:01:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 20:01:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:01:49
[2025-05-01 20:01:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:01:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:01:49] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:01:49] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:01:49] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 408.3335ms - 200
[2025-05-01 20:01:49] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 409.5715ms - 200
[2025-05-01 20:01:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 20:02:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:02:19
[2025-05-01 20:02:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:02:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:02:19] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:02:19] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:02:20] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 519.3914ms - 200
[2025-05-01 20:02:20] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 520.5615ms - 200
[2025-05-01 20:02:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 20:02:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:02:50
[2025-05-01 20:02:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:02:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:02:50] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:02:50] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:02:51] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1018.6243ms - 200
[2025-05-01 20:02:51] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1027.6421ms - 200
[2025-05-01 20:02:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 20:03:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:03:21
[2025-05-01 20:03:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:03:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:03:22] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:03:22] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:03:22] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 451.5286ms - 200
[2025-05-01 20:03:22] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 452.9212ms - 200
[2025-05-01 20:03:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 20:03:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:03:52
[2025-05-01 20:03:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:03:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:03:52] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:03:52] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:03:53] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 356.121ms - 200
[2025-05-01 20:03:53] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 357.7959ms - 200
[2025-05-01 20:03:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 20:04:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:04:23
[2025-05-01 20:04:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:04:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:04:23] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:04:23] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:04:23] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 360.7303ms - 200
[2025-05-01 20:04:23] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 362.4034ms - 200
[2025-05-01 20:04:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 20:04:51] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-01 20:04:53] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-01 20:04:53] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-01 20:04:54] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-01 20:04:54] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 40
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 50
[2025-05-01 20:04:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-01 20:04:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:04:54
[2025-05-01 20:04:54] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-01 20:04:54] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-01 20:04:54] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-01 20:04:54] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-01 20:04:54] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-01 20:04:54] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-01 20:04:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:04:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:04:55] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:04:55] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:04:56] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 839.6622ms - 200
[2025-05-01 20:04:56] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 859.7258ms - 200
[2025-05-01 20:04:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 20:05:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:05:26
[2025-05-01 20:05:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:05:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:05:26] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:05:26] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:05:26] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 416.8986ms - 200
[2025-05-01 20:05:26] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 417.9194ms - 200
[2025-05-01 20:05:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 20:05:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:05:56
[2025-05-01 20:05:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:05:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:05:57] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:05:57] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:05:57] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 345.7071ms - 200
[2025-05-01 20:05:57] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 346.9828ms - 200
[2025-05-01 20:06:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:06:27
[2025-05-01 20:06:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:06:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:06:27] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:06:27] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:06:28] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 364.806ms - 200
[2025-05-01 20:06:28] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 366.1214ms - 200
[2025-05-01 20:06:40] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"8f6ae6b05ea061a5664c6861cad98e7a","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/8f6ae6b05ea061a5664c6861cad98e7a/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-01T13:06:29.081253Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program ccc 01 May 25 13:05 UTC"},"created":"2025-05-01T13:05:32.51956Z","modified":"2025-05-01T13:06:29.08384Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/8f6ae6b05ea061a5664c6861cad98e7a/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-01T13:05:32.519552Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":33.37,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/8f6ae6b05ea061a5664c6861cad98e7a/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/8f6ae6b05ea061a5664c6861cad98e7a/manifest/video.mpd"},"watermark":null,"liveInput":"1af589526289386593aa0ba54d56365c","clippedFrom":null,"publicDetails":null}
[2025-05-01 20:06:40] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: 1af589526289386593aa0ba54d56365c
[2025-05-01 20:06:40] [Information] School_TV_Show.Controllers.LiveStreamController: Stream duration from Cloudflare: 0.009269444444444443 hours
[2025-05-01 20:06:40] [Information] School_TV_Show.Controllers.LiveStreamController: 📺 ScheduleID 4 marked as Ended from Cloudflare webhook.
[2025-05-01 20:06:40] [Information] School_TV_Show.Controllers.LiveStreamController: Updated account package - Hours used: 0.16219444444444445, Remaining: 39.837805555555555
[2025-05-01 20:06:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:06:58
[2025-05-01 20:06:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:06:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:06:58] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:06:58] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:06:59] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 984.718ms - 200
[2025-05-01 20:06:59] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 985.9053ms - 200
[2025-05-01 20:06:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 20:07:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:07:29
[2025-05-01 20:07:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:07:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:07:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:07:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:07:30] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 828.924ms - 200
[2025-05-01 20:07:30] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 830.4299ms - 200
[2025-05-01 20:07:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 20:08:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:08:00
[2025-05-01 20:08:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:08:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:08:00] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:08:00] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:08:01] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1009.0919ms - 200
[2025-05-01 20:08:01] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1010.1835ms - 200
[2025-05-01 20:08:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 20:08:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:08:31
[2025-05-01 20:08:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:08:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:08:31] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:08:31] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:08:32] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 810.6567ms - 200
[2025-05-01 20:08:32] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 811.9395ms - 200
[2025-05-01 20:08:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 20:09:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:09:02
[2025-05-01 20:09:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:09:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:09:03] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:09:03] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:09:03] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 459.664ms - 200
[2025-05-01 20:09:03] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 460.7529ms - 200
[2025-05-01 20:09:22] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"990bfe9bcccfc7459a9326f5f04a6218","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/990bfe9bcccfc7459a9326f5f04a6218/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-01T13:09:06.016994Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program ccc 01 May 25 13:08 UTC"},"created":"2025-05-01T13:08:39.444091Z","modified":"2025-05-01T13:09:06.019967Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/990bfe9bcccfc7459a9326f5f04a6218/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-01T13:08:39.444086Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":8.34,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/990bfe9bcccfc7459a9326f5f04a6218/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/990bfe9bcccfc7459a9326f5f04a6218/manifest/video.mpd"},"watermark":null,"liveInput":"1af589526289386593aa0ba54d56365c","clippedFrom":null,"publicDetails":null}
[2025-05-01 20:09:30] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: 1af589526289386593aa0ba54d56365c
[2025-05-01 20:09:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:09:33
[2025-05-01 20:09:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:09:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:09:36] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:09:36] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:09:39] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 2136.9913ms - 200
[2025-05-01 20:09:39] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 2155.5479ms - 200
[2025-05-01 20:09:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 20:09:39] [Information] School_TV_Show.Controllers.LiveStreamController: Stream duration from Cloudflare: 0.0023166666666666665 hours
[2025-05-01 20:09:39] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.LiveStreamDAO.GetOverdueSchedulesAsync(DateTime currentTime) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 206
   at Repos.LiveStreamRepo.GetOverdueSchedulesAsync(DateTime currentTime) in F:\Workspace\School_TV_BE\Repos\LiveStreamRepo.cs:line 90
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 319
[2025-05-01 20:09:39] [Information] School_TV_Show.Controllers.LiveStreamController: 📺 ScheduleID 4 marked as Ended from Cloudflare webhook.
[2025-05-01 20:09:39] [Information] School_TV_Show.Controllers.LiveStreamController: Updated account package - Hours used: 0.1645111111111111, Remaining: 39.83548888888889
[2025-05-01 20:09:57] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"990bfe9bcccfc7459a9326f5f04a6218","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/990bfe9bcccfc7459a9326f5f04a6218/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-01T13:09:06.016994Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program ccc 01 May 25 13:08 UTC"},"created":"2025-05-01T13:08:39.444091Z","modified":"2025-05-01T13:09:06.019967Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/990bfe9bcccfc7459a9326f5f04a6218/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-01T13:08:39.444086Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":8.34,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/990bfe9bcccfc7459a9326f5f04a6218/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/990bfe9bcccfc7459a9326f5f04a6218/manifest/video.mpd"},"watermark":null,"liveInput":"1af589526289386593aa0ba54d56365c","clippedFrom":null,"publicDetails":null}
[2025-05-01 20:09:57] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: 1af589526289386593aa0ba54d56365c
[2025-05-01 20:09:58] [Information] School_TV_Show.Controllers.LiveStreamController: Stream duration from Cloudflare: 0.0023166666666666665 hours
[2025-05-01 20:09:58] [Information] School_TV_Show.Controllers.LiveStreamController: 📺 ScheduleID 4 marked as Ended from Cloudflare webhook.
[2025-05-01 20:09:58] [Information] School_TV_Show.Controllers.LiveStreamController: Updated account package - Hours used: 0.16682777777777777, Remaining: 39.833172222222224
[2025-05-01 20:10:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:10:09
[2025-05-01 20:10:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:10:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:10:12] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:10:12] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:10:13] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 492.5789ms - 200
[2025-05-01 20:10:13] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 494.1384ms - 200
[2025-05-01 20:10:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 20:10:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:10:43
[2025-05-01 20:10:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:10:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:10:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:10:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:10:44] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 823.4371ms - 200
[2025-05-01 20:10:44] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 825.1704ms - 200
[2025-05-01 20:10:57] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"13d4353b26cfb74bcbf1a9507e434bc5","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/13d4353b26cfb74bcbf1a9507e434bc5/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-01T13:10:46.897261Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program ccc 01 May 25 13:10 UTC"},"created":"2025-05-01T13:10:20.160394Z","modified":"2025-05-01T13:10:46.898748Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/13d4353b26cfb74bcbf1a9507e434bc5/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-01T13:10:20.160385Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":8.34,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/13d4353b26cfb74bcbf1a9507e434bc5/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/13d4353b26cfb74bcbf1a9507e434bc5/manifest/video.mpd"},"watermark":null,"liveInput":"1af589526289386593aa0ba54d56365c","clippedFrom":null,"publicDetails":null}
[2025-05-01 20:10:57] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: 1af589526289386593aa0ba54d56365c
[2025-05-01 20:11:13] [Information] School_TV_Show.Controllers.LiveStreamController: Stream duration from Cloudflare: 0.0023166666666666665 hours
[2025-05-01 20:11:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:11:14
[2025-05-01 20:11:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:11:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:11:19] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:11:19] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:11:25] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 6635.1529ms - 200
[2025-05-01 20:11:25] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 6659.849ms - 200
[2025-05-01 20:11:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 20:11:37] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"13d4353b26cfb74bcbf1a9507e434bc5","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/13d4353b26cfb74bcbf1a9507e434bc5/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-01T13:10:46.897261Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program ccc 01 May 25 13:10 UTC"},"created":"2025-05-01T13:10:20.160394Z","modified":"2025-05-01T13:10:46.898748Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/13d4353b26cfb74bcbf1a9507e434bc5/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-01T13:10:20.160385Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":8.34,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/13d4353b26cfb74bcbf1a9507e434bc5/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/13d4353b26cfb74bcbf1a9507e434bc5/manifest/video.mpd"},"watermark":null,"liveInput":"1af589526289386593aa0ba54d56365c","clippedFrom":null,"publicDetails":null}
[2025-05-01 20:11:38] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: 1af589526289386593aa0ba54d56365c
[2025-05-01 20:11:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:11:57
[2025-05-01 20:11:59] [Information] School_TV_Show.Controllers.LiveStreamController: 📺 ScheduleID 4 marked as Ended from Cloudflare webhook.
[2025-05-01 20:11:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:11:59] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 40
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 50
[2025-05-01 20:12:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:12:03] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:12:03] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:12:04] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 958.4197ms - 200
[2025-05-01 20:12:04] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 973.6582ms - 200
[2025-05-01 20:12:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 20:12:10] [Information] School_TV_Show.Controllers.LiveStreamController: Updated account package - Hours used: 0.16914444444444443, Remaining: 39.83085555555556
[2025-05-01 20:12:24] [Information] School_TV_Show.Controllers.LiveStreamController: Stream duration from Cloudflare: 0.0023166666666666665 hours
[2025-05-01 20:12:24] [Information] School_TV_Show.Controllers.LiveStreamController: 📺 ScheduleID 4 marked as Ended from Cloudflare webhook.
[2025-05-01 20:12:25] [Information] School_TV_Show.Controllers.LiveStreamController: Updated account package - Hours used: 0.1714611111111111, Remaining: 39.828538888888886
[2025-05-01 20:12:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:12:35
[2025-05-01 20:12:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:12:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:12:35] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:12:35] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:12:35] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 374.1141ms - 200
[2025-05-01 20:12:35] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 376.8489ms - 200
[2025-05-01 20:12:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 20:12:47] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"13d4353b26cfb74bcbf1a9507e434bc5","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/13d4353b26cfb74bcbf1a9507e434bc5/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-01T13:10:46.897261Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program ccc 01 May 25 13:10 UTC"},"created":"2025-05-01T13:10:20.160394Z","modified":"2025-05-01T13:10:46.898748Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/13d4353b26cfb74bcbf1a9507e434bc5/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-01T13:10:20.160385Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":8.34,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/13d4353b26cfb74bcbf1a9507e434bc5/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/13d4353b26cfb74bcbf1a9507e434bc5/manifest/video.mpd"},"watermark":null,"liveInput":"1af589526289386593aa0ba54d56365c","clippedFrom":null,"publicDetails":null}
[2025-05-01 20:12:47] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: 1af589526289386593aa0ba54d56365c
[2025-05-01 20:13:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:13:09
[2025-05-01 20:13:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:13:09] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 40
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 50
[2025-05-01 20:13:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:13:10] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:13:11] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:13:11] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 602.3127ms - 200
[2025-05-01 20:13:12] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1744.509ms - 200
[2025-05-01 20:13:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 20:13:20] [Information] School_TV_Show.Controllers.LiveStreamController: Stream duration from Cloudflare: 0.0023166666666666665 hours
[2025-05-01 20:13:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:13:56
[2025-05-01 20:13:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:13:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:13:56] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:13:56] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:13:56] [Information] School_TV_Show.Controllers.LiveStreamController: 📺 ScheduleID 4 marked as Ended from Cloudflare webhook.
[2025-05-01 20:13:57] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 902.447ms - 200
[2025-05-01 20:13:57] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 904.1116ms - 200
[2025-05-01 20:13:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 20:13:57] [Information] School_TV_Show.Controllers.LiveStreamController: Updated account package - Hours used: 0.17377777777777775, Remaining: 39.82622222222222
[2025-05-01 20:14:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:14:27
[2025-05-01 20:14:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:14:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:14:27] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:14:27] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:14:28] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 390.1645ms - 200
[2025-05-01 20:14:28] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 392.748ms - 200
[2025-05-01 20:14:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 20:14:57] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"13d4353b26cfb74bcbf1a9507e434bc5","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/13d4353b26cfb74bcbf1a9507e434bc5/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-01T13:10:46.897261Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program ccc 01 May 25 13:10 UTC"},"created":"2025-05-01T13:10:20.160394Z","modified":"2025-05-01T13:10:46.898748Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/13d4353b26cfb74bcbf1a9507e434bc5/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-01T13:10:20.160385Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":8.34,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/13d4353b26cfb74bcbf1a9507e434bc5/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/13d4353b26cfb74bcbf1a9507e434bc5/manifest/video.mpd"},"watermark":null,"liveInput":"1af589526289386593aa0ba54d56365c","clippedFrom":null,"publicDetails":null}
[2025-05-01 20:14:57] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: 1af589526289386593aa0ba54d56365c
[2025-05-01 20:14:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:14:59
[2025-05-01 20:14:59] [Information] School_TV_Show.Controllers.LiveStreamController: Stream duration from Cloudflare: 0.0023166666666666665 hours
[2025-05-01 20:14:59] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.LiveStreamDAO.GetPendingSchedulesAsync(DateTime time) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 213
   at Repos.LiveStreamRepo.GetPendingSchedulesAsync(DateTime time) in F:\Workspace\School_TV_BE\Repos\LiveStreamRepo.cs:line 95
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 60
[2025-05-01 20:14:59] [Information] School_TV_Show.Controllers.LiveStreamController: 📺 ScheduleID 4 marked as Ended from Cloudflare webhook.
[2025-05-01 20:15:00] [Information] School_TV_Show.Controllers.LiveStreamController: Updated account package - Hours used: 0.17609444444444441, Remaining: 39.823905555555555
[2025-05-01 20:15:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:15:29
[2025-05-01 20:15:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:15:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:15:30] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:15:30] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:15:30] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 407.0827ms - 200
[2025-05-01 20:15:30] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 408.1991ms - 200
[2025-05-01 20:15:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 20:16:09] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-01 20:16:11] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-01 20:16:11] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-01 20:16:11] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-01 20:16:11] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 40
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 50
[2025-05-01 20:16:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-01 20:16:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:16:11
[2025-05-01 20:16:12] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-01 20:16:12] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-01 20:16:12] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-01 20:16:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:16:12] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-01 20:16:12] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-01 20:16:12] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-01 20:16:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:16:12] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:16:12] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:16:13] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 559.9182ms - 200
[2025-05-01 20:16:13] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 575.9886ms - 200
[2025-05-01 20:16:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 20:16:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:16:43
[2025-05-01 20:16:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:16:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:16:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:16:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:16:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 359.7433ms - 200
[2025-05-01 20:16:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 365.2856ms - 200
[2025-05-01 20:16:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 20:17:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:17:14
[2025-05-01 20:17:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:17:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:17:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:17:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:17:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 377.4077ms - 200
[2025-05-01 20:17:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 380.0745ms - 200
[2025-05-01 20:17:29] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"9587c6ed34295e012fc7ac94aa560d58","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/9587c6ed34295e012fc7ac94aa560d58/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-01T13:17:18.969933Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program ccc 01 May 25 13:16 UTC"},"created":"2025-05-01T13:16:45.031585Z","modified":"2025-05-01T13:17:18.970996Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/9587c6ed34295e012fc7ac94aa560d58/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-01T13:16:45.031577Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":16.68,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/9587c6ed34295e012fc7ac94aa560d58/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/9587c6ed34295e012fc7ac94aa560d58/manifest/video.mpd"},"watermark":null,"liveInput":"1af589526289386593aa0ba54d56365c","clippedFrom":null,"publicDetails":null}
[2025-05-01 20:17:29] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: 1af589526289386593aa0ba54d56365c
[2025-05-01 20:17:29] [Information] School_TV_Show.Controllers.LiveStreamController: Stream duration from Cloudflare: 0.004633333333333333 hours
[2025-05-01 20:17:30] [Information] School_TV_Show.Controllers.LiveStreamController: 📺 ScheduleID 5 marked as Ended from Cloudflare webhook.
[2025-05-01 20:17:30] [Information] School_TV_Show.Controllers.LiveStreamController: Updated account package - Hours used: 0.18072777777777774, Remaining: 39.819272222222224
[2025-05-01 20:17:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:17:44
[2025-05-01 20:17:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:17:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:18:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:18:14
[2025-05-01 20:18:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:18:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:18:32] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.Exception: No follows found for this account.
   at Services.ProgramFollowService.GetByAccountIdAsync(Int32 accountId) in F:\Workspace\School_TV_BE\Services\ProgramFollowService.cs:line 53
   at School_TV_Show.Controllers.ProgramFollowController.GetByAccountId(Int32 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ProgramFollowController.cs:line 37
   at lambda_method567(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 20:18:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:18:45
[2025-05-01 20:18:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:18:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:19:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:19:15
[2025-05-01 20:19:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:19:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:19:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:19:45
[2025-05-01 20:19:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:19:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:20:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:20:15
[2025-05-01 20:20:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:20:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:20:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:20:46
[2025-05-01 20:20:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:20:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:21:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:21:16
[2025-05-01 20:21:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:21:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:21:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:21:46
[2025-05-01 20:21:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:21:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:22:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:22:16
[2025-05-01 20:22:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:22:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:22:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:22:46
[2025-05-01 20:22:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:22:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:23:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:23:17
[2025-05-01 20:23:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:23:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:23:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:23:47
[2025-05-01 20:23:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:23:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:24:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:24:17
[2025-05-01 20:24:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:24:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:24:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:24:47
[2025-05-01 20:24:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:24:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:25:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:25:18
[2025-05-01 20:25:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:25:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:25:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:25:48
[2025-05-01 20:25:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:25:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:26:38] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-01 20:26:42] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-01 20:26:42] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-01 20:26:42] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-01 20:26:42] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 40
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 50
[2025-05-01 20:26:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-01 20:26:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:26:42
[2025-05-01 20:26:43] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-01 20:26:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:26:43] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-01 20:26:43] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-01 20:26:43] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-01 20:26:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:26:43] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-01 20:26:43] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-01 20:27:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:27:19
[2025-05-01 20:27:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:27:20] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.Exception: No follows found for this account.
   at Services.ProgramFollowService.GetByAccountIdAsync(Int32 accountId) in F:\Workspace\School_TV_BE\Services\ProgramFollowService.cs:line 53
   at School_TV_Show.Controllers.ProgramFollowController.GetByAccountId(Int32 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ProgramFollowController.cs:line 37
   at lambda_method175(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 20:27:25] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: An attempt was made to use the context instance while it is being configured. A DbContext instance cannot be used inside 'OnConfiguring' since it is still being configured at this point. This can happen if a second operation is started on this context instance before a previous operation completed. Any instance members are not guaranteed to be thread safe.
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AsNoTracking[TEntity](IQueryable`1 source)
   at DAOs.ScheduleDAO.GetSchedulesByChannelAndDateAsync(Int32 channelId, DateTime date) in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 156
   at Repos.ScheduleRepo.GetSchedulesByChannelAndDateAsync(Int32 channelId, DateTime date) in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 58
   at Services.ScheduleService.GetSchedulesByChannelAndDateAsync(Int32 channelId, DateTime date) in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 96
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesByChannelAndDate(Int32 channelId, DateTime date) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 284
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 20:27:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:31:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:31:12
[2025-05-01 20:31:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:31:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:31:31] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-01 20:31:34] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-01 20:31:34] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-01 20:31:34] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-01 20:31:34] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 40
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 50
[2025-05-01 20:31:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-01 20:31:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:31:34
[2025-05-01 20:31:35] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-01 20:31:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:31:35] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-01 20:31:35] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-01 20:31:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:31:35] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-01 20:31:35] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-01 20:31:35] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-01 20:31:46] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 134
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 36
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 20:31:53] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 88
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 375
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 20:32:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:32:05
[2025-05-01 20:32:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:32:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:32:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:32:35
[2025-05-01 20:32:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:32:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:32:54] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.Exception: No follows found for this account.
   at Services.ProgramFollowService.GetByAccountIdAsync(Int32 accountId) in F:\Workspace\School_TV_BE\Services\ProgramFollowService.cs:line 53
   at School_TV_Show.Controllers.ProgramFollowController.GetByAccountId(Int32 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ProgramFollowController.cs:line 37
   at lambda_method249(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 20:33:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:33:06
[2025-05-01 20:33:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:33:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:33:30] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"1a04f92d029a646427a583e99721164a","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/1a04f92d029a646427a583e99721164a/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-01T13:33:20.297248Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program ccc 01 May 25 13:26 UTC"},"created":"2025-05-01T13:26:54.140663Z","modified":"2025-05-01T13:33:20.298366Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/1a04f92d029a646427a583e99721164a/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-01T13:26:54.140654Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":367.03,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/1a04f92d029a646427a583e99721164a/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/1a04f92d029a646427a583e99721164a/manifest/video.mpd"},"watermark":null,"liveInput":"1af589526289386593aa0ba54d56365c","clippedFrom":null,"publicDetails":null}
[2025-05-01 20:33:30] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: 1af589526289386593aa0ba54d56365c
[2025-05-01 20:33:30] [Information] School_TV_Show.Controllers.LiveStreamController: Stream duration from Cloudflare: 0.10195277777777777 hours
[2025-05-01 20:33:31] [Information] School_TV_Show.Controllers.LiveStreamController: 📺 ScheduleID 5 marked as Ended from Cloudflare webhook.
[2025-05-01 20:33:31] [Information] School_TV_Show.Controllers.LiveStreamController: Updated account package - Hours used: 0.2826805555555555, Remaining: 39.71731944444444
[2025-05-01 20:33:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:33:36
[2025-05-01 20:33:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:33:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:34:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:34:06
[2025-05-01 20:34:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:34:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:34:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:34:36
[2025-05-01 20:34:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:34:36] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 5 marked as LateStart at 05/01/2025 20:34:36.
[2025-05-01 20:34:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:35:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:35:07
[2025-05-01 20:35:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:35:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:35:13] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 88
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 375
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 20:35:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:35:37
[2025-05-01 20:35:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:35:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:36:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:36:07
[2025-05-01 20:36:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:36:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:36:18] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 134
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 36
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 20:36:21] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.Exception: No follows found for this account.
   at Services.ProgramFollowService.GetByAccountIdAsync(Int32 accountId) in F:\Workspace\School_TV_BE\Services\ProgramFollowService.cs:line 53
   at School_TV_Show.Controllers.ProgramFollowController.GetByAccountId(Int32 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ProgramFollowController.cs:line 37
   at lambda_method249(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 20:36:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:36:37
[2025-05-01 20:36:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:36:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:36:37] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:36:37] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:36:38] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 714.8046ms - 200
[2025-05-01 20:36:38] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 732.5384ms - 200
[2025-05-01 20:37:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:37:08
[2025-05-01 20:37:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:37:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:37:08] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:37:08] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:37:09] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 466.559ms - 200
[2025-05-01 20:37:09] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 469.5611ms - 200
[2025-05-01 20:37:22] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.Exception: No follows found for this account.
   at Services.ProgramFollowService.GetByAccountIdAsync(Int32 accountId) in F:\Workspace\School_TV_BE\Services\ProgramFollowService.cs:line 53
   at School_TV_Show.Controllers.ProgramFollowController.GetByAccountId(Int32 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ProgramFollowController.cs:line 37
   at lambda_method249(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 20:37:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:37:39
[2025-05-01 20:37:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:37:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:37:39] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:37:39] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:37:40] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 530.3803ms - 200
[2025-05-01 20:37:40] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 539.0644ms - 200
[2025-05-01 20:38:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:38:10
[2025-05-01 20:38:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:38:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:38:10] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:38:10] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:38:10] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 427.7883ms - 200
[2025-05-01 20:38:10] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 435.3998ms - 200
[2025-05-01 20:38:24] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.Exception: No follows found for this account.
   at Services.ProgramFollowService.GetByAccountIdAsync(Int32 accountId) in F:\Workspace\School_TV_BE\Services\ProgramFollowService.cs:line 53
   at School_TV_Show.Controllers.ProgramFollowController.GetByAccountId(Int32 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ProgramFollowController.cs:line 37
   at lambda_method249(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 20:38:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:38:40
[2025-05-01 20:38:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:38:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:38:41] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:38:41] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:38:41] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 381.8142ms - 200
[2025-05-01 20:38:41] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 387.3418ms - 200
[2025-05-01 20:39:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:39:11
[2025-05-01 20:39:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:39:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:39:11] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:39:11] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:39:12] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 415.7453ms - 200
[2025-05-01 20:39:12] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 418.2012ms - 200
[2025-05-01 20:39:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:39:42
[2025-05-01 20:39:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:39:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:39:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:39:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 20:39:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 948.9024ms - 200
[2025-05-01 20:39:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 949.9551ms - 200
[2025-05-01 20:39:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip ending ScheduleID 5 early - stream not active, but still within scheduled time.
[2025-05-01 20:39:44] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"ee4b38b7a882d61a93f936af61ce5360","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/ee4b38b7a882d61a93f936af61ce5360/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-01T13:39:34.352066Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program ccc 01 May 25 13:34 UTC"},"created":"2025-05-01T13:34:24.869106Z","modified":"2025-05-01T13:39:34.352684Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/ee4b38b7a882d61a93f936af61ce5360/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-01T13:34:24.8691Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":291.96,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/ee4b38b7a882d61a93f936af61ce5360/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/ee4b38b7a882d61a93f936af61ce5360/manifest/video.mpd"},"watermark":null,"liveInput":"1af589526289386593aa0ba54d56365c","clippedFrom":null,"publicDetails":null}
[2025-05-01 20:39:44] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: 1af589526289386593aa0ba54d56365c
[2025-05-01 20:39:44] [Information] School_TV_Show.Controllers.LiveStreamController: Stream duration from Cloudflare: 0.08109999999999999 hours
[2025-05-01 20:39:45] [Information] School_TV_Show.Controllers.LiveStreamController: 📺 ScheduleID 5 marked as Ended from Cloudflare webhook.
[2025-05-01 20:39:45] [Information] School_TV_Show.Controllers.LiveStreamController: Updated account package - Hours used: 0.3637805555555555, Remaining: 39.63621944444444
[2025-05-01 20:39:58] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.Exception: No follows found for this account.
   at Services.ProgramFollowService.GetByAccountIdAsync(Int32 accountId) in F:\Workspace\School_TV_BE\Services\ProgramFollowService.cs:line 53
   at School_TV_Show.Controllers.ProgramFollowController.GetByAccountId(Int32 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ProgramFollowController.cs:line 37
   at lambda_method249(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 20:40:01] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 134
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 36
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 20:40:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:40:13
[2025-05-01 20:40:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:40:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:40:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:40:43
[2025-05-01 20:40:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:40:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:41:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:41:13
[2025-05-01 20:41:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:41:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:41:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:41:44
[2025-05-01 20:41:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:41:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:42:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:42:14
[2025-05-01 20:42:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:42:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:42:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:42:44
[2025-05-01 20:42:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:42:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:43:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:43:14
[2025-05-01 20:43:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:43:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:43:35] [Error] Services.HostedServices.DurationTrackingService: Error in DurationTrackingService
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.VideoHistoryDAO.GetVideosUploadedAfterAsync(DateTime timestamp) in F:\Workspace\School_TV_BE\DAOs\VideoHistoryDAO.cs:line 164
   at Repos.VideoHistoryRepo.GetVideosUploadedAfterAsync(DateTime timestamp) in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 95
   at Services.HostedServices.DurationTrackingService.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\DurationTrackingService.cs:line 38
[2025-05-01 20:43:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:43:45
[2025-05-01 20:43:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:43:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:44:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:44:15
[2025-05-01 20:44:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:44:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:44:35] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 40
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 50
[2025-05-01 20:44:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:44:45
[2025-05-01 20:44:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:44:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:45:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:45:15
[2025-05-01 20:45:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:45:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:45:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:45:45
[2025-05-01 20:45:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:45:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:46:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:46:16
[2025-05-01 20:46:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:46:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:46:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:46:46
[2025-05-01 20:46:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:46:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:47:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:47:16
[2025-05-01 20:47:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:47:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:47:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:47:46
[2025-05-01 20:47:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:47:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:48:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:48:16
[2025-05-01 20:48:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:48:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:48:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:48:47
[2025-05-01 20:48:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:48:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:49:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:49:17
[2025-05-01 20:49:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:49:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:49:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:49:47
[2025-05-01 20:49:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:49:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:50:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:50:17
[2025-05-01 20:50:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:50:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:50:40] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-01 20:50:42] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-01 20:50:42] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-01 20:50:42] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-01 20:50:43] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 40
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 50
[2025-05-01 20:50:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-01 20:50:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:50:43
[2025-05-01 20:50:43] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-01 20:50:43] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-01 20:50:43] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-01 20:50:43] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-01 20:50:43] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-01 20:50:43] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-01 20:50:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:50:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:51:05] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 134
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 36
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 20:51:10] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 88
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 375
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 20:51:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:51:13
[2025-05-01 20:51:13] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 134
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 36
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 20:51:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:51:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:51:18] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 134
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 36
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 20:51:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:51:44
[2025-05-01 20:51:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:51:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:52:10] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 134
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 36
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 20:52:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:52:14
[2025-05-01 20:52:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:52:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:52:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:52:44
[2025-05-01 20:52:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:52:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:53:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:53:14
[2025-05-01 20:53:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:53:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:53:43] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 40
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 50
[2025-05-01 20:53:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:53:44
[2025-05-01 20:53:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:53:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:54:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:54:15
[2025-05-01 20:54:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:54:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:54:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:54:45
[2025-05-01 20:54:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:54:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:54:47] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"ea6438fe90faf0460ff8ca62fc4ecb2d","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/ea6438fe90faf0460ff8ca62fc4ecb2d/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-01T13:54:37.240085Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program ccc 01 May 25 13:51 UTC"},"created":"2025-05-01T13:51:03.787781Z","modified":"2025-05-01T13:54:37.242461Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/ea6438fe90faf0460ff8ca62fc4ecb2d/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-01T13:51:03.787773Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":191.86,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/ea6438fe90faf0460ff8ca62fc4ecb2d/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/ea6438fe90faf0460ff8ca62fc4ecb2d/manifest/video.mpd"},"watermark":null,"liveInput":"1af589526289386593aa0ba54d56365c","clippedFrom":null,"publicDetails":null}
[2025-05-01 20:54:47] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: 1af589526289386593aa0ba54d56365c
[2025-05-01 20:54:48] [Information] School_TV_Show.Controllers.LiveStreamController: Stream duration from Cloudflare: 0.05329444444444445 hours
[2025-05-01 20:54:48] [Information] School_TV_Show.Controllers.LiveStreamController: 📺 ScheduleID 5 marked as Ended from Cloudflare webhook.
[2025-05-01 20:54:48] [Information] School_TV_Show.Controllers.LiveStreamController: Updated account package - Hours used: 0.417075, Remaining: 39.582925
[2025-05-01 20:55:03] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-01 20:55:05] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-01 20:55:05] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-01 20:55:05] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-01 20:55:05] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 40
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 50
[2025-05-01 20:55:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-01 20:55:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:55:05
[2025-05-01 20:55:06] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-01 20:55:06] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-01 20:55:06] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-01 20:55:06] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-01 20:55:06] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-01 20:55:06] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-01 20:55:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:55:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:55:29] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 88
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 375
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 20:55:33] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 134
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 36
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 20:55:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:55:36
[2025-05-01 20:55:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:55:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:55:40] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 88
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 375
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 20:56:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:56:06
[2025-05-01 20:56:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:56:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:56:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:56:37
[2025-05-01 20:56:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:56:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:57:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:57:07
[2025-05-01 20:57:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:57:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:57:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:57:37
[2025-05-01 20:57:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:57:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:58:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:58:07
[2025-05-01 20:58:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:58:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:58:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:58:37
[2025-05-01 20:58:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:58:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:59:06] [Error] Services.HostedServices.DurationTrackingService: Error in DurationTrackingService
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.VideoHistoryDAO.GetVideosUploadedAfterAsync(DateTime timestamp) in F:\Workspace\School_TV_BE\DAOs\VideoHistoryDAO.cs:line 164
   at Repos.VideoHistoryRepo.GetVideosUploadedAfterAsync(DateTime timestamp) in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 95
   at Services.HostedServices.DurationTrackingService.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\DurationTrackingService.cs:line 38
[2025-05-01 20:59:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:59:07
[2025-05-01 20:59:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:59:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 20:59:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 20:59:38
[2025-05-01 20:59:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 20:59:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:00:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:00:08
[2025-05-01 21:00:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:00:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:00:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:00:38
[2025-05-01 21:00:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:00:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:01:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:01:08
[2025-05-01 21:01:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:01:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:01:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:01:38
[2025-05-01 21:01:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:01:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:02:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:02:09
[2025-05-01 21:02:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:02:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:02:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:02:39
[2025-05-01 21:02:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:02:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:03:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:03:09
[2025-05-01 21:03:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:03:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:03:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:03:39
[2025-05-01 21:03:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:03:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:04:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:04:09
[2025-05-01 21:04:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:04:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:04:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:04:40
[2025-05-01 21:04:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:04:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:05:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:05:10
[2025-05-01 21:05:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:05:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:05:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:05:40
[2025-05-01 21:05:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:05:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:06:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:06:10
[2025-05-01 21:06:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:06:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:06:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:06:40
[2025-05-01 21:06:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:06:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:07:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:07:11
[2025-05-01 21:07:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:07:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:07:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:07:41
[2025-05-01 21:07:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:07:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:08:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:08:11
[2025-05-01 21:08:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:08:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:08:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:08:41
[2025-05-01 21:08:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:08:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:09:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:09:11
[2025-05-01 21:09:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:09:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:09:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:09:42
[2025-05-01 21:09:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:09:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:10:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:10:12
[2025-05-01 21:10:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:10:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:10:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:10:42
[2025-05-01 21:10:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:10:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:11:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:11:12
[2025-05-01 21:11:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:11:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:11:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:11:42
[2025-05-01 21:11:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:11:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:12:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:12:12
[2025-05-01 21:12:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:12:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:12:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:12:43
[2025-05-01 21:12:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:12:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:13:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:13:13
[2025-05-01 21:13:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:13:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:13:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:13:43
[2025-05-01 21:13:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:13:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:14:08] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c
[2025-05-01 21:14:08] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c
[2025-05-01 21:14:09] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 653.6778ms - 200
[2025-05-01 21:14:09] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 677.711ms - 200
[2025-05-01 21:14:09] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: ✅ Marked VideoID 4 as Live
[2025-05-01 21:14:09] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 🎬 Marked ScheduleID 5 as Live (from VideoID 4)
[2025-05-01 21:14:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:14:13
[2025-05-01 21:14:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:14:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:14:13] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 21:14:13] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 21:14:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 405.5843ms - 200
[2025-05-01 21:14:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 407.0764ms - 200
[2025-05-01 21:14:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 21:14:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c/videos
[2025-05-01 21:14:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 315.0604ms - 200
[2025-05-01 21:14:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 316.6459ms - 200
[2025-05-01 21:14:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request POST https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/9c6296d1e0b46459bc07fb0bf4a5232d/downloads
[2025-05-01 21:14:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request POST https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/9c6296d1e0b46459bc07fb0bf4a5232d/downloads
[2025-05-01 21:14:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 307.4618ms - 400
[2025-05-01 21:14:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 309.4275ms - 400
[2025-05-01 21:14:15] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request DELETE https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c
[2025-05-01 21:14:15] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request DELETE https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c
[2025-05-01 21:14:15] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 357.9345ms - 200
[2025-05-01 21:14:15] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 360.0611ms - 200
[2025-05-01 21:14:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Force-ended overdue livestream for ScheduleID 5, recordings saved.
[2025-05-01 21:14:22] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 88
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 375
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 21:14:28] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.Exception: No follows found for this account.
   at Services.ProgramFollowService.GetByAccountIdAsync(Int32 accountId) in F:\Workspace\School_TV_BE\Services\ProgramFollowService.cs:line 53
   at School_TV_Show.Controllers.ProgramFollowController.GetByAccountId(Int32 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ProgramFollowController.cs:line 37
   at lambda_method545(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 21:14:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:14:45
[2025-05-01 21:14:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:14:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:14:59] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"9c6296d1e0b46459bc07fb0bf4a5232d","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/9c6296d1e0b46459bc07fb0bf4a5232d/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-01T14:14:47.441794Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program ccc 01 May 25 13:55 UTC"},"created":"2025-05-01T13:55:23.584094Z","modified":"2025-05-01T14:14:47.44342Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/9c6296d1e0b46459bc07fb0bf4a5232d/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-01T13:55:23.584087Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":1134.43,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/9c6296d1e0b46459bc07fb0bf4a5232d/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/9c6296d1e0b46459bc07fb0bf4a5232d/manifest/video.mpd"},"watermark":null,"liveInput":"1af589526289386593aa0ba54d56365c","clippedFrom":null,"publicDetails":null}
[2025-05-01 21:14:59] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: 1af589526289386593aa0ba54d56365c
[2025-05-01 21:14:59] [Information] School_TV_Show.Controllers.LiveStreamController: Stream duration from Cloudflare: 0.31511944444444445 hours
[2025-05-01 21:14:59] [Information] School_TV_Show.Controllers.LiveStreamController: 📺 ScheduleID 5 marked as Ended from Cloudflare webhook.
[2025-05-01 21:14:59] [Information] School_TV_Show.Controllers.LiveStreamController: Updated account package - Hours used: 0.7321944444444444, Remaining: 39.267805555555555
[2025-05-01 21:15:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:15:15
[2025-05-01 21:15:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:15:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:15:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:15:45
[2025-05-01 21:15:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:15:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:16:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:16:16
[2025-05-01 21:16:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:16:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:16:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:16:46
[2025-05-01 21:16:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:16:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:17:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:17:16
[2025-05-01 21:17:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-01 21:17:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 6 marked as READY.
[2025-05-01 21:17:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: ✅ Saved READY schedules to database.
[2025-05-01 21:17:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 21:17:16] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c
[2025-05-01 21:17:16] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1af589526289386593aa0ba54d56365c
[2025-05-01 21:17:17] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 466.5859ms - 404
[2025-05-01 21:17:17] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 467.6862ms - 404
[2025-05-01 21:17:17] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 87
   at Repos.LiveStreamRepo.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\Repos\LiveStreamRepo.cs:line 155
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 200
[2025-05-01 21:17:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:17:47
[2025-05-01 21:17:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:17:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 21:17:47] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request POST https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs
[2025-05-01 21:17:47] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request POST https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs
[2025-05-01 21:17:48] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 553.2412ms - 200
[2025-05-01 21:17:48] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 554.1552ms - 200
[2025-05-01 21:17:48] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Program' cannot be tracked because another instance with the same key value for {'ProgramID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 87
   at Repos.LiveStreamRepo.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\Repos\LiveStreamRepo.cs:line 155
   at Services.LiveStreamService.StartLiveStreamAsync(VideoHistory stream) in F:\Workspace\School_TV_BE\Services\LiveStreamService.cs:line 92
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 217
[2025-05-01 21:18:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:18:18
[2025-05-01 21:18:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:18:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-01 21:18:18] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21
[2025-05-01 21:18:18] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21
[2025-05-01 21:18:18] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 436.0489ms - 200
[2025-05-01 21:18:18] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 437.765ms - 200
[2025-05-01 21:18:18] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21
[2025-05-01 21:18:18] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21
[2025-05-01 21:18:19] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 351.9593ms - 200
[2025-05-01 21:18:19] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 353.3996ms - 200
[2025-05-01 21:18:19] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: No email found for ScheduleID 6's streamer.
[2025-05-01 21:18:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:18:49
[2025-05-01 21:18:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:18:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:18:49] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21/videos
[2025-05-01 21:18:49] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21/videos
[2025-05-01 21:18:49] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 395.2703ms - 200
[2025-05-01 21:18:49] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 401.3194ms - 200
[2025-05-01 21:18:53] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 134
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 36
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 21:18:57] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.Exception: No follows found for this account.
   at Services.ProgramFollowService.GetByAccountIdAsync(Int32 accountId) in F:\Workspace\School_TV_BE\Services\ProgramFollowService.cs:line 53
   at School_TV_Show.Controllers.ProgramFollowController.GetByAccountId(Int32 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ProgramFollowController.cs:line 37
   at lambda_method545(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 21:19:04] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.Exception: No follows found for this account.
   at Services.ProgramFollowService.GetByAccountIdAsync(Int32 accountId) in F:\Workspace\School_TV_BE\Services\ProgramFollowService.cs:line 53
   at School_TV_Show.Controllers.ProgramFollowController.GetByAccountId(Int32 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ProgramFollowController.cs:line 37
   at lambda_method545(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 21:19:09] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 134
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 36
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 21:19:12] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.Exception: No follows found for this account.
   at Services.ProgramFollowService.GetByAccountIdAsync(Int32 accountId) in F:\Workspace\School_TV_BE\Services\ProgramFollowService.cs:line 53
   at School_TV_Show.Controllers.ProgramFollowController.GetByAccountId(Int32 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ProgramFollowController.cs:line 37
   at lambda_method545(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 21:19:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:19:19
[2025-05-01 21:19:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:19:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:19:20] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21/videos
[2025-05-01 21:19:20] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21/videos
[2025-05-01 21:19:20] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 486.6749ms - 200
[2025-05-01 21:19:20] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 488.73ms - 200
[2025-05-01 21:19:47] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 134
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 36
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 21:19:47] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 134
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 36
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 21:19:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:19:50
[2025-05-01 21:19:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:19:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:19:50] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21/videos
[2025-05-01 21:19:50] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21/videos
[2025-05-01 21:19:51] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 359.9867ms - 200
[2025-05-01 21:19:51] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 368.4915ms - 200
[2025-05-01 21:19:53] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 88
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 375
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 21:19:56] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.Exception: No follows found for this account.
   at Services.ProgramFollowService.GetByAccountIdAsync(Int32 accountId) in F:\Workspace\School_TV_BE\Services\ProgramFollowService.cs:line 53
   at School_TV_Show.Controllers.ProgramFollowController.GetByAccountId(Int32 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ProgramFollowController.cs:line 37
   at lambda_method545(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 21:20:10] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 88
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 375
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-01 21:20:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:20:21
[2025-05-01 21:20:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:20:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:20:21] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21/videos
[2025-05-01 21:20:21] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21/videos
[2025-05-01 21:20:21] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 392.0437ms - 200
[2025-05-01 21:20:21] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 393.6384ms - 200
[2025-05-01 21:20:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:20:51
[2025-05-01 21:20:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:20:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:20:51] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21/videos
[2025-05-01 21:20:51] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21/videos
[2025-05-01 21:20:52] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 384.0194ms - 200
[2025-05-01 21:20:52] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 385.3921ms - 200
[2025-05-01 21:21:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:21:22
[2025-05-01 21:21:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:21:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:21:22] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21/videos
[2025-05-01 21:21:22] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21/videos
[2025-05-01 21:21:23] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 468.9357ms - 200
[2025-05-01 21:21:23] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 473.6799ms - 200
[2025-05-01 21:21:50] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"29fba82ee3e9d1082f6510f7e3e4a808","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/29fba82ee3e9d1082f6510f7e3e4a808/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-01T14:21:39.676104Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program ccc 01 May 25 14:18 UTC"},"created":"2025-05-01T14:18:31.591733Z","modified":"2025-05-01T14:21:39.677051Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/29fba82ee3e9d1082f6510f7e3e4a808/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-01T14:18:31.591722Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":166.83,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/29fba82ee3e9d1082f6510f7e3e4a808/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/29fba82ee3e9d1082f6510f7e3e4a808/manifest/video.mpd"},"watermark":null,"liveInput":"9c5166934f44da7425219b754244ac21","clippedFrom":null,"publicDetails":null}
[2025-05-01 21:21:50] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: 9c5166934f44da7425219b754244ac21
[2025-05-01 21:21:50] [Information] School_TV_Show.Controllers.LiveStreamController: Stream duration from Cloudflare: 0.04634166666666667 hours
[2025-05-01 21:21:50] [Information] School_TV_Show.Controllers.LiveStreamController: 📺 ScheduleID 6 marked as Ended from Cloudflare webhook.
[2025-05-01 21:21:50] [Information] School_TV_Show.Controllers.LiveStreamController: Updated account package - Hours used: 0.7785361111111111, Remaining: 39.22146388888889
[2025-05-01 21:21:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:21:53
[2025-05-01 21:21:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:21:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:22:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:22:23
[2025-05-01 21:22:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:22:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:22:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:22:53
[2025-05-01 21:22:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:22:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:23:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:23:23
[2025-05-01 21:23:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:23:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-01 21:23:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/01/2025 21:23:53
[2025-05-01 21:23:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-01 21:23:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:21:31] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-02 09:21:39] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-02 09:21:39] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-02 09:21:39] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-02 09:21:39] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 40
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 50
[2025-05-02 09:21:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-02 09:21:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:21:39
[2025-05-02 09:21:40] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-02 09:21:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:21:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:21:40] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-02 09:21:40] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-02 09:21:40] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-02 09:21:40] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-02 09:21:40] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-02 09:22:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:22:10
[2025-05-02 09:22:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:22:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:22:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:22:41
[2025-05-02 09:22:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-02 09:22:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 7 marked as READY.
[2025-05-02 09:22:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: ✅ Saved READY schedules to database.
[2025-05-02 09:22:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 09:22:41] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21
[2025-05-02 09:22:41] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21
[2025-05-02 09:22:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 752.5937ms - 200
[2025-05-02 09:22:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 763.4687ms - 200
[2025-05-02 09:22:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21
[2025-05-02 09:22:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21
[2025-05-02 09:22:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 392.0646ms - 200
[2025-05-02 09:22:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 393.1415ms - 200
[2025-05-02 09:22:42] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: No email found for ScheduleID 7's streamer.
[2025-05-02 09:23:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:23:13
[2025-05-02 09:23:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:23:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 09:23:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:23:43
[2025-05-02 09:23:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:23:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 09:24:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:24:13
[2025-05-02 09:24:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:24:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 09:24:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:24:44
[2025-05-02 09:24:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:24:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 09:25:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:25:14
[2025-05-02 09:25:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:25:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 09:25:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:25:44
[2025-05-02 09:25:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:25:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 09:26:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:26:15
[2025-05-02 09:26:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:26:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 09:26:56] [Error] Services.HostedServices.DurationTrackingService: Error in DurationTrackingService
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.VideoHistoryDAO.GetVideosUploadedAfterAsync(DateTime timestamp) in F:\Workspace\School_TV_BE\DAOs\VideoHistoryDAO.cs:line 164
   at Repos.VideoHistoryRepo.GetVideosUploadedAfterAsync(DateTime timestamp) in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 95
   at Services.HostedServices.DurationTrackingService.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\DurationTrackingService.cs:line 38
[2025-05-02 09:27:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:27:26
[2025-05-02 09:27:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:27:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 09:27:55] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.LiveStreamDAO.GetLateStartCandidatesAsync(DateTime currentTime) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 176
   at Repos.LiveStreamRepo.GetLateStartCandidatesAsync(DateTime thresholdTime) in F:\Workspace\School_TV_BE\Repos\LiveStreamRepo.cs:line 65
   at School_TV_Show.HostedService.CloudflareStreamMonitor.MarkScheduleLateStartAsync(IServiceScope scope, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 112
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 66
[2025-05-02 09:28:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:28:25
[2025-05-02 09:28:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:28:25] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.LiveStreamDAO.GetLateStartCandidatesAsync(DateTime currentTime) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 176
   at Repos.LiveStreamRepo.GetLateStartCandidatesAsync(DateTime thresholdTime) in F:\Workspace\School_TV_BE\Repos\LiveStreamRepo.cs:line 65
   at School_TV_Show.HostedService.CloudflareStreamMonitor.MarkScheduleLateStartAsync(IServiceScope scope, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 112
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 66
[2025-05-02 09:28:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 09:28:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:28:55
[2025-05-02 09:28:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:28:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 09:29:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:29:25
[2025-05-02 09:29:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:29:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 09:29:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:29:56
[2025-05-02 09:29:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:29:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 09:30:25] [Warning] School_TV_Show.HostedService.CloudflareStreamMonitor: Schedule 7 marked as LateStart at 05/02/2025 09:30:25.
[2025-05-02 09:30:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:30:26
[2025-05-02 09:30:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:30:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:30:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:30:56
[2025-05-02 09:30:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:30:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:31:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:31:26
[2025-05-02 09:31:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:31:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:31:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:31:57
[2025-05-02 09:31:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:31:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:32:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:32:27
[2025-05-02 09:32:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:32:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:32:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:32:57
[2025-05-02 09:32:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:32:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:33:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:33:27
[2025-05-02 09:33:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:33:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:33:53] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-02 09:33:55] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-02 09:33:55] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-02 09:33:55] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-02 09:33:55] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 40
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 50
[2025-05-02 09:33:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-02 09:33:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:33:55
[2025-05-02 09:33:55] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-02 09:33:55] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-02 09:33:55] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-02 09:33:55] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-02 09:33:55] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-02 09:33:55] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-02 09:33:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:33:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:34:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:34:26
[2025-05-02 09:34:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:34:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:34:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:34:56
[2025-05-02 09:34:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:34:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:35:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:35:27
[2025-05-02 09:35:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:35:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:35:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:35:57
[2025-05-02 09:35:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-02 09:35:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 8 marked as READY.
[2025-05-02 09:35:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: ✅ Saved READY schedules to database.
[2025-05-02 09:35:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 09:36:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:36:28
[2025-05-02 09:36:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:36:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 09:36:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:36:58
[2025-05-02 09:36:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:36:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 09:37:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:37:28
[2025-05-02 09:37:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:37:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 09:37:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:37:58
[2025-05-02 09:37:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:37:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 09:38:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:38:43
[2025-05-02 09:38:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:38:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 09:38:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21
[2025-05-02 09:38:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21
[2025-05-02 09:38:44] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1234.1112ms - 200
[2025-05-02 09:38:44] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1244.3555ms - 200
[2025-05-02 09:38:44] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21
[2025-05-02 09:38:44] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21
[2025-05-02 09:38:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 384.6266ms - 200
[2025-05-02 09:38:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 386.0736ms - 200
[2025-05-02 09:38:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Is live input created for schedule: True.
[2025-05-02 09:38:45] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: No email found for ScheduleID 8's streamer.
[2025-05-02 09:38:56] [Error] Services.HostedServices.DurationTrackingService: Error in DurationTrackingService
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.VideoHistoryDAO.GetVideosUploadedAfterAsync(DateTime timestamp) in F:\Workspace\School_TV_BE\DAOs\VideoHistoryDAO.cs:line 164
   at Repos.VideoHistoryRepo.GetVideosUploadedAfterAsync(DateTime timestamp) in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 95
   at Services.HostedServices.DurationTrackingService.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\DurationTrackingService.cs:line 38
[2025-05-02 09:39:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:39:15
[2025-05-02 09:39:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:39:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 09:39:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:39:45
[2025-05-02 09:39:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:39:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 09:40:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:40:16
[2025-05-02 09:40:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:40:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 09:40:16] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21
[2025-05-02 09:40:16] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21
[2025-05-02 09:40:16] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 475.2773ms - 200
[2025-05-02 09:40:16] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 476.6636ms - 200
[2025-05-02 09:40:28] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21
[2025-05-02 09:40:28] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21
[2025-05-02 09:40:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 679.9489ms - 200
[2025-05-02 09:40:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 2746.8096ms - 200
[2025-05-02 09:40:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Is live input created for schedule: True.
[2025-05-02 09:40:55] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: No email found for ScheduleID 8's streamer.
[2025-05-02 09:41:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:41:26
[2025-05-02 09:41:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:41:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 09:41:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:41:56
[2025-05-02 09:41:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:41:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 09:42:06] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 134
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 36
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 09:42:15] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 88
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 375
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 09:42:21] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 134
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 36
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 09:42:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:42:26
[2025-05-02 09:42:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:42:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 09:42:27] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 134
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 36
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 09:42:34] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 88
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 375
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 09:42:38] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 88
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 375
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 09:42:42] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 88
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 375
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 09:42:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:42:57
[2025-05-02 09:42:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:42:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 09:42:59] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 134
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 36
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 09:43:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:43:27
[2025-05-02 09:43:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:43:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:43:27] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21/videos
[2025-05-02 09:43:27] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21/videos
[2025-05-02 09:43:28] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 510.5821ms - 200
[2025-05-02 09:43:28] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 511.8887ms - 200
[2025-05-02 09:43:28] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21/videos
[2025-05-02 09:43:28] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21/videos
[2025-05-02 09:43:28] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 284.1632ms - 200
[2025-05-02 09:43:28] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 286.4397ms - 200
[2025-05-02 09:43:28] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21/videos
[2025-05-02 09:43:28] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21/videos
[2025-05-02 09:43:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 296.7183ms - 200
[2025-05-02 09:43:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 297.6433ms - 200
[2025-05-02 09:43:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request POST https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/0c670e8ce581e9d5bf3340f489ef47af/downloads
[2025-05-02 09:43:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request POST https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/0c670e8ce581e9d5bf3340f489ef47af/downloads
[2025-05-02 09:43:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 261.829ms - 400
[2025-05-02 09:43:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 263.1315ms - 400
[2025-05-02 09:43:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request DELETE https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21
[2025-05-02 09:43:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request DELETE https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21
[2025-05-02 09:43:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 310.0461ms - 200
[2025-05-02 09:43:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 310.898ms - 200
[2025-05-02 09:43:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Force-ended overdue livestream for ScheduleID 7, recordings saved.
[2025-05-02 09:43:31] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 88
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 375
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 09:43:33] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.Exception: No follows found for this account.
   at Services.ProgramFollowService.GetByAccountIdAsync(Int32 accountId) in F:\Workspace\School_TV_BE\Services\ProgramFollowService.cs:line 53
   at School_TV_Show.Controllers.ProgramFollowController.GetByAccountId(Int32 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ProgramFollowController.cs:line 37
   at lambda_method607(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 09:43:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:43:59
[2025-05-02 09:43:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:43:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:44:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:44:30
[2025-05-02 09:44:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:44:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:44:30] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.LiveStreamDAO.GetLateStartCandidatesAsync(DateTime currentTime) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 176
   at Repos.LiveStreamRepo.GetLateStartCandidatesAsync(DateTime thresholdTime) in F:\Workspace\School_TV_BE\Repos\LiveStreamRepo.cs:line 65
   at School_TV_Show.HostedService.CloudflareStreamMonitor.MarkScheduleLateStartAsync(IServiceScope scope, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 112
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 66
[2025-05-02 09:45:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:45:00
[2025-05-02 09:45:00] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.LiveStreamDAO.GetPendingSchedulesAsync(DateTime time) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 213
   at Repos.LiveStreamRepo.GetPendingSchedulesAsync(DateTime time) in F:\Workspace\School_TV_BE\Repos\LiveStreamRepo.cs:line 95
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 60
[2025-05-02 09:45:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:45:30
[2025-05-02 09:45:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:45:30] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.LiveStreamDAO.GetLateStartCandidatesAsync(DateTime currentTime) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 176
   at Repos.LiveStreamRepo.GetLateStartCandidatesAsync(DateTime thresholdTime) in F:\Workspace\School_TV_BE\Repos\LiveStreamRepo.cs:line 65
   at School_TV_Show.HostedService.CloudflareStreamMonitor.MarkScheduleLateStartAsync(IServiceScope scope, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 112
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 66
[2025-05-02 09:45:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:46:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:46:01
[2025-05-02 09:46:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:46:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:46:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:46:31
[2025-05-02 09:46:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:46:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:46:52] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-02 09:46:54] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-02 09:46:54] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-02 09:46:54] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-02 09:46:54] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 40
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 50
[2025-05-02 09:46:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-02 09:46:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:46:54
[2025-05-02 09:46:54] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-02 09:46:54] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-02 09:46:54] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-02 09:46:55] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-02 09:46:55] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-02 09:46:55] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-02 09:46:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:46:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:47:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:47:25
[2025-05-02 09:47:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:47:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:47:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:47:55
[2025-05-02 09:47:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:47:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:48:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:48:26
[2025-05-02 09:48:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-02 09:48:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 9 marked as READY.
[2025-05-02 09:48:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: ✅ Saved READY schedules to database.
[2025-05-02 09:48:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 09:48:26] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21
[2025-05-02 09:48:26] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/9c5166934f44da7425219b754244ac21
[2025-05-02 09:48:26] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 513.5038ms - 404
[2025-05-02 09:48:26] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 531.5211ms - 404
[2025-05-02 09:48:27] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 87
   at Repos.LiveStreamRepo.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\Repos\LiveStreamRepo.cs:line 155
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 200
[2025-05-02 09:48:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:48:57
[2025-05-02 09:48:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:48:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 09:48:57] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request POST https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs
[2025-05-02 09:48:57] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request POST https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs
[2025-05-02 09:48:57] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 667.975ms - 200
[2025-05-02 09:48:57] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 668.8626ms - 200
[2025-05-02 09:48:58] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Program' cannot be tracked because another instance with the same key value for {'ProgramID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 87
   at Repos.LiveStreamRepo.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\Repos\LiveStreamRepo.cs:line 155
   at Services.LiveStreamService.StartLiveStreamAsync(VideoHistory stream) in F:\Workspace\School_TV_BE\Services\LiveStreamService.cs:line 92
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 217
[2025-05-02 09:49:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:49:28
[2025-05-02 09:49:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:49:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 09:49:28] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 09:49:28] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 09:49:28] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 483.6249ms - 200
[2025-05-02 09:49:28] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 485.6137ms - 200
[2025-05-02 09:49:28] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 09:49:28] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 09:49:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 491.8675ms - 200
[2025-05-02 09:49:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 495.3157ms - 200
[2025-05-02 09:49:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Is live input created for schedule: True.
[2025-05-02 09:49:29] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: No email found for ScheduleID 9's streamer.
[2025-05-02 09:49:30] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 88
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 375
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 09:49:36] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 134
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 36
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 09:49:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:49:59
[2025-05-02 09:49:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:49:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:49:59] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 09:49:59] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 09:50:00] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 418.5323ms - 200
[2025-05-02 09:50:00] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 423.0101ms - 200
[2025-05-02 09:50:06] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 88
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 375
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 09:50:08] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.Exception: No follows found for this account.
   at Services.ProgramFollowService.GetByAccountIdAsync(Int32 accountId) in F:\Workspace\School_TV_BE\Services\ProgramFollowService.cs:line 53
   at School_TV_Show.Controllers.ProgramFollowController.GetByAccountId(Int32 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ProgramFollowController.cs:line 37
   at lambda_method756(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 09:50:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:50:30
[2025-05-02 09:50:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:50:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:50:30] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 09:50:30] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 09:50:30] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 375.2216ms - 200
[2025-05-02 09:50:30] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 377.7722ms - 200
[2025-05-02 09:50:55] [Error] Services.HostedServices.DurationTrackingService: Error in DurationTrackingService
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.VideoHistoryDAO.GetVideosUploadedAfterAsync(DateTime timestamp) in F:\Workspace\School_TV_BE\DAOs\VideoHistoryDAO.cs:line 164
   at Repos.VideoHistoryRepo.GetVideosUploadedAfterAsync(DateTime timestamp) in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 95
   at Services.HostedServices.DurationTrackingService.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\DurationTrackingService.cs:line 38
[2025-05-02 09:51:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:51:01
[2025-05-02 09:51:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:51:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:51:01] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 09:51:01] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 09:51:01] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 500.0605ms - 200
[2025-05-02 09:51:01] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 501.2838ms - 200
[2025-05-02 09:51:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip early end check for ScheduleID 9 - within 5-minute grace after StartTime 05/02/2025 09:50:00
[2025-05-02 09:51:08] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"f9dca0f8dbc291e9c944a9f34de989da","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/f9dca0f8dbc291e9c944a9f34de989da/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-02T02:50:56.445384Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program ccc 02 May 25 02:49 UTC"},"created":"2025-05-02T02:49:28.359866Z","modified":"2025-05-02T02:50:56.446934Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/f9dca0f8dbc291e9c944a9f34de989da/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-02T02:49:28.359861Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":66.73,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/f9dca0f8dbc291e9c944a9f34de989da/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/f9dca0f8dbc291e9c944a9f34de989da/manifest/video.mpd"},"watermark":null,"liveInput":"a4685b921ac15c1f6fa396042cf28039","clippedFrom":null,"publicDetails":null}
[2025-05-02 09:51:08] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: a4685b921ac15c1f6fa396042cf28039
[2025-05-02 09:51:08] [Information] School_TV_Show.Controllers.LiveStreamController: Stream duration from Cloudflare: 0.01853611111111111 hours
[2025-05-02 09:51:08] [Information] School_TV_Show.Controllers.LiveStreamController: 📺 ScheduleID 9 marked as Ended from Cloudflare webhook.
[2025-05-02 09:51:08] [Information] School_TV_Show.Controllers.LiveStreamController: Updated account package - Hours used: 0.7970722222222222, Remaining: 39.20292777777778
[2025-05-02 09:51:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:51:31
[2025-05-02 09:51:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:51:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:52:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:52:02
[2025-05-02 09:52:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:52:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:52:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:52:32
[2025-05-02 09:52:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:52:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:53:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:53:02
[2025-05-02 09:53:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:53:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:53:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:53:32
[2025-05-02 09:53:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:53:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:54:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:54:03
[2025-05-02 09:54:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:54:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:54:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:54:33
[2025-05-02 09:54:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:54:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:55:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:55:03
[2025-05-02 09:55:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:55:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:55:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:55:33
[2025-05-02 09:55:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:55:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:56:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:56:03
[2025-05-02 09:56:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:56:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:56:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:56:34
[2025-05-02 09:56:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:56:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:57:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:57:04
[2025-05-02 09:57:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:57:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:57:39] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-02 09:57:41] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-02 09:57:41] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-02 09:57:41] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-02 09:57:41] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 40
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 50
[2025-05-02 09:57:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-02 09:57:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:57:41
[2025-05-02 09:57:41] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-02 09:57:41] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-02 09:57:41] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-02 09:57:41] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-02 09:57:41] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-02 09:57:41] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-02 09:57:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:57:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:58:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:58:12
[2025-05-02 09:58:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:58:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:58:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:58:42
[2025-05-02 09:58:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:58:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:59:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:59:13
[2025-05-02 09:59:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:59:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 09:59:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 09:59:43
[2025-05-02 09:59:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 09:59:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:00:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:00:13
[2025-05-02 10:00:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:00:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:00:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:00:43
[2025-05-02 10:00:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-02 10:00:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 10 marked as READY.
[2025-05-02 10:00:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: ✅ Saved READY schedules to database.
[2025-05-02 10:00:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 10:00:44] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 10:00:44] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 10:00:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1096.3645ms - 200
[2025-05-02 10:00:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1116.5316ms - 200
[2025-05-02 10:00:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 10:00:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 10:00:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 517.7496ms - 200
[2025-05-02 10:00:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 519.1119ms - 200
[2025-05-02 10:00:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Is live input created for schedule: True.
[2025-05-02 10:00:46] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: No email found for ScheduleID 10's streamer.
[2025-05-02 10:01:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:01:16
[2025-05-02 10:01:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:01:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 10:01:30] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 134
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 36
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 10:01:32] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.Exception: No follows found for this account.
   at Services.ProgramFollowService.GetByAccountIdAsync(Int32 accountId) in F:\Workspace\School_TV_BE\Services\ProgramFollowService.cs:line 53
   at School_TV_Show.Controllers.ProgramFollowController.GetByAccountId(Int32 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ProgramFollowController.cs:line 37
   at lambda_method651(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 10:01:38] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.Exception: No follows found for this account.
   at Services.ProgramFollowService.GetByAccountIdAsync(Int32 accountId) in F:\Workspace\School_TV_BE\Services\ProgramFollowService.cs:line 53
   at School_TV_Show.Controllers.ProgramFollowController.GetByAccountId(Int32 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ProgramFollowController.cs:line 37
   at lambda_method651(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 10:01:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:01:46
[2025-05-02 10:01:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:01:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:01:46] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:01:46] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:01:47] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 521.2474ms - 200
[2025-05-02 10:01:47] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 523.2755ms - 200
[2025-05-02 10:02:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:02:17
[2025-05-02 10:02:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:02:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:02:17] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:02:17] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:02:17] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"6ec8152b11d19942eec89261c7079ad2","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/6ec8152b11d19942eec89261c7079ad2/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-02T03:02:06.243686Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program ccc 02 May 25 03:01 UTC"},"created":"2025-05-02T03:01:01.597039Z","modified":"2025-05-02T03:02:06.244716Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/6ec8152b11d19942eec89261c7079ad2/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-02T03:01:01.597032Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":41.71,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/6ec8152b11d19942eec89261c7079ad2/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/6ec8152b11d19942eec89261c7079ad2/manifest/video.mpd"},"watermark":null,"liveInput":"a4685b921ac15c1f6fa396042cf28039","clippedFrom":null,"publicDetails":null}
[2025-05-02 10:02:17] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: a4685b921ac15c1f6fa396042cf28039
[2025-05-02 10:02:17] [Information] School_TV_Show.Controllers.LiveStreamController: Stream duration from Cloudflare: 0.011586111111111111 hours
[2025-05-02 10:02:18] [Information] School_TV_Show.Controllers.LiveStreamController: 📺 ScheduleID 10 marked as Ended from Cloudflare webhook.
[2025-05-02 10:02:18] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 652.7537ms - 200
[2025-05-02 10:02:18] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 654.3805ms - 200
[2025-05-02 10:02:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip early end check for ScheduleID 10 - within 5-minute grace after StartTime 05/02/2025 10:02:00
[2025-05-02 10:02:18] [Information] School_TV_Show.Controllers.LiveStreamController: Updated account package - Hours used: 0.8086583333333333, Remaining: 39.191341666666666
[2025-05-02 10:02:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:02:48
[2025-05-02 10:02:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:02:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:03:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:03:18
[2025-05-02 10:03:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:03:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:03:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:03:48
[2025-05-02 10:03:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:03:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:04:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:04:18
[2025-05-02 10:04:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:04:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:04:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:04:49
[2025-05-02 10:04:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:04:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:05:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:05:19
[2025-05-02 10:05:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:05:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:05:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:05:49
[2025-05-02 10:05:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:05:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:06:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:06:20
[2025-05-02 10:06:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:06:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:06:52] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-02 10:06:54] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-02 10:06:54] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-02 10:06:54] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-02 10:06:54] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 40
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 50
[2025-05-02 10:06:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-02 10:06:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:06:54
[2025-05-02 10:06:54] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-02 10:06:54] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-02 10:06:54] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-02 10:06:54] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-02 10:06:54] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-02 10:06:54] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-02 10:06:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:06:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:07:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:07:25
[2025-05-02 10:07:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:07:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:07:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:07:55
[2025-05-02 10:07:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:07:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:08:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:08:26
[2025-05-02 10:08:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:08:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:08:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:08:56
[2025-05-02 10:08:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:08:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:09:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:09:26
[2025-05-02 10:09:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:09:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:09:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:09:56
[2025-05-02 10:09:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:09:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:10:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:10:27
[2025-05-02 10:10:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:10:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:10:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:10:57
[2025-05-02 10:10:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:10:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:11:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:11:27
[2025-05-02 10:11:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-02 10:11:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 11 marked as READY.
[2025-05-02 10:11:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: ✅ Saved READY schedules to database.
[2025-05-02 10:11:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 10:11:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:11:58
[2025-05-02 10:11:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:11:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 10:12:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:12:28
[2025-05-02 10:12:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:12:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 10:12:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:12:58
[2025-05-02 10:12:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:12:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 10:13:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:13:28
[2025-05-02 10:13:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:13:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 10:13:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:13:59
[2025-05-02 10:13:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:13:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 10:14:23] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 135
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 36
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 10:14:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:14:29
[2025-05-02 10:14:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:14:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 10:14:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:14:59
[2025-05-02 10:14:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:14:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 10:15:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:15:29
[2025-05-02 10:15:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:15:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 10:16:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:16:00
[2025-05-02 10:16:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:16:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 10:16:26] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 10:16:26] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 10:16:27] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 694.3745ms - 200
[2025-05-02 10:16:27] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 716.2929ms - 200
[2025-05-02 10:16:27] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: ✅ Marked VideoID 10 as Live
[2025-05-02 10:16:27] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 🎬 Marked ScheduleID 11 as Live (from VideoID 10)
[2025-05-02 10:16:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:16:30
[2025-05-02 10:16:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:16:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:16:30] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:16:30] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:16:31] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 393.2713ms - 200
[2025-05-02 10:16:31] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 395.3201ms - 200
[2025-05-02 10:16:46] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 88
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 375
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 10:16:47] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.Exception: No follows found for this account.
   at Services.ProgramFollowService.GetByAccountIdAsync(Int32 accountId) in F:\Workspace\School_TV_BE\Services\ProgramFollowService.cs:line 53
   at School_TV_Show.Controllers.ProgramFollowController.GetByAccountId(Int32 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ProgramFollowController.cs:line 37
   at lambda_method589(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 10:17:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:17:01
[2025-05-02 10:17:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:17:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:17:01] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:17:01] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:17:02] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1588.2214ms - 200
[2025-05-02 10:17:02] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1589.2058ms - 200
[2025-05-02 10:17:22] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"cdbd229107f9e33f76921d31f89e723d","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/cdbd229107f9e33f76921d31f89e723d/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-02T03:17:10.822085Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program ccc 02 May 25 03:13 UTC"},"created":"2025-05-02T03:13:22.050041Z","modified":"2025-05-02T03:17:10.823209Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/cdbd229107f9e33f76921d31f89e723d/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-02T03:13:22.050036Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":208.54,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/cdbd229107f9e33f76921d31f89e723d/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/cdbd229107f9e33f76921d31f89e723d/manifest/video.mpd"},"watermark":null,"liveInput":"a4685b921ac15c1f6fa396042cf28039","clippedFrom":null,"publicDetails":null}
[2025-05-02 10:17:22] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: a4685b921ac15c1f6fa396042cf28039
[2025-05-02 10:17:22] [Information] School_TV_Show.Controllers.LiveStreamController: Stream duration from Cloudflare: 0.05792777777777777 hours
[2025-05-02 10:17:22] [Information] School_TV_Show.Controllers.LiveStreamController: 📺 ScheduleID 11 marked as Ended from Cloudflare webhook.
[2025-05-02 10:17:22] [Information] School_TV_Show.Controllers.LiveStreamController: Updated account package - Hours used: 0.8665861111111111, Remaining: 39.13341388888889
[2025-05-02 10:17:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:17:33
[2025-05-02 10:17:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:17:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:18:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:18:03
[2025-05-02 10:18:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:18:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:18:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:18:33
[2025-05-02 10:18:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:18:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:19:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:19:03
[2025-05-02 10:19:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:19:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:19:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:19:34
[2025-05-02 10:19:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:19:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:20:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:20:04
[2025-05-02 10:20:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:20:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:20:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:20:34
[2025-05-02 10:20:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:20:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:21:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:21:04
[2025-05-02 10:21:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:21:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:21:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:21:34
[2025-05-02 10:21:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:21:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:22:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:22:05
[2025-05-02 10:22:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:22:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:22:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:22:35
[2025-05-02 10:22:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:22:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:23:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:23:05
[2025-05-02 10:23:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:23:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:23:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:23:35
[2025-05-02 10:23:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:23:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:24:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:24:06
[2025-05-02 10:24:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:24:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:24:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:24:36
[2025-05-02 10:24:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:24:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:25:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:25:06
[2025-05-02 10:25:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:25:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:25:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:25:36
[2025-05-02 10:25:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:25:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:26:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:26:07
[2025-05-02 10:26:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:26:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:26:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:26:37
[2025-05-02 10:26:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:26:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:27:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:27:07
[2025-05-02 10:27:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:27:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:27:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:27:37
[2025-05-02 10:27:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-02 10:27:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 12 marked as READY.
[2025-05-02 10:27:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: ✅ Saved READY schedules to database.
[2025-05-02 10:27:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 10:27:38] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 10:27:38] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 10:27:39] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 882.0054ms - 200
[2025-05-02 10:27:39] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 884.434ms - 200
[2025-05-02 10:27:39] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 10:27:39] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 10:27:39] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 533.9591ms - 200
[2025-05-02 10:27:39] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 535.0614ms - 200
[2025-05-02 10:27:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Is live input created for schedule: True.
[2025-05-02 10:27:39] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: No email found for ScheduleID 12's streamer.
[2025-05-02 10:28:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:28:09
[2025-05-02 10:28:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:28:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 10:28:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:28:40
[2025-05-02 10:28:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:28:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 10:28:59] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 10:28:59] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 10:29:00] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 754.027ms - 200
[2025-05-02 10:29:00] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 755.5336ms - 200
[2025-05-02 10:29:00] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: ✅ Marked VideoID 11 as Live
[2025-05-02 10:29:00] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 🎬 Marked ScheduleID 12 as Live (from VideoID 11)
[2025-05-02 10:29:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:29:10
[2025-05-02 10:29:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:29:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:29:10] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:29:10] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:29:11] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 466.0195ms - 200
[2025-05-02 10:29:11] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 467.5786ms - 200
[2025-05-02 10:29:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:29:41
[2025-05-02 10:29:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:29:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:29:41] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:29:41] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:29:41] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 432.11ms - 200
[2025-05-02 10:29:41] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 435.9679ms - 200
[2025-05-02 10:29:44] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 135
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 36
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 10:29:46] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.Exception: No follows found for this account.
   at Services.ProgramFollowService.GetByAccountIdAsync(Int32 accountId) in F:\Workspace\School_TV_BE\Services\ProgramFollowService.cs:line 53
   at School_TV_Show.Controllers.ProgramFollowController.GetByAccountId(Int32 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ProgramFollowController.cs:line 37
   at lambda_method589(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 10:30:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:30:12
[2025-05-02 10:30:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:30:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:30:12] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:30:12] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:30:12] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 411.4608ms - 200
[2025-05-02 10:30:12] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 414.2923ms - 200
[2025-05-02 10:30:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:30:42
[2025-05-02 10:30:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:30:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:30:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:30:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:30:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 382.0702ms - 200
[2025-05-02 10:30:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 383.4601ms - 200
[2025-05-02 10:31:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:31:13
[2025-05-02 10:31:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:31:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:31:13] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:31:13] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:31:15] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1319.7365ms - 200
[2025-05-02 10:31:15] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1320.8049ms - 200
[2025-05-02 10:31:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:31:45
[2025-05-02 10:31:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:31:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:31:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:31:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:31:46] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 379.1292ms - 200
[2025-05-02 10:31:46] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 379.9811ms - 200
[2025-05-02 10:32:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:32:16
[2025-05-02 10:32:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:32:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:32:16] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:32:16] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:32:16] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 404.0886ms - 200
[2025-05-02 10:32:16] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 406.3493ms - 200
[2025-05-02 10:32:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:32:46
[2025-05-02 10:32:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:32:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:32:47] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:32:47] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:32:47] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 406.1059ms - 200
[2025-05-02 10:32:47] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 408.0942ms - 200
[2025-05-02 10:33:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:33:17
[2025-05-02 10:33:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:33:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:33:17] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:33:17] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:33:18] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 646.1731ms - 200
[2025-05-02 10:33:18] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 648.2336ms - 200
[2025-05-02 10:33:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:33:48
[2025-05-02 10:33:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:33:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:33:48] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:33:48] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:33:49] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 390.633ms - 200
[2025-05-02 10:33:49] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 392.0497ms - 200
[2025-05-02 10:34:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:34:19
[2025-05-02 10:34:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:34:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:34:19] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:34:19] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:34:20] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1040.6143ms - 200
[2025-05-02 10:34:20] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1042.7563ms - 200
[2025-05-02 10:34:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:34:50
[2025-05-02 10:34:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:34:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:34:50] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:34:50] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:34:51] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 374.4773ms - 200
[2025-05-02 10:34:51] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 375.6285ms - 200
[2025-05-02 10:35:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:35:21
[2025-05-02 10:35:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:35:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:35:21] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:35:21] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 10:35:22] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 669.2451ms - 200
[2025-05-02 10:35:22] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 670.9255ms - 200
[2025-05-02 10:35:44] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"5d14a6fbf45aa5907a13855a6d68c044","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/5d14a6fbf45aa5907a13855a6d68c044/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-02T03:35:32.760768Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program ccc 02 May 25 03:28 UTC"},"created":"2025-05-02T03:28:56.640109Z","modified":"2025-05-02T03:35:32.764121Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/5d14a6fbf45aa5907a13855a6d68c044/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-02T03:28:56.640102Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":58.39,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/5d14a6fbf45aa5907a13855a6d68c044/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/5d14a6fbf45aa5907a13855a6d68c044/manifest/video.mpd"},"watermark":null,"liveInput":"a4685b921ac15c1f6fa396042cf28039","clippedFrom":null,"publicDetails":null}
[2025-05-02 10:35:44] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: a4685b921ac15c1f6fa396042cf28039
[2025-05-02 10:35:44] [Information] School_TV_Show.Controllers.LiveStreamController: Stream duration from Cloudflare: 0.016219444444444446 hours
[2025-05-02 10:35:44] [Information] School_TV_Show.Controllers.LiveStreamController: 📺 ScheduleID 12 marked as Ended from Cloudflare webhook.
[2025-05-02 10:35:44] [Information] School_TV_Show.Controllers.LiveStreamController: Updated account package - Hours used: 0.8828055555555555, Remaining: 39.11719444444444
[2025-05-02 10:35:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:35:52
[2025-05-02 10:35:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:35:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:36:05] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"801bf8fd6a673686969a980ed0f9f929","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/801bf8fd6a673686969a980ed0f9f929/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":false,"readyToStreamAt":null,"status":{"state":"error","step":"encoding","errorReasonCode":"ERR_UNKNOWN","errorReasonText":"The video failed to be encoded due to an unknown cause."},"meta":{"name":"Scheduled stream for program ccc 02 May 25 03:35 UTC"},"created":"2025-05-02T03:35:34.731961Z","modified":"2025-05-02T03:35:53.848523Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/801bf8fd6a673686969a980ed0f9f929/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-02T03:35:34.731953Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":-1,"input":{"width":-1,"height":-1},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/801bf8fd6a673686969a980ed0f9f929/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/801bf8fd6a673686969a980ed0f9f929/manifest/video.mpd"},"watermark":null,"liveInput":"a4685b921ac15c1f6fa396042cf28039","clippedFrom":null,"publicDetails":null}
[2025-05-02 10:36:05] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: a4685b921ac15c1f6fa396042cf28039
[2025-05-02 10:36:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:36:22
[2025-05-02 10:36:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:36:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:36:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:36:52
[2025-05-02 10:36:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:36:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:37:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:37:22
[2025-05-02 10:37:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:37:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:37:38] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-02 10:37:39] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-02 10:37:39] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-02 10:37:40] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-02 10:37:40] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 40
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 50
[2025-05-02 10:37:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-02 10:37:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:37:40
[2025-05-02 10:37:40] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-02 10:37:40] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-02 10:37:40] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-02 10:37:40] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-02 10:37:40] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-02 10:37:40] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-02 10:37:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:37:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:38:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:38:11
[2025-05-02 10:38:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:38:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:38:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:38:41
[2025-05-02 10:38:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-02 10:38:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 13 marked as READY.
[2025-05-02 10:38:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: ✅ Saved READY schedules to database.
[2025-05-02 10:38:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 10:38:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 10:38:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 10:38:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 763.5737ms - 200
[2025-05-02 10:38:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 782.5446ms - 200
[2025-05-02 10:38:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 10:38:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 10:38:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 409.9699ms - 200
[2025-05-02 10:38:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 412.5539ms - 200
[2025-05-02 10:38:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Is live input created for schedule: True.
[2025-05-02 10:38:43] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: No email found for ScheduleID 13's streamer.
[2025-05-02 10:39:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:39:13
[2025-05-02 10:39:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:39:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 10:39:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:39:43
[2025-05-02 10:39:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:39:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 10:39:45] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"c9cc97e6c15437bf3561c4c4403676c6","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/c9cc97e6c15437bf3561c4c4403676c6/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-02T03:39:33.906459Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program ccc 02 May 25 03:39 UTC"},"created":"2025-05-02T03:39:01.258779Z","modified":"2025-05-02T03:39:33.909416Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/c9cc97e6c15437bf3561c4c4403676c6/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-02T03:39:01.258774Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":8.34,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/c9cc97e6c15437bf3561c4c4403676c6/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/c9cc97e6c15437bf3561c4c4403676c6/manifest/video.mpd"},"watermark":null,"liveInput":"a4685b921ac15c1f6fa396042cf28039","clippedFrom":null,"publicDetails":null}
[2025-05-02 10:39:45] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: a4685b921ac15c1f6fa396042cf28039
[2025-05-02 10:39:45] [Information] School_TV_Show.Controllers.LiveStreamController: Stream duration from Cloudflare: 0.0023166666666666665 hours
[2025-05-02 10:39:45] [Information] School_TV_Show.Controllers.LiveStreamController: 📺 ScheduleID 13 marked as Ended from Cloudflare webhook.
[2025-05-02 10:39:45] [Information] School_TV_Show.Controllers.LiveStreamController: Updated account package - Hours used: 0.8851222222222221, Remaining: 39.11487777777778
[2025-05-02 10:40:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:40:14
[2025-05-02 10:40:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:40:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:40:40] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 40
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 50
[2025-05-02 10:40:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:40:44
[2025-05-02 10:40:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:40:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:41:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:41:14
[2025-05-02 10:41:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:41:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:41:41] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 40
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 50
[2025-05-02 10:41:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:41:44
[2025-05-02 10:41:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:41:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:42:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:42:15
[2025-05-02 10:42:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:42:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:42:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:42:45
[2025-05-02 10:42:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:42:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:43:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:43:15
[2025-05-02 10:43:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:43:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:43:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:43:45
[2025-05-02 10:43:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:43:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:44:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:44:16
[2025-05-02 10:44:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:44:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:44:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:44:46
[2025-05-02 10:44:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:44:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:45:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:45:16
[2025-05-02 10:45:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:45:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:45:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:45:47
[2025-05-02 10:45:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:45:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:46:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:46:17
[2025-05-02 10:46:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:46:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:46:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:46:47
[2025-05-02 10:46:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:46:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:47:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:47:18
[2025-05-02 10:47:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:47:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:47:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:47:48
[2025-05-02 10:47:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:47:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:48:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:48:18
[2025-05-02 10:48:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:48:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:48:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:48:48
[2025-05-02 10:48:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:48:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:49:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:49:18
[2025-05-02 10:49:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:49:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:49:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:49:49
[2025-05-02 10:49:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:49:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:50:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:50:19
[2025-05-02 10:50:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:50:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:50:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:50:49
[2025-05-02 10:50:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:50:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:51:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:51:20
[2025-05-02 10:51:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:51:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:51:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:51:50
[2025-05-02 10:51:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:51:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:52:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:52:20
[2025-05-02 10:52:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:52:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:52:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:52:50
[2025-05-02 10:52:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:52:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:53:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:53:21
[2025-05-02 10:53:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:53:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:53:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:53:51
[2025-05-02 10:53:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:53:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:54:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:54:21
[2025-05-02 10:54:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:54:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:54:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:54:51
[2025-05-02 10:54:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:54:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:55:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:55:22
[2025-05-02 10:55:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:55:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:55:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:55:52
[2025-05-02 10:55:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:55:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:56:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:56:22
[2025-05-02 10:56:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:56:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:56:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:56:52
[2025-05-02 10:56:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:56:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:57:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:57:23
[2025-05-02 10:57:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:57:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:57:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:57:53
[2025-05-02 10:57:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:57:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:58:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:58:23
[2025-05-02 10:58:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:58:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:58:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:58:53
[2025-05-02 10:58:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:58:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:59:24] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:59:24
[2025-05-02 10:59:24] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:59:24] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 10:59:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 10:59:54
[2025-05-02 10:59:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 10:59:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:00:24] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:00:24
[2025-05-02 11:00:24] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:00:24] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:00:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:00:54
[2025-05-02 11:00:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:00:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:01:24] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:01:24
[2025-05-02 11:01:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:01:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:01:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:01:55
[2025-05-02 11:01:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:01:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:02:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:02:25
[2025-05-02 11:02:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:02:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:02:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:02:55
[2025-05-02 11:02:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:02:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:03:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:03:25
[2025-05-02 11:03:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:03:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:03:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:03:56
[2025-05-02 11:03:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:03:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:04:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:04:26
[2025-05-02 11:04:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:04:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:04:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:04:56
[2025-05-02 11:04:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:04:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:05:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:05:26
[2025-05-02 11:05:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:05:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:05:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:05:57
[2025-05-02 11:05:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:05:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:06:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:06:27
[2025-05-02 11:06:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:06:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:06:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:06:57
[2025-05-02 11:06:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:06:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:07:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:07:27
[2025-05-02 11:07:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:07:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:07:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:07:58
[2025-05-02 11:07:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:07:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:08:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:08:28
[2025-05-02 11:08:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:08:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:08:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:08:58
[2025-05-02 11:08:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:08:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:09:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:09:28
[2025-05-02 11:09:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:09:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:09:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:09:59
[2025-05-02 11:09:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:09:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:10:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:10:29
[2025-05-02 11:10:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:10:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:10:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:10:59
[2025-05-02 11:10:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:10:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:11:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:11:29
[2025-05-02 11:11:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:11:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:12:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:12:00
[2025-05-02 11:12:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:12:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:12:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:12:30
[2025-05-02 11:12:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:12:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:13:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:13:00
[2025-05-02 11:13:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:13:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:13:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:13:30
[2025-05-02 11:13:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:13:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:14:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:14:01
[2025-05-02 11:14:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:14:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:14:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:14:31
[2025-05-02 11:14:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:14:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:15:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:15:01
[2025-05-02 11:15:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:15:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:15:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:15:31
[2025-05-02 11:15:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:15:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:16:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:16:02
[2025-05-02 11:16:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:16:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:16:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:16:32
[2025-05-02 11:16:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:16:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:17:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:17:02
[2025-05-02 11:17:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:17:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:17:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:17:32
[2025-05-02 11:17:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:17:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:18:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:18:02
[2025-05-02 11:18:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:18:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:18:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:18:33
[2025-05-02 11:18:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:18:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:19:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:19:03
[2025-05-02 11:19:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:19:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:19:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:19:33
[2025-05-02 11:19:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:19:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:20:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:20:03
[2025-05-02 11:20:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:20:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:20:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:20:34
[2025-05-02 11:20:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:20:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:21:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:21:04
[2025-05-02 11:21:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:21:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:21:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:21:34
[2025-05-02 11:21:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:21:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:22:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:22:05
[2025-05-02 11:22:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:22:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:22:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:22:35
[2025-05-02 11:22:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:22:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:23:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:23:06
[2025-05-02 11:23:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:23:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:23:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:23:37
[2025-05-02 11:23:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:23:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:24:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:24:07
[2025-05-02 11:24:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:24:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:24:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:24:37
[2025-05-02 11:24:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:24:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:25:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:25:08
[2025-05-02 11:25:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:25:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:25:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:25:38
[2025-05-02 11:25:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:25:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:26:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:26:08
[2025-05-02 11:26:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:26:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:26:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:26:39
[2025-05-02 11:26:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:26:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:27:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:27:09
[2025-05-02 11:27:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:27:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:27:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:27:39
[2025-05-02 11:27:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:27:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:28:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:28:09
[2025-05-02 11:28:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:28:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:28:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:28:40
[2025-05-02 11:28:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:28:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:29:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:29:10
[2025-05-02 11:29:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:29:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:29:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:29:40
[2025-05-02 11:29:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:29:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:30:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:30:10
[2025-05-02 11:30:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:30:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:30:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:30:40
[2025-05-02 11:30:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:30:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:31:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:31:11
[2025-05-02 11:31:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:31:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:31:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:31:41
[2025-05-02 11:31:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:31:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:32:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:32:12
[2025-05-02 11:32:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:32:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:32:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:32:42
[2025-05-02 11:32:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:32:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:33:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:33:12
[2025-05-02 11:33:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:33:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:33:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:33:42
[2025-05-02 11:33:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:33:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:34:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:34:13
[2025-05-02 11:34:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:34:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:34:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:34:43
[2025-05-02 11:34:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:34:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:35:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:35:13
[2025-05-02 11:35:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:35:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:35:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:35:43
[2025-05-02 11:35:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:35:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:36:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:36:14
[2025-05-02 11:36:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:36:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:36:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:36:44
[2025-05-02 11:36:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:36:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:36:44] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.VideoHistoryDAO.GetExpiredUploadedVideosAsync(DateTime currentTime) in F:\Workspace\School_TV_BE\DAOs\VideoHistoryDAO.cs:line 44
   at Repos.VideoHistoryRepo.GetExpiredUploadedVideosAsync(DateTime currentTime) in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 55
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 343
[2025-05-02 11:37:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:37:14
[2025-05-02 11:37:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:37:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:37:40] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-02 11:37:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:37:45
[2025-05-02 11:37:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:37:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:38:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:38:15
[2025-05-02 11:38:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:38:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:38:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:38:45
[2025-05-02 11:38:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:38:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:39:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:39:16
[2025-05-02 11:39:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:39:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:39:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:39:46
[2025-05-02 11:39:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:39:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:40:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:40:16
[2025-05-02 11:40:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:40:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:40:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:40:46
[2025-05-02 11:40:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:40:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:41:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:41:17
[2025-05-02 11:41:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:41:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:41:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:41:47
[2025-05-02 11:41:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:41:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:42:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:42:17
[2025-05-02 11:42:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:42:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:42:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:42:47
[2025-05-02 11:42:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:42:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:43:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:43:18
[2025-05-02 11:43:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:43:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:43:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:43:48
[2025-05-02 11:43:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:43:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:44:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:44:18
[2025-05-02 11:44:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:44:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:44:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:44:48
[2025-05-02 11:44:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:44:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:45:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:45:19
[2025-05-02 11:45:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:45:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:45:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:45:49
[2025-05-02 11:45:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:45:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:46:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:46:19
[2025-05-02 11:46:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:46:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:46:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:46:49
[2025-05-02 11:46:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:46:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:47:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:47:20
[2025-05-02 11:47:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:47:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 11:47:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 11:47:50
[2025-05-02 11:47:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 11:47:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:00:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:00:35
[2025-05-02 12:00:46] [Error] School_TV_Show.Controllers.SchoolChannelController: Error searching school channels
Exception: Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 0 - A socket operation was attempted to an unreachable host.)
 ---> System.ComponentModel.Win32Exception (10065): A socket operation was attempted to an unreachable host.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.SchoolChannelDAO.SearchAsync(String keyword, String address, Nullable`1 accountId) in F:\Workspace\School_TV_BE\DAOs\SchoolChannelDAO.cs:line 80
   at Repos.SchoolChannelRepo.SearchAsync(String keyword, String address, Nullable`1 accountId) in F:\Workspace\School_TV_BE\Repos\SchoolChannelRepo.cs:line 50
   at Services.SchoolChannelService.SearchAsync(String keyword, String address, Nullable`1 accountId) in F:\Workspace\School_TV_BE\Services\SchoolChannelService.cs:line 53
   at School_TV_Show.Controllers.SchoolChannelController.SearchSchoolChannels(String keyword, String address, Nullable`1 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\SchoolChannelController.cs:line 217
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:10065,State:0,Class:20
[2025-05-02 12:01:00] [Error] Services.HostedServices.DurationTrackingService: Error in DurationTrackingService
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.VideoHistoryDAO.GetVideosUploadedAfterAsync(DateTime timestamp) in F:\Workspace\School_TV_BE\DAOs\VideoHistoryDAO.cs:line 164
   at Repos.VideoHistoryRepo.GetVideosUploadedAfterAsync(DateTime timestamp) in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 95
   at Services.HostedServices.DurationTrackingService.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\DurationTrackingService.cs:line 38
[2025-05-02 12:01:00] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 0 - A socket operation was attempted to an unreachable host.)
 ---> System.ComponentModel.Win32Exception (10065): A socket operation was attempted to an unreachable host.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.LiveStreamDAO.GetPendingSchedulesAsync(DateTime time) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 219
   at Repos.LiveStreamRepo.GetPendingSchedulesAsync(DateTime time) in F:\Workspace\School_TV_BE\Repos\LiveStreamRepo.cs:line 95
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 60
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:10065,State:0,Class:20
[2025-05-02 12:09:39] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-02 12:09:41] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-02 12:09:41] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-02 12:09:41] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-02 12:09:42] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 40
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 51
[2025-05-02 12:09:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-02 12:09:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:09:42
[2025-05-02 12:09:42] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-02 12:09:42] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-02 12:09:42] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-02 12:09:42] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-02 12:09:42] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-02 12:09:42] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-02 12:09:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:09:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:10:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:10:12
[2025-05-02 12:10:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:10:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:10:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:10:43
[2025-05-02 12:10:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:10:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:10:43] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 145
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 41
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 12:10:54] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 88
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 375
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 12:11:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:11:13
[2025-05-02 12:11:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:11:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:11:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:11:43
[2025-05-02 12:11:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-02 12:11:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 14 marked as READY.
[2025-05-02 12:11:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: ✅ Saved READY schedules to database.
[2025-05-02 12:11:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 12:11:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 12:11:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 12:11:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1209.0248ms - 200
[2025-05-02 12:11:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1219.8176ms - 200
[2025-05-02 12:11:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 12:11:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 12:11:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 819.473ms - 200
[2025-05-02 12:11:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 826.8429ms - 200
[2025-05-02 12:11:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Is live input created for schedule: True.
[2025-05-02 12:11:46] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: No email found for ScheduleID 14's streamer.
[2025-05-02 12:12:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:12:16
[2025-05-02 12:12:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:12:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 12:12:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:12:46
[2025-05-02 12:12:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:12:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 12:12:46] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 12:12:46] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 12:12:47] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1075.4918ms - 200
[2025-05-02 12:12:47] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1079.4253ms - 200
[2025-05-02 12:12:47] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 12:12:47] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 12:12:48] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 861.0256ms - 200
[2025-05-02 12:12:48] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 862.9467ms - 200
[2025-05-02 12:12:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Is live input created for schedule: True.
[2025-05-02 12:12:48] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: No email found for ScheduleID 14's streamer.
[2025-05-02 12:13:12] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 12:13:12] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 12:13:13] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 940.2531ms - 200
[2025-05-02 12:13:13] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 942.2176ms - 200
[2025-05-02 12:13:13] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: ✅ Marked VideoID 13 as Live
[2025-05-02 12:13:13] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 🎬 Marked ScheduleID 14 as Live (from VideoID 13)
[2025-05-02 12:13:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:13:18
[2025-05-02 12:13:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:13:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:13:18] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:13:18] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:13:19] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 873.1503ms - 200
[2025-05-02 12:13:19] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 874.1792ms - 200
[2025-05-02 12:13:45] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 145
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 41
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 12:13:46] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.Exception: No follows found for this account.
   at Services.ProgramFollowService.GetByAccountIdAsync(Int32 accountId) in F:\Workspace\School_TV_BE\Services\ProgramFollowService.cs:line 53
   at School_TV_Show.Controllers.ProgramFollowController.GetByAccountId(Int32 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ProgramFollowController.cs:line 37
   at lambda_method656(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 12:13:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:13:49
[2025-05-02 12:13:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:13:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:13:49] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:13:49] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:13:50] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 971.4112ms - 200
[2025-05-02 12:13:50] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 978.1717ms - 200
[2025-05-02 12:14:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:14:20
[2025-05-02 12:14:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:14:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:14:20] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:14:20] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:14:21] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 830.5525ms - 200
[2025-05-02 12:14:21] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 831.5218ms - 200
[2025-05-02 12:14:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:14:51
[2025-05-02 12:14:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:14:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:14:51] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:14:51] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:14:52] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 843.5872ms - 200
[2025-05-02 12:14:52] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 845.5345ms - 200
[2025-05-02 12:15:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:15:22
[2025-05-02 12:15:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:15:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:15:22] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:15:22] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:15:23] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 864.1476ms - 200
[2025-05-02 12:15:23] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 865.2323ms - 200
[2025-05-02 12:15:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:15:53
[2025-05-02 12:15:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:15:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:15:53] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:15:53] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:15:54] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 939.4558ms - 200
[2025-05-02 12:15:54] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 944.136ms - 200
[2025-05-02 12:16:24] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:16:24
[2025-05-02 12:16:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:16:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:16:25] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:16:25] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:16:25] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 808.8512ms - 200
[2025-05-02 12:16:25] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 809.7433ms - 200
[2025-05-02 12:16:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:16:55
[2025-05-02 12:16:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:16:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:16:56] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:16:56] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:16:56] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 820.0955ms - 200
[2025-05-02 12:16:56] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 824.244ms - 200
[2025-05-02 12:17:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:17:26
[2025-05-02 12:17:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:17:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:17:27] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:17:27] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:17:27] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 768.1247ms - 200
[2025-05-02 12:17:27] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 771.3958ms - 200
[2025-05-02 12:17:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:17:57
[2025-05-02 12:17:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:17:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:17:58] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:17:58] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:18:48] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 50332.8799ms - 200
[2025-05-02 12:18:48] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 50337.2212ms - 200
[2025-05-02 12:19:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:19:18
[2025-05-02 12:19:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:19:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:19:18] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:19:18] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:19:19] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 812.8576ms - 200
[2025-05-02 12:19:19] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 814.6007ms - 200
[2025-05-02 12:19:49] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"e8181acd5a4e6d7b8ed902ffd69453c0","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/e8181acd5a4e6d7b8ed902ffd69453c0/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-02T05:19:37.681442Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program ccc 02 May 25 05:12 UTC"},"created":"2025-05-02T05:12:04.99206Z","modified":"2025-05-02T05:19:37.684199Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/e8181acd5a4e6d7b8ed902ffd69453c0/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-02T05:12:04.992052Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":433.77,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/e8181acd5a4e6d7b8ed902ffd69453c0/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/e8181acd5a4e6d7b8ed902ffd69453c0/manifest/video.mpd"},"watermark":null,"liveInput":"a4685b921ac15c1f6fa396042cf28039","clippedFrom":null,"publicDetails":null}
[2025-05-02 12:19:49] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: a4685b921ac15c1f6fa396042cf28039
[2025-05-02 12:19:49] [Information] School_TV_Show.Controllers.LiveStreamController: Stream duration from Cloudflare: 0.12049166666666666 hours
[2025-05-02 12:19:49] [Information] School_TV_Show.Controllers.LiveStreamController: 📺 ScheduleID 14 marked as Ended from Cloudflare webhook.
[2025-05-02 12:19:49] [Information] School_TV_Show.Controllers.LiveStreamController: Updated account package - Hours used: 1.0056138888888888, Remaining: 38.99438611111111
[2025-05-02 12:19:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:19:49
[2025-05-02 12:19:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:19:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:20:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:20:19
[2025-05-02 12:20:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:20:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:20:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:20:49
[2025-05-02 12:20:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:20:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:21:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:21:19
[2025-05-02 12:21:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:21:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:21:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:21:50
[2025-05-02 12:21:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:21:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:22:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:22:20
[2025-05-02 12:22:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:22:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:22:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:22:50
[2025-05-02 12:22:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:22:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:23:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:23:20
[2025-05-02 12:23:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:23:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:23:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:23:50
[2025-05-02 12:23:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:23:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:24:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:24:20
[2025-05-02 12:24:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:24:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:24:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:24:51
[2025-05-02 12:24:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:24:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:25:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:25:21
[2025-05-02 12:25:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:25:21] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:53:45] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-02 12:53:46] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-02 12:53:46] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-02 12:53:47] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-02 12:53:47] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 45
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 52
[2025-05-02 12:53:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-02 12:53:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:53:47
[2025-05-02 12:53:47] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-02 12:53:47] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-02 12:53:47] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-02 12:53:47] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-02 12:53:47] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-02 12:53:47] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-02 12:53:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:53:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:53:59] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.Exception: No follows found for this account.
   at Services.ProgramFollowService.GetByAccountIdAsync(Int32 accountId) in F:\Workspace\School_TV_BE\Services\ProgramFollowService.cs:line 53
   at School_TV_Show.Controllers.ProgramFollowController.GetByAccountId(Int32 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ProgramFollowController.cs:line 37
   at lambda_method176(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 12:54:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:54:17
[2025-05-02 12:54:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:54:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:54:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:54:48
[2025-05-02 12:54:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-02 12:54:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 15 marked as READY.
[2025-05-02 12:54:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: ✅ Saved READY schedules to database.
[2025-05-02 12:54:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 12:54:48] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 12:54:48] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 12:54:49] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1125.6418ms - 200
[2025-05-02 12:54:49] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1135.4446ms - 200
[2025-05-02 12:54:49] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 12:54:49] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 12:54:50] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 811.5728ms - 200
[2025-05-02 12:54:50] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 812.6055ms - 200
[2025-05-02 12:54:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Is live input created for schedule: True.
[2025-05-02 12:54:50] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: No email found for ScheduleID 15's streamer.
[2025-05-02 12:54:57] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 12:54:57] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 12:54:58] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 955.7815ms - 200
[2025-05-02 12:54:58] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 956.9584ms - 200
[2025-05-02 12:55:03] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 12:55:03] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 12:55:05] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 2333.3048ms - 200
[2025-05-02 12:55:05] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 2334.3621ms - 200
[2025-05-02 12:55:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:55:20
[2025-05-02 12:55:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:55:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 12:55:20] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 12:55:20] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 12:55:21] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 894.2381ms - 200
[2025-05-02 12:55:21] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 895.5676ms - 200
[2025-05-02 12:55:21] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 12:55:21] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 12:55:22] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 879.5016ms - 200
[2025-05-02 12:55:22] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 880.5778ms - 200
[2025-05-02 12:55:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Is live input created for schedule: True.
[2025-05-02 12:55:22] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: No email found for ScheduleID 15's streamer.
[2025-05-02 12:55:40] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 12:55:40] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 12:55:41] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 958.2952ms - 200
[2025-05-02 12:55:41] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 962.084ms - 200
[2025-05-02 12:55:41] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: ✅ Marked VideoID 16 as Live
[2025-05-02 12:55:41] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 🎬 Marked ScheduleID 15 as Live (from VideoID 16)
[2025-05-02 12:55:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:55:52
[2025-05-02 12:55:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:55:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:55:52] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:55:52] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:55:53] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 930.0125ms - 200
[2025-05-02 12:55:53] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 932.0922ms - 200
[2025-05-02 12:56:00] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 145
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 41
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 12:56:04] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.Exception: No follows found for this account.
   at Services.ProgramFollowService.GetByAccountIdAsync(Int32 accountId) in F:\Workspace\School_TV_BE\Services\ProgramFollowService.cs:line 53
   at School_TV_Show.Controllers.ProgramFollowController.GetByAccountId(Int32 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ProgramFollowController.cs:line 37
   at lambda_method176(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 12:56:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:56:23
[2025-05-02 12:56:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:56:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:56:23] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:56:23] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:56:24] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 810.4268ms - 200
[2025-05-02 12:56:24] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 818.1059ms - 200
[2025-05-02 12:56:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:56:54
[2025-05-02 12:56:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:56:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:56:54] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:56:54] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:56:55] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 866.7114ms - 200
[2025-05-02 12:56:55] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 867.7126ms - 200
[2025-05-02 12:57:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:57:25
[2025-05-02 12:57:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:57:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:57:25] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:57:25] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:57:26] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 830.9035ms - 200
[2025-05-02 12:57:26] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 834.4799ms - 200
[2025-05-02 12:57:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:57:56
[2025-05-02 12:57:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:57:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:57:56] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:57:56] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:57:57] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 914.7332ms - 200
[2025-05-02 12:57:57] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 922.2723ms - 200
[2025-05-02 12:58:31] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-02 12:58:32] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-02 12:58:32] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-02 12:58:32] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-02 12:58:32] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 45
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 52
[2025-05-02 12:58:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-02 12:58:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:58:32
[2025-05-02 12:58:33] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-02 12:58:33] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-02 12:58:33] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-02 12:58:33] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-02 12:58:33] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-02 12:58:33] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-02 12:58:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:58:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:58:33] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:58:33] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:58:34] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1083.3924ms - 200
[2025-05-02 12:58:34] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1095.7336ms - 200
[2025-05-02 12:59:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:59:05
[2025-05-02 12:59:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:59:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:59:05] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:59:05] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:59:06] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 821.9023ms - 200
[2025-05-02 12:59:06] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 825.0376ms - 200
[2025-05-02 12:59:30] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 12:59:30] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 12:59:32] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 1630.2507ms - 200
[2025-05-02 12:59:32] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 1631.7564ms - 200
[2025-05-02 12:59:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 12:59:36
[2025-05-02 12:59:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 12:59:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 12:59:40] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:59:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 12:59:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 2662.6435ms - 200
[2025-05-02 12:59:45] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 4631.8003ms - 200
[2025-05-02 12:59:53] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request DELETE https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 12:59:53] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request DELETE https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 12:59:54] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1073.5839ms - 200
[2025-05-02 12:59:54] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 2956.3528ms - 200
[2025-05-02 13:00:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:00:16
[2025-05-02 13:00:16] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.UpdateScheduleAsync(Schedule schedule) in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 96
   at School_TV_Show.HostedService.CloudflareStreamMonitor.CheckAndStopOverdueSchedulesAsync(VideoHistory video, IServiceScope scope, CancellationToken cancellationToken, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 192
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 80
[2025-05-02 13:00:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:00:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:00:17] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 13:00:17] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039/videos
[2025-05-02 13:00:17] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 822.3722ms - 200
[2025-05-02 13:00:17] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 823.775ms - 200
[2025-05-02 13:00:37] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"624ec5244ccb196892d32b93816367b7","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/624ec5244ccb196892d32b93816367b7/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-02T06:00:25.96294Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program ccc 02 May 25 05:55 UTC"},"created":"2025-05-02T05:55:07.855956Z","modified":"2025-05-02T06:00:25.963999Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/624ec5244ccb196892d32b93816367b7/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-02T05:55:07.85595Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":298.66,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/624ec5244ccb196892d32b93816367b7/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/624ec5244ccb196892d32b93816367b7/manifest/video.mpd"},"watermark":null,"liveInput":"a4685b921ac15c1f6fa396042cf28039","clippedFrom":null,"publicDetails":null}
[2025-05-02 13:00:37] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: a4685b921ac15c1f6fa396042cf28039
[2025-05-02 13:00:37] [Information] School_TV_Show.Controllers.LiveStreamController: Stream duration from Cloudflare: 0.08296111111111112 hours
[2025-05-02 13:00:37] [Information] School_TV_Show.Controllers.LiveStreamController: 📺 ScheduleID 15 marked as Ended from Cloudflare webhook.
[2025-05-02 13:00:38] [Information] School_TV_Show.Controllers.LiveStreamController: Updated account package - Hours used: 1.0885749999999998, Remaining: 38.911425
[2025-05-02 13:00:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:00:47
[2025-05-02 13:00:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:00:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:01:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:01:18
[2025-05-02 13:01:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:01:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:01:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:01:48
[2025-05-02 13:01:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:01:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:02:13] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-02 13:02:15] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-02 13:02:15] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-02 13:02:15] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-02 13:02:15] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 45
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 52
[2025-05-02 13:02:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-02 13:02:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:02:15
[2025-05-02 13:02:16] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-02 13:02:16] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-02 13:02:16] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-02 13:02:16] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-02 13:02:16] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-02 13:02:16] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-02 13:02:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:02:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:02:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:02:46
[2025-05-02 13:02:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:02:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:03:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:03:16
[2025-05-02 13:03:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:03:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:03:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:03:46
[2025-05-02 13:03:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:03:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:04:02] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-02 13:04:03] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-02 13:04:03] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-02 13:04:03] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-02 13:04:04] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 45
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 52
[2025-05-02 13:04:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-02 13:04:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:04:04
[2025-05-02 13:04:04] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-02 13:04:04] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-02 13:04:04] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-02 13:04:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:04:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:04:04] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-02 13:04:04] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-02 13:04:04] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-02 13:04:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:04:34
[2025-05-02 13:04:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-02 13:04:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 16 marked as READY.
[2025-05-02 13:04:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:05:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:05:04
[2025-05-02 13:05:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-02 13:05:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 16 marked as READY.
[2025-05-02 13:05:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:05:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:05:35
[2025-05-02 13:05:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-02 13:05:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 16 marked as READY.
[2025-05-02 13:05:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:06:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:06:05
[2025-05-02 13:06:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-02 13:06:05] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip marking READY for ScheduleID 16 because it's already past StartTime: 05/02/2025 13:06:00
[2025-05-02 13:06:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:06:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:06:35
[2025-05-02 13:06:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-02 13:06:35] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip marking READY for ScheduleID 16 because it's already past StartTime: 05/02/2025 13:06:00
[2025-05-02 13:06:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:07:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:07:11
[2025-05-02 13:07:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-02 13:07:12] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip marking READY for ScheduleID 16 because it's already past StartTime: 05/02/2025 13:06:00
[2025-05-02 13:07:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:07:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:07:42
[2025-05-02 13:07:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-02 13:07:42] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip marking READY for ScheduleID 16 because it's already past StartTime: 05/02/2025 13:06:00
[2025-05-02 13:07:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:08:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:08:12
[2025-05-02 13:08:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-02 13:08:12] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip marking READY for ScheduleID 16 because it's already past StartTime: 05/02/2025 13:06:00
[2025-05-02 13:08:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:08:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:08:42
[2025-05-02 13:08:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-02 13:08:42] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip marking READY for ScheduleID 16 because it's already past StartTime: 05/02/2025 13:06:00
[2025-05-02 13:08:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:09:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:09:12
[2025-05-02 13:09:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-02 13:09:12] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip marking READY for ScheduleID 16 because it's already past StartTime: 05/02/2025 13:06:00
[2025-05-02 13:09:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:09:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:09:43
[2025-05-02 13:09:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-02 13:09:43] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip marking READY for ScheduleID 16 because it's already past StartTime: 05/02/2025 13:06:00
[2025-05-02 13:09:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:10:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:10:13
[2025-05-02 13:10:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-02 13:10:13] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip marking READY for ScheduleID 16 because it's already past StartTime: 05/02/2025 13:06:00
[2025-05-02 13:10:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:10:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:10:43
[2025-05-02 13:10:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-02 13:10:43] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip marking READY for ScheduleID 16 because it's already past StartTime: 05/02/2025 13:06:00
[2025-05-02 13:10:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:10:51] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-02 13:10:52] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-02 13:10:52] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-02 13:10:52] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-02 13:10:53] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 45
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 52
[2025-05-02 13:10:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-02 13:10:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:10:53
[2025-05-02 13:10:53] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-02 13:10:53] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-02 13:10:53] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-02 13:10:53] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-02 13:10:53] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-02 13:10:53] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-02 13:10:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-02 13:10:53] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Skip marking READY for ScheduleID 16 because it's already past StartTime: 05/02/2025 13:06:00
[2025-05-02 13:10:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:11:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:11:23
[2025-05-02 13:11:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:11:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:11:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:11:54
[2025-05-02 13:11:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-02 13:11:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 17 marked as READY.
[2025-05-02 13:11:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: ✅ Saved READY schedules to database.
[2025-05-02 13:11:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 13:11:54] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 13:11:54] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a4685b921ac15c1f6fa396042cf28039
[2025-05-02 13:11:55] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1044.2426ms - 404
[2025-05-02 13:11:55] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1064.6666ms - 404
[2025-05-02 13:11:55] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 87
   at Repos.LiveStreamRepo.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\Repos\LiveStreamRepo.cs:line 160
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 200
[2025-05-02 13:12:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:12:25
[2025-05-02 13:12:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:12:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 13:12:25] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request POST https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs
[2025-05-02 13:12:25] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request POST https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs
[2025-05-02 13:12:26] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1010.3333ms - 200
[2025-05-02 13:12:26] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1011.861ms - 200
[2025-05-02 13:12:26] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Program' cannot be tracked because another instance with the same key value for {'ProgramID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 87
   at Repos.LiveStreamRepo.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\Repos\LiveStreamRepo.cs:line 160
   at Services.LiveStreamService.StartLiveStreamAsync(VideoHistory stream) in F:\Workspace\School_TV_BE\Services\LiveStreamService.cs:line 92
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 217
[2025-05-02 13:12:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:12:56
[2025-05-02 13:12:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:12:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 13:12:56] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/3d1ccf8b967501f4e6ffd2da80c5ca2b
[2025-05-02 13:12:56] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/3d1ccf8b967501f4e6ffd2da80c5ca2b
[2025-05-02 13:12:57] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1040.1258ms - 200
[2025-05-02 13:12:57] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1041.0121ms - 200
[2025-05-02 13:12:57] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/3d1ccf8b967501f4e6ffd2da80c5ca2b
[2025-05-02 13:12:57] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/3d1ccf8b967501f4e6ffd2da80c5ca2b
[2025-05-02 13:12:58] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 902.992ms - 200
[2025-05-02 13:12:58] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 905.2463ms - 200
[2025-05-02 13:12:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Is live input created for schedule: True.
[2025-05-02 13:12:59] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: No email found for ScheduleID 17's streamer.
[2025-05-02 13:13:23] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/3d1ccf8b967501f4e6ffd2da80c5ca2b
[2025-05-02 13:13:23] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/3d1ccf8b967501f4e6ffd2da80c5ca2b
[2025-05-02 13:13:24] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 980.0744ms - 200
[2025-05-02 13:13:24] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 982.7665ms - 200
[2025-05-02 13:13:24] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: ✅ Marked VideoID 17 as Live
[2025-05-02 13:13:24] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 🎬 Marked ScheduleID 17 as Live (from VideoID 17)
[2025-05-02 13:13:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:13:29
[2025-05-02 13:13:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:13:29] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:13:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/3d1ccf8b967501f4e6ffd2da80c5ca2b/videos
[2025-05-02 13:13:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/3d1ccf8b967501f4e6ffd2da80c5ca2b/videos
[2025-05-02 13:13:29] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/3d1ccf8b967501f4e6ffd2da80c5ca2b
[2025-05-02 13:13:29] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/3d1ccf8b967501f4e6ffd2da80c5ca2b
[2025-05-02 13:13:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 743.5825ms - 200
[2025-05-02 13:13:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 745.4215ms - 200
[2025-05-02 13:13:30] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 859.5395ms - 200
[2025-05-02 13:13:30] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 860.7862ms - 200
[2025-05-02 13:13:37] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 145
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 41
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 13:13:39] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.Exception: No follows found for this account.
   at Services.ProgramFollowService.GetByAccountIdAsync(Int32 accountId) in F:\Workspace\School_TV_BE\Services\ProgramFollowService.cs:line 53
   at School_TV_Show.Controllers.ProgramFollowController.GetByAccountId(Int32 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ProgramFollowController.cs:line 37
   at lambda_method711(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 13:14:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:14:00
[2025-05-02 13:14:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:14:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:14:00] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/3d1ccf8b967501f4e6ffd2da80c5ca2b/videos
[2025-05-02 13:14:00] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/3d1ccf8b967501f4e6ffd2da80c5ca2b/videos
[2025-05-02 13:14:00] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 803.2419ms - 200
[2025-05-02 13:14:00] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 804.7604ms - 200
[2025-05-02 13:14:10] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/3d1ccf8b967501f4e6ffd2da80c5ca2b
[2025-05-02 13:14:10] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/3d1ccf8b967501f4e6ffd2da80c5ca2b
[2025-05-02 13:14:11] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 1006.1781ms - 200
[2025-05-02 13:14:11] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 1007.3527ms - 200
[2025-05-02 13:14:11] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request DELETE https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/3d1ccf8b967501f4e6ffd2da80c5ca2b
[2025-05-02 13:14:11] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request DELETE https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/3d1ccf8b967501f4e6ffd2da80c5ca2b
[2025-05-02 13:14:12] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 845.4997ms - 200
[2025-05-02 13:14:12] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 847.055ms - 200
[2025-05-02 13:14:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:14:31
[2025-05-02 13:14:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:14:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:14:52] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/3d1ccf8b967501f4e6ffd2da80c5ca2b
[2025-05-02 13:14:52] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/3d1ccf8b967501f4e6ffd2da80c5ca2b
[2025-05-02 13:14:53] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 848.0464ms - 404
[2025-05-02 13:14:53] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 849.1068ms - 404
[2025-05-02 13:14:54] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"1594a0b519e6a3e06f3e2f6c393e81f5","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/1594a0b519e6a3e06f3e2f6c393e81f5/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-02T06:14:42.892506Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program ccc 02 May 25 06:12 UTC"},"created":"2025-05-02T06:12:53.498895Z","modified":"2025-05-02T06:14:42.894319Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/1594a0b519e6a3e06f3e2f6c393e81f5/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-02T06:12:53.498889Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":91.76,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/1594a0b519e6a3e06f3e2f6c393e81f5/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/1594a0b519e6a3e06f3e2f6c393e81f5/manifest/video.mpd"},"watermark":null,"liveInput":"3d1ccf8b967501f4e6ffd2da80c5ca2b","clippedFrom":null,"publicDetails":null}
[2025-05-02 13:14:54] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: 3d1ccf8b967501f4e6ffd2da80c5ca2b
[2025-05-02 13:14:54] [Information] School_TV_Show.Controllers.LiveStreamController: Stream duration from Cloudflare: 0.02548888888888889 hours
[2025-05-02 13:14:54] [Information] School_TV_Show.Controllers.LiveStreamController: 📺 ScheduleID 13 marked as Ended from Cloudflare webhook.
[2025-05-02 13:14:54] [Information] School_TV_Show.Controllers.LiveStreamController: Updated account package - Hours used: 1.1140638888888887, Remaining: 38.885936111111114
[2025-05-02 13:15:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:15:01
[2025-05-02 13:15:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:15:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:15:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:15:31
[2025-05-02 13:15:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:15:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:16:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:16:01
[2025-05-02 13:16:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:16:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:16:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:16:31
[2025-05-02 13:16:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:16:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:17:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:17:01
[2025-05-02 13:17:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:17:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:17:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:17:31
[2025-05-02 13:17:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:17:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:18:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:18:01
[2025-05-02 13:18:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:18:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:18:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:18:32
[2025-05-02 13:18:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:18:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:19:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:19:02
[2025-05-02 13:19:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:19:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:19:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:19:32
[2025-05-02 13:19:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:19:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:20:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:20:02
[2025-05-02 13:20:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:20:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:20:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:20:32
[2025-05-02 13:20:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:20:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:21:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:21:02
[2025-05-02 13:21:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:21:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:21:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:21:32
[2025-05-02 13:21:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:21:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:22:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:22:02
[2025-05-02 13:22:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-02 13:22:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 18 marked as READY.
[2025-05-02 13:22:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: ✅ Saved READY schedules to database.
[2025-05-02 13:22:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 13:22:03] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/3d1ccf8b967501f4e6ffd2da80c5ca2b
[2025-05-02 13:22:03] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/3d1ccf8b967501f4e6ffd2da80c5ca2b
[2025-05-02 13:22:04] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 924.8403ms - 404
[2025-05-02 13:22:04] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 925.8032ms - 404
[2025-05-02 13:22:04] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Program' cannot be tracked because another instance with the same key value for {'ProgramID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 87
   at Repos.LiveStreamRepo.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\Repos\LiveStreamRepo.cs:line 160
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 200
[2025-05-02 13:22:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:22:34
[2025-05-02 13:22:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:22:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 13:22:34] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request POST https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs
[2025-05-02 13:22:34] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request POST https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs
[2025-05-02 13:22:35] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1193.5489ms - 200
[2025-05-02 13:22:35] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1194.5973ms - 200
[2025-05-02 13:22:35] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Program' cannot be tracked because another instance with the same key value for {'ProgramID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 87
   at Repos.LiveStreamRepo.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\Repos\LiveStreamRepo.cs:line 160
   at Services.LiveStreamService.StartLiveStreamAsync(VideoHistory stream) in F:\Workspace\School_TV_BE\Services\LiveStreamService.cs:line 92
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 217
[2025-05-02 13:23:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:23:05
[2025-05-02 13:23:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:23:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 13:23:05] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:23:05] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:23:06] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1066.2294ms - 200
[2025-05-02 13:23:06] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1067.2042ms - 200
[2025-05-02 13:23:06] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:23:06] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:23:07] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1204.7863ms - 200
[2025-05-02 13:23:07] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1207.2431ms - 200
[2025-05-02 13:23:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Is live input created for schedule: True.
[2025-05-02 13:23:08] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: No email found for ScheduleID 18's streamer.
[2025-05-02 13:23:30] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:23:30] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:23:31] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 934.669ms - 200
[2025-05-02 13:23:31] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 936.1229ms - 200
[2025-05-02 13:23:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:23:38
[2025-05-02 13:23:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:23:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 13:23:38] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:23:38] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:23:39] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1012.2852ms - 200
[2025-05-02 13:23:39] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1015.0833ms - 200
[2025-05-02 13:23:39] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:23:39] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:23:40] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 844.7803ms - 200
[2025-05-02 13:23:40] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 845.6828ms - 200
[2025-05-02 13:23:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Is live input created for schedule: True.
[2025-05-02 13:23:40] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: No email found for ScheduleID 18's streamer.
[2025-05-02 13:24:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:24:10
[2025-05-02 13:24:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:24:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 13:24:10] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:24:10] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:24:11] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 961.9539ms - 200
[2025-05-02 13:24:11] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 963.5408ms - 200
[2025-05-02 13:24:11] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:24:11] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:24:11] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:24:11] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:24:12] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 838.0384ms - 200
[2025-05-02 13:24:12] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 839.6292ms - 200
[2025-05-02 13:24:12] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: ✅ Marked VideoID 18 as Live
[2025-05-02 13:24:12] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 🎬 Marked ScheduleID 18 as Live (from VideoID 18)
[2025-05-02 13:24:12] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:24:12] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:24:12] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1193.5831ms - 200
[2025-05-02 13:24:12] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1195.1499ms - 200
[2025-05-02 13:24:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Is live input created for schedule: True.
[2025-05-02 13:24:12] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: No email found for ScheduleID 18's streamer.
[2025-05-02 13:24:12] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147/videos
[2025-05-02 13:24:12] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147/videos
[2025-05-02 13:24:13] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 1152.0411ms - 200
[2025-05-02 13:24:13] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 1152.8577ms - 200
[2025-05-02 13:24:13] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: ✅ Marked VideoID 19 as Live
[2025-05-02 13:24:13] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 768.3053ms - 200
[2025-05-02 13:24:13] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 769.4103ms - 200
[2025-05-02 13:24:18] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:24:18] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:24:19] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 829.9088ms - 200
[2025-05-02 13:24:19] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 832.9415ms - 200
[2025-05-02 13:24:19] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147/videos
[2025-05-02 13:24:19] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147/videos
[2025-05-02 13:24:20] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 792.7591ms - 200
[2025-05-02 13:24:20] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 793.7792ms - 200
[2025-05-02 13:24:20] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request POST https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/d404f50e2c08062b03d07d6ee313cd17/downloads
[2025-05-02 13:24:20] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request POST https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/d404f50e2c08062b03d07d6ee313cd17/downloads
[2025-05-02 13:24:21] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 785.5648ms - 400
[2025-05-02 13:24:21] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 786.8889ms - 400
[2025-05-02 13:24:21] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request DELETE https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:24:21] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request DELETE https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:24:22] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 852.8292ms - 200
[2025-05-02 13:24:22] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 853.8779ms - 200
[2025-05-02 13:24:22] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔒 Ended stream due to expired package for AccountID 36
[2025-05-02 13:24:22] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:24:22] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:24:23] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 723.8942ms - 404
[2025-05-02 13:24:23] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 724.5939ms - 404
[2025-05-02 13:24:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:24:43
[2025-05-02 13:24:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:24:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:24:58] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:24:58] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:24:58] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 781.3808ms - 404
[2025-05-02 13:24:58] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 782.389ms - 404
[2025-05-02 13:24:59] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"d404f50e2c08062b03d07d6ee313cd17","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/d404f50e2c08062b03d07d6ee313cd17/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-02T06:24:47.777448Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program ccc 02 May 25 06:23 UTC"},"created":"2025-05-02T06:23:29.551345Z","modified":"2025-05-02T06:24:47.778876Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/d404f50e2c08062b03d07d6ee313cd17/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-02T06:23:29.551339Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":58.39,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/d404f50e2c08062b03d07d6ee313cd17/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/d404f50e2c08062b03d07d6ee313cd17/manifest/video.mpd"},"watermark":null,"liveInput":"a0e7fd83cc2c1821174dd5a4f698a147","clippedFrom":null,"publicDetails":null}
[2025-05-02 13:24:59] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:24:59] [Information] School_TV_Show.Controllers.LiveStreamController: Stream duration from Cloudflare: 0.016219444444444446 hours
[2025-05-02 13:24:59] [Information] School_TV_Show.Controllers.LiveStreamController: 📺 ScheduleID 12 marked as Ended from Cloudflare webhook.
[2025-05-02 13:24:59] [Information] School_TV_Show.Controllers.LiveStreamController: Updated account package - Hours used: 1.130283333333333, Remaining: 38.86971666666667
[2025-05-02 13:25:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:25:13
[2025-05-02 13:25:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:25:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:25:38] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:25:38] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:25:40] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 1068.1919ms - 404
[2025-05-02 13:25:40] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 1069.3226ms - 404
[2025-05-02 13:25:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:25:44
[2025-05-02 13:25:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:25:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:26:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:26:14
[2025-05-02 13:26:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:26:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:26:20] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:26:20] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:26:21] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 1070.7826ms - 404
[2025-05-02 13:26:21] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 1071.8734ms - 404
[2025-05-02 13:26:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:26:44
[2025-05-02 13:26:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:26:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:27:01] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:27:01] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:27:02] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 995.697ms - 404
[2025-05-02 13:27:02] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 997.4648ms - 404
[2025-05-02 13:27:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:27:14
[2025-05-02 13:27:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:27:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:27:42] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:27:42] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:27:43] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 1130.743ms - 404
[2025-05-02 13:27:43] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 1137.2529ms - 404
[2025-05-02 13:27:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:27:44
[2025-05-02 13:27:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:27:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:28:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:28:14
[2025-05-02 13:28:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:28:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:28:23] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:28:23] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:28:24] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 813.1651ms - 404
[2025-05-02 13:28:24] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 815.3496ms - 404
[2025-05-02 13:28:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:28:44
[2025-05-02 13:28:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:28:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:29:04] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:29:04] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:29:05] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 1048.3825ms - 404
[2025-05-02 13:29:05] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 1049.9692ms - 404
[2025-05-02 13:29:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:29:14
[2025-05-02 13:29:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:29:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:29:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:29:45
[2025-05-02 13:29:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:29:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:29:45] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:29:45] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:29:46] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 1150.5412ms - 404
[2025-05-02 13:29:46] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 1151.2526ms - 404
[2025-05-02 13:30:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:30:15
[2025-05-02 13:30:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:30:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:30:27] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:30:27] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:30:27] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 777.493ms - 404
[2025-05-02 13:30:27] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 782.6272ms - 404
[2025-05-02 13:30:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:30:45
[2025-05-02 13:30:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:30:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:31:08] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:31:08] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:31:08] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 822.1489ms - 404
[2025-05-02 13:31:08] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 823.5638ms - 404
[2025-05-02 13:31:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:31:15
[2025-05-02 13:31:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:31:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:31:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:31:45
[2025-05-02 13:31:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:31:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:31:48] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:31:48] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:31:49] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 913.9026ms - 404
[2025-05-02 13:31:49] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 915.391ms - 404
[2025-05-02 13:32:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:32:15
[2025-05-02 13:32:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:32:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:32:29] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:32:29] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:32:30] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 828.3825ms - 404
[2025-05-02 13:32:30] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 829.2265ms - 404
[2025-05-02 13:32:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:32:45
[2025-05-02 13:32:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:32:45] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:33:10] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:33:10] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:33:11] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 790.0417ms - 404
[2025-05-02 13:33:11] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 791.9559ms - 404
[2025-05-02 13:33:15] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:33:15
[2025-05-02 13:33:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:33:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:33:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:33:46
[2025-05-02 13:33:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:33:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:33:52] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:33:52] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:33:53] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 946.2938ms - 404
[2025-05-02 13:33:53] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 951.5518ms - 404
[2025-05-02 13:34:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:34:16
[2025-05-02 13:34:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:34:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:34:33] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:34:33] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:34:34] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 808.4369ms - 404
[2025-05-02 13:34:34] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 809.4872ms - 404
[2025-05-02 13:34:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:34:46
[2025-05-02 13:34:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:34:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:35:14] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:35:14] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:35:14] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 772.5692ms - 404
[2025-05-02 13:35:14] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 773.9813ms - 404
[2025-05-02 13:35:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:35:16
[2025-05-02 13:35:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:35:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:35:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:35:46
[2025-05-02 13:35:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:35:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:35:54] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:35:54] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:35:55] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 908.2584ms - 404
[2025-05-02 13:35:55] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 909.0206ms - 404
[2025-05-02 13:36:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:36:16
[2025-05-02 13:36:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:36:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:36:36] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:36:36] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:36:36] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 916.2408ms - 404
[2025-05-02 13:36:36] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 917.552ms - 404
[2025-05-02 13:36:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:36:46
[2025-05-02 13:36:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:36:46] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:37:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:37:16
[2025-05-02 13:37:16] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:37:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:37:17] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.VideoHistoryDAO.GetExpiredUploadedVideosAsync(DateTime currentTime) in F:\Workspace\School_TV_BE\DAOs\VideoHistoryDAO.cs:line 44
   at Repos.VideoHistoryRepo.GetExpiredUploadedVideosAsync(DateTime currentTime) in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 60
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 343
[2025-05-02 13:37:17] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:37:17] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:37:18] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 801.1664ms - 404
[2025-05-02 13:37:18] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 803.5022ms - 404
[2025-05-02 13:37:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:37:47
[2025-05-02 13:37:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:37:47] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:37:58] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:37:58] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:37:59] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 874.5579ms - 404
[2025-05-02 13:37:59] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 877.0269ms - 404
[2025-05-02 13:38:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:38:17
[2025-05-02 13:38:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:38:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:38:49] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-02 13:38:51] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-02 13:38:51] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-02 13:38:51] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-02 13:38:51] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 45
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 52
[2025-05-02 13:38:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-02 13:38:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:38:51
[2025-05-02 13:38:51] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-02 13:38:51] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-02 13:38:51] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-02 13:38:51] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-02 13:38:51] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-02 13:38:51] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-02 13:38:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:38:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:39:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:39:22
[2025-05-02 13:39:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-02 13:39:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 19 marked as READY.
[2025-05-02 13:39:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: ✅ Saved READY schedules to database.
[2025-05-02 13:39:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 13:39:22] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:39:22] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/a0e7fd83cc2c1821174dd5a4f698a147
[2025-05-02 13:39:23] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1046.5756ms - 404
[2025-05-02 13:39:23] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1067.6779ms - 404
[2025-05-02 13:39:23] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 87
   at Repos.LiveStreamRepo.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\Repos\LiveStreamRepo.cs:line 160
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 200
[2025-05-02 13:39:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:39:53
[2025-05-02 13:39:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:39:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 13:39:53] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request POST https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs
[2025-05-02 13:39:53] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request POST https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs
[2025-05-02 13:39:55] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1258.6798ms - 200
[2025-05-02 13:39:55] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1260.0911ms - 200
[2025-05-02 13:39:55] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Program' cannot be tracked because another instance with the same key value for {'ProgramID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 87
   at Repos.LiveStreamRepo.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\Repos\LiveStreamRepo.cs:line 160
   at Services.LiveStreamService.StartLiveStreamAsync(VideoHistory stream) in F:\Workspace\School_TV_BE\Services\LiveStreamService.cs:line 92
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 217
[2025-05-02 13:40:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:40:25
[2025-05-02 13:40:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:40:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 13:40:25] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416
[2025-05-02 13:40:25] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416
[2025-05-02 13:40:26] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1269.0675ms - 200
[2025-05-02 13:40:26] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1273.3256ms - 200
[2025-05-02 13:40:26] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416
[2025-05-02 13:40:26] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416
[2025-05-02 13:40:27] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 821.035ms - 200
[2025-05-02 13:40:27] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 823.3715ms - 200
[2025-05-02 13:40:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Is live input created for schedule: True.
[2025-05-02 13:40:27] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: No email found for ScheduleID 19's streamer.
[2025-05-02 13:40:41] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416
[2025-05-02 13:40:41] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416
[2025-05-02 13:40:42] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 935.2781ms - 200
[2025-05-02 13:40:42] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 938.1247ms - 200
[2025-05-02 13:40:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:40:57
[2025-05-02 13:40:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:40:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 13:40:57] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416
[2025-05-02 13:40:57] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416
[2025-05-02 13:40:58] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1054.3302ms - 200
[2025-05-02 13:40:58] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1055.3442ms - 200
[2025-05-02 13:40:58] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416
[2025-05-02 13:40:58] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416
[2025-05-02 13:41:00] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1245.0771ms - 200
[2025-05-02 13:41:00] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1247.9783ms - 200
[2025-05-02 13:41:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Is live input created for schedule: True.
[2025-05-02 13:41:00] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: No email found for ScheduleID 19's streamer.
[2025-05-02 13:41:23] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416
[2025-05-02 13:41:23] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416
[2025-05-02 13:41:23] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 819.6927ms - 200
[2025-05-02 13:41:23] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 821.9113ms - 200
[2025-05-02 13:41:23] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: ✅ Marked VideoID 21 as Live
[2025-05-02 13:41:23] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 🎬 Marked ScheduleID 19 as Live (from VideoID 21)
[2025-05-02 13:41:23] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416
[2025-05-02 13:41:23] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416
[2025-05-02 13:41:24] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 842.9411ms - 200
[2025-05-02 13:41:24] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 844.0614ms - 200
[2025-05-02 13:41:24] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: ✅ Marked VideoID 22 as Live
[2025-05-02 13:41:29] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416
[2025-05-02 13:41:29] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416
[2025-05-02 13:41:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:41:30
[2025-05-02 13:41:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:41:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:41:30] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416/videos
[2025-05-02 13:41:30] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416/videos
[2025-05-02 13:41:30] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 1046.477ms - 200
[2025-05-02 13:41:30] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 1048.1785ms - 200
[2025-05-02 13:41:31] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416
[2025-05-02 13:41:31] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416
[2025-05-02 13:41:31] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 734.1216ms - 200
[2025-05-02 13:41:31] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 735.7806ms - 200
[2025-05-02 13:41:32] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 1188.5575ms - 200
[2025-05-02 13:41:32] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 1189.4837ms - 200
[2025-05-02 13:41:40] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 88
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 375
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 13:41:42] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.Exception: No follows found for this account.
   at Services.ProgramFollowService.GetByAccountIdAsync(Int32 accountId) in F:\Workspace\School_TV_BE\Services\ProgramFollowService.cs:line 53
   at School_TV_Show.Controllers.ProgramFollowController.GetByAccountId(Int32 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ProgramFollowController.cs:line 37
   at lambda_method715(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 13:42:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:42:01
[2025-05-02 13:42:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:42:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:42:01] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416/videos
[2025-05-02 13:42:01] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416/videos
[2025-05-02 13:42:02] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 813.3659ms - 200
[2025-05-02 13:42:02] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 814.8396ms - 200
[2025-05-02 13:42:12] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416
[2025-05-02 13:42:12] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416
[2025-05-02 13:42:13] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 900.9506ms - 200
[2025-05-02 13:42:13] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 902.557ms - 200
[2025-05-02 13:42:13] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request DELETE https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416
[2025-05-02 13:42:13] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request DELETE https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416
[2025-05-02 13:42:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 796.8318ms - 200
[2025-05-02 13:42:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 798.263ms - 200
[2025-05-02 13:42:14] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416
[2025-05-02 13:42:14] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416
[2025-05-02 13:42:15] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 719.9394ms - 404
[2025-05-02 13:42:15] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 720.8949ms - 404
[2025-05-02 13:42:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:42:32
[2025-05-02 13:42:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:42:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:42:48] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"bb6ced6e9d2112f6ebe43a81f9383c85","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/bb6ced6e9d2112f6ebe43a81f9383c85/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-02T06:42:36.525281Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program ccc 02 May 25 06:40 UTC"},"created":"2025-05-02T06:40:46.678245Z","modified":"2025-05-02T06:42:36.526851Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/bb6ced6e9d2112f6ebe43a81f9383c85/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-02T06:40:46.678237Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":91.76,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/bb6ced6e9d2112f6ebe43a81f9383c85/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/bb6ced6e9d2112f6ebe43a81f9383c85/manifest/video.mpd"},"watermark":null,"liveInput":"6b0731ad62d95b8feebd29705d3d0416","clippedFrom":null,"publicDetails":null}
[2025-05-02 13:42:48] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: 6b0731ad62d95b8feebd29705d3d0416
[2025-05-02 13:42:48] [Information] School_TV_Show.Controllers.LiveStreamController: Stream duration from Cloudflare: 0.02548888888888889 hours
[2025-05-02 13:42:48] [Information] School_TV_Show.Controllers.LiveStreamController: 📺 ScheduleID 11 marked as Ended from Cloudflare webhook.
[2025-05-02 13:42:48] [Information] School_TV_Show.Controllers.LiveStreamController: Updated account package - Hours used: 1.155772222222222, Remaining: 38.844227777777775
[2025-05-02 13:42:55] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416
[2025-05-02 13:42:55] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416
[2025-05-02 13:42:57] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 1943.5455ms - 404
[2025-05-02 13:42:57] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 1945.1897ms - 404
[2025-05-02 13:43:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:43:02
[2025-05-02 13:43:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:43:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:43:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:43:32
[2025-05-02 13:43:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:43:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:44:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:44:02
[2025-05-02 13:44:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:44:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:44:12] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 45
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 52
[2025-05-02 13:44:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:44:32
[2025-05-02 13:44:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:44:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:44:42] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 45
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 52
[2025-05-02 13:45:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:45:02
[2025-05-02 13:45:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:45:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:45:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:45:33
[2025-05-02 13:45:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:45:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:46:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:46:03
[2025-05-02 13:46:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:46:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:46:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:46:33
[2025-05-02 13:46:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:46:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:47:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:47:03
[2025-05-02 13:47:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:47:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:47:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:47:33
[2025-05-02 13:47:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:47:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:48:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:48:03
[2025-05-02 13:48:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:48:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:48:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:48:33
[2025-05-02 13:48:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:48:33] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:49:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:49:04
[2025-05-02 13:49:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:49:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:49:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:49:34
[2025-05-02 13:49:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:49:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:50:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:50:04
[2025-05-02 13:50:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:50:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:50:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:50:34
[2025-05-02 13:50:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:50:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:51:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:51:04
[2025-05-02 13:51:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:51:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:51:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:51:34
[2025-05-02 13:51:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:51:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:52:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:52:04
[2025-05-02 13:52:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:52:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:52:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:52:34
[2025-05-02 13:52:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:52:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:53:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:53:05
[2025-05-02 13:53:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:53:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:53:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:53:35
[2025-05-02 13:53:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:53:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:54:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:54:05
[2025-05-02 13:54:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:54:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:54:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:54:35
[2025-05-02 13:54:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:54:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:55:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:55:05
[2025-05-02 13:55:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:55:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:55:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:55:35
[2025-05-02 13:55:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:55:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:55:54] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-02 13:55:55] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-02 13:55:55] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-02 13:55:55] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-02 13:55:55] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 45
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 52
[2025-05-02 13:55:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-02 13:55:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:55:55
[2025-05-02 13:55:55] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-02 13:55:55] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-02 13:55:55] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-02 13:55:55] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-02 13:55:55] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-02 13:55:55] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-02 13:55:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:55:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:56:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:56:26
[2025-05-02 13:56:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:56:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:56:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:56:56
[2025-05-02 13:56:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-02 13:56:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 20 marked as READY.
[2025-05-02 13:56:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: ✅ Saved READY schedules to database.
[2025-05-02 13:56:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 13:56:56] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416
[2025-05-02 13:56:56] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/6b0731ad62d95b8feebd29705d3d0416
[2025-05-02 13:56:57] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1109.1929ms - 404
[2025-05-02 13:56:57] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1127.7028ms - 404
[2025-05-02 13:56:58] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 87
   at Repos.LiveStreamRepo.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\Repos\LiveStreamRepo.cs:line 160
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 200
[2025-05-02 13:57:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:57:28
[2025-05-02 13:57:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:57:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 13:57:28] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request POST https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs
[2025-05-02 13:57:28] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request POST https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs
[2025-05-02 13:57:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1236.1335ms - 200
[2025-05-02 13:57:29] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1239.4829ms - 200
[2025-05-02 13:57:29] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Program' cannot be tracked because another instance with the same key value for {'ProgramID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 87
   at Repos.LiveStreamRepo.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\Repos\LiveStreamRepo.cs:line 160
   at Services.LiveStreamService.StartLiveStreamAsync(VideoHistory stream) in F:\Workspace\School_TV_BE\Services\LiveStreamService.cs:line 92
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 217
[2025-05-02 13:57:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:57:59
[2025-05-02 13:57:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:57:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 13:57:59] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/46bd8cd53ab6fb5b3d1a833fcbf0c25b
[2025-05-02 13:57:59] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/46bd8cd53ab6fb5b3d1a833fcbf0c25b
[2025-05-02 13:58:01] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1304.8782ms - 200
[2025-05-02 13:58:01] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1305.8262ms - 200
[2025-05-02 13:58:01] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/46bd8cd53ab6fb5b3d1a833fcbf0c25b
[2025-05-02 13:58:01] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/46bd8cd53ab6fb5b3d1a833fcbf0c25b
[2025-05-02 13:58:02] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 1002.1633ms - 200
[2025-05-02 13:58:02] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 1005.0605ms - 200
[2025-05-02 13:58:02] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Is live input created for schedule: True.
[2025-05-02 13:58:02] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: No email found for ScheduleID 20's streamer.
[2025-05-02 13:58:26] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/46bd8cd53ab6fb5b3d1a833fcbf0c25b
[2025-05-02 13:58:26] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/46bd8cd53ab6fb5b3d1a833fcbf0c25b
[2025-05-02 13:58:27] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 1254.484ms - 200
[2025-05-02 13:58:27] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 1255.7729ms - 200
[2025-05-02 13:58:27] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: ✅ Marked VideoID 23 as Live
[2025-05-02 13:58:27] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 🎬 Marked ScheduleID 20 as Live (from VideoID 23)
[2025-05-02 13:58:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:58:32
[2025-05-02 13:58:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:58:32] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:58:32] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/46bd8cd53ab6fb5b3d1a833fcbf0c25b
[2025-05-02 13:58:32] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/46bd8cd53ab6fb5b3d1a833fcbf0c25b
[2025-05-02 13:58:32] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/46bd8cd53ab6fb5b3d1a833fcbf0c25b/videos
[2025-05-02 13:58:32] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/46bd8cd53ab6fb5b3d1a833fcbf0c25b/videos
[2025-05-02 13:58:33] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 786.5133ms - 200
[2025-05-02 13:58:33] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 787.663ms - 200
[2025-05-02 13:58:33] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 904.1133ms - 200
[2025-05-02 13:58:33] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 905.7464ms - 200
[2025-05-02 13:58:42] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 145
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 41
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 13:58:44] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.Exception: No follows found for this account.
   at Services.ProgramFollowService.GetByAccountIdAsync(Int32 accountId) in F:\Workspace\School_TV_BE\Services\ProgramFollowService.cs:line 53
   at School_TV_Show.Controllers.ProgramFollowController.GetByAccountId(Int32 accountId) in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ProgramFollowController.cs:line 37
   at lambda_method768(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 13:59:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:59:03
[2025-05-02 13:59:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:59:03] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:59:03] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/46bd8cd53ab6fb5b3d1a833fcbf0c25b/videos
[2025-05-02 13:59:03] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/46bd8cd53ab6fb5b3d1a833fcbf0c25b/videos
[2025-05-02 13:59:04] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 826.4278ms - 200
[2025-05-02 13:59:04] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 828.1003ms - 200
[2025-05-02 13:59:13] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/46bd8cd53ab6fb5b3d1a833fcbf0c25b
[2025-05-02 13:59:13] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/46bd8cd53ab6fb5b3d1a833fcbf0c25b
[2025-05-02 13:59:14] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 859.4843ms - 200
[2025-05-02 13:59:14] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 860.674ms - 200
[2025-05-02 13:59:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request DELETE https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/46bd8cd53ab6fb5b3d1a833fcbf0c25b
[2025-05-02 13:59:14] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request DELETE https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/46bd8cd53ab6fb5b3d1a833fcbf0c25b
[2025-05-02 13:59:15] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 812.1005ms - 200
[2025-05-02 13:59:15] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 813.3256ms - 200
[2025-05-02 13:59:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 13:59:34
[2025-05-02 13:59:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 13:59:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 13:59:55] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/46bd8cd53ab6fb5b3d1a833fcbf0c25b
[2025-05-02 13:59:55] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/46bd8cd53ab6fb5b3d1a833fcbf0c25b
[2025-05-02 13:59:56] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 815.7335ms - 404
[2025-05-02 13:59:56] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 816.9597ms - 404
[2025-05-02 14:00:03] [Information] School_TV_Show.Controllers.LiveStreamController: Received Cloudflare webhook: {"uid":"2179ee1f66819f3b0e34e3e9173d0cbb","creator":null,"thumbnail":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/2179ee1f66819f3b0e34e3e9173d0cbb/thumbnails/thumbnail.jpg","thumbnailTimestampPct":0,"readyToStream":true,"readyToStreamAt":"2025-05-02T06:59:51.817945Z","status":{"state":"ready","pctComplete":"100.000000","errorReasonCode":"","errorReasonText":""},"meta":{"name":"Scheduled stream for program ccc 02 May 25 06:58 UTC"},"created":"2025-05-02T06:58:02.286028Z","modified":"2025-05-02T06:59:51.820103Z","scheduledDeletion":null,"size":0,"preview":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/2179ee1f66819f3b0e34e3e9173d0cbb/watch","allowedOrigins":[],"requireSignedURLs":false,"uploaded":"2025-05-02T06:58:02.28602Z","uploadExpiry":null,"maxSizeBytes":null,"maxDurationSeconds":null,"duration":91.76,"input":{"width":1920,"height":1080},"playback":{"hls":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/2179ee1f66819f3b0e34e3e9173d0cbb/manifest/video.m3u8","dash":"https://customer-nohgu8m8j4ms2pjk.cloudflarestream.com/2179ee1f66819f3b0e34e3e9173d0cbb/manifest/video.mpd"},"watermark":null,"liveInput":"46bd8cd53ab6fb5b3d1a833fcbf0c25b","clippedFrom":null,"publicDetails":null}
[2025-05-02 14:00:03] [Information] School_TV_Show.Controllers.LiveStreamController: Processing stream with UID: 46bd8cd53ab6fb5b3d1a833fcbf0c25b
[2025-05-02 14:00:03] [Information] School_TV_Show.Controllers.LiveStreamController: Stream duration from Cloudflare: 0.02548888888888889 hours
[2025-05-02 14:00:03] [Information] School_TV_Show.Controllers.LiveStreamController: 📺 ScheduleID 10 marked as Ended from Cloudflare webhook.
[2025-05-02 14:00:03] [Information] School_TV_Show.Controllers.LiveStreamController: Updated account package - Hours used: 1.1812611111111109, Remaining: 38.81873888888889
[2025-05-02 14:00:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 14:00:04
[2025-05-02 14:00:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 14:00:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 14:00:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 14:00:34
[2025-05-02 14:00:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 14:00:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 14:01:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 14:01:04
[2025-05-02 14:01:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 14:01:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 14:01:34] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 14:01:34
[2025-05-02 14:01:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 14:01:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 14:01:57] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 40
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 70
[2025-05-02 14:02:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 14:02:05
[2025-05-02 14:02:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 14:02:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 14:02:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 14:02:35
[2025-05-02 14:02:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 14:02:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 14:03:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 14:03:05
[2025-05-02 14:03:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 14:03:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 14:03:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 14:03:35
[2025-05-02 14:03:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 14:03:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 14:04:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 14:04:05
[2025-05-02 14:04:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 14:04:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 14:04:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 14:04:35
[2025-05-02 14:04:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 14:04:35] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 14:05:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 14:05:05
[2025-05-02 14:05:05] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 14:05:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 14:05:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 14:05:36
[2025-05-02 14:05:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 14:05:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 14:06:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 14:06:06
[2025-05-02 14:06:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 14:06:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 14:06:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 14:06:36
[2025-05-02 14:06:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 14:06:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 14:07:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 14:07:06
[2025-05-02 14:07:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 14:07:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 14:07:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 14:07:36
[2025-05-02 14:07:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 14:07:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 14:08:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 14:08:06
[2025-05-02 14:08:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 14:08:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 14:08:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 14:08:36
[2025-05-02 14:08:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 14:08:36] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:26:00] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-02 20:26:04] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-02 20:26:04] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-02 20:26:04] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-02 20:26:04] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 45
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 52
[2025-05-02 20:26:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-02 20:26:04] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:26:04
[2025-05-02 20:26:05] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-02 20:26:05] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-02 20:26:05] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-02 20:26:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:26:06] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-02 20:26:06] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-02 20:26:06] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-02 20:26:06] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:26:14] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: An attempt was made to use the context instance while it is being configured. A DbContext instance cannot be used inside 'OnConfiguring' since it is still being configured at this point. This can happen if a second operation is started on this context instance before a previous operation completed. Any instance members are not guaranteed to be thread safe.
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AsNoTracking[TEntity](IQueryable`1 source)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 145
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 41
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 20:26:18] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 145
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 41
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 20:26:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:26:37
[2025-05-02 20:26:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:26:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:27:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:27:07
[2025-05-02 20:27:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:27:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:27:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:27:37
[2025-05-02 20:27:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:27:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:28:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:28:07
[2025-05-02 20:28:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:28:07] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:28:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:28:37
[2025-05-02 20:28:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:28:37] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:29:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:29:08
[2025-05-02 20:29:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:29:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:29:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:29:38
[2025-05-02 20:29:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:29:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:29:57] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:29:57] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:29:57] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 695.8581ms - 200
[2025-05-02 20:29:57] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 704.8684ms - 200
[2025-05-02 20:30:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:30:08
[2025-05-02 20:30:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:30:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 20:30:12] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:30:12] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:30:13] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 842.4094ms - 200
[2025-05-02 20:30:13] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 843.8244ms - 200
[2025-05-02 20:30:28] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:30:28] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:30:30] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 1228.9121ms - 200
[2025-05-02 20:30:30] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 1232.712ms - 200
[2025-05-02 20:30:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:30:38
[2025-05-02 20:30:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:30:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 20:30:45] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:30:45] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:30:45] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 425.3294ms - 200
[2025-05-02 20:30:45] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 429.6192ms - 200
[2025-05-02 20:31:00] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:31:00] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:31:01] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 857.217ms - 200
[2025-05-02 20:31:01] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 858.6148ms - 200
[2025-05-02 20:31:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:31:08
[2025-05-02 20:31:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:31:08] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 20:31:16] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:31:16] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:31:17] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 410.7591ms - 200
[2025-05-02 20:31:17] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 413.4745ms - 200
[2025-05-02 20:31:32] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:31:32] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:31:32] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 476.5991ms - 200
[2025-05-02 20:31:32] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 477.5429ms - 200
[2025-05-02 20:31:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:31:38
[2025-05-02 20:31:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:31:38] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 20:31:47] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:31:47] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:31:48] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 605.8014ms - 200
[2025-05-02 20:31:48] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 608.0368ms - 200
[2025-05-02 20:32:03] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:32:03] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:32:04] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 844.5879ms - 200
[2025-05-02 20:32:04] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 846.1597ms - 200
[2025-05-02 20:32:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:32:09
[2025-05-02 20:32:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:32:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 20:32:19] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:32:19] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:32:20] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 403.5969ms - 200
[2025-05-02 20:32:20] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 406.1721ms - 200
[2025-05-02 20:32:35] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:32:35] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:32:35] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 422.3603ms - 200
[2025-05-02 20:32:35] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 423.5916ms - 200
[2025-05-02 20:32:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:32:39
[2025-05-02 20:32:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:32:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 20:32:50] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:32:50] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:32:51] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 88
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 375
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 20:32:51] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 379.2666ms - 200
[2025-05-02 20:32:51] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 383.6124ms - 200
[2025-05-02 20:33:06] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:33:06] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:33:06] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 462.9036ms - 200
[2025-05-02 20:33:06] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 464.8329ms - 200
[2025-05-02 20:33:07] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 145
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 41
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 20:33:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:33:09
[2025-05-02 20:33:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:33:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 20:33:21] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:33:21] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:33:22] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 387.8887ms - 200
[2025-05-02 20:33:22] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 389.5598ms - 200
[2025-05-02 20:33:37] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:33:37] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:33:38] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 563.7127ms - 200
[2025-05-02 20:33:38] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 565.0548ms - 200
[2025-05-02 20:33:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:33:39
[2025-05-02 20:33:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:33:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 20:33:53] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:33:53] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:33:53] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 370.8333ms - 200
[2025-05-02 20:33:53] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 371.5555ms - 200
[2025-05-02 20:34:08] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:34:08] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:34:08] [Error] Services.HostedServices.DurationTrackingService: Error in DurationTrackingService
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.VideoHistoryDAO.GetVideosUploadedAfterAsync(DateTime timestamp) in F:\Workspace\School_TV_BE\DAOs\VideoHistoryDAO.cs:line 164
   at Repos.VideoHistoryRepo.GetVideosUploadedAfterAsync(DateTime timestamp) in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 100
   at Services.HostedServices.DurationTrackingService.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\DurationTrackingService.cs:line 38
[2025-05-02 20:34:09] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 658.9871ms - 200
[2025-05-02 20:34:09] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 672.0231ms - 200
[2025-05-02 20:34:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:34:09
[2025-05-02 20:34:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:34:09] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 20:34:24] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:34:24] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:34:24] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 412.4556ms - 200
[2025-05-02 20:34:24] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 415.0373ms - 200
[2025-05-02 20:34:39] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 145
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 41
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 20:34:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:34:39
[2025-05-02 20:34:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:34:40] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:34:40] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:34:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 20:34:40] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 464.9198ms - 200
[2025-05-02 20:34:40] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 467.8112ms - 200
[2025-05-02 20:34:55] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:34:55] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:34:56] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 422.4453ms - 200
[2025-05-02 20:34:56] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 424.1944ms - 200
[2025-05-02 20:35:07] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 145
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 41
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 20:35:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:35:10
[2025-05-02 20:35:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:35:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 20:35:11] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:35:11] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:35:11] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 522.1839ms - 200
[2025-05-02 20:35:11] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 523.1493ms - 200
[2025-05-02 20:35:26] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:35:26] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:35:27] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 467.0951ms - 200
[2025-05-02 20:35:27] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 469.9512ms - 200
[2025-05-02 20:35:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:35:40
[2025-05-02 20:35:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:35:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 20:35:42] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 88
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 375
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 20:35:42] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:35:42] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:35:42] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 446.6781ms - 200
[2025-05-02 20:35:42] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 448.0888ms - 200
[2025-05-02 20:35:58] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:35:58] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:35:58] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 385.6594ms - 200
[2025-05-02 20:35:58] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 386.7259ms - 200
[2025-05-02 20:35:59] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 88
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 375
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 20:36:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:36:10
[2025-05-02 20:36:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:36:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 20:36:13] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:36:13] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:36:14] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 560.027ms - 200
[2025-05-02 20:36:14] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 561.7243ms - 200
[2025-05-02 20:36:29] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:36:29] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:36:29] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 378.4156ms - 200
[2025-05-02 20:36:29] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 379.5272ms - 200
[2025-05-02 20:36:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:36:40
[2025-05-02 20:36:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:36:40] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 20:36:44] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 88
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 375
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 20:36:44] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:36:44] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:36:45] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 510.774ms - 200
[2025-05-02 20:36:45] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 512.4059ms - 200
[2025-05-02 20:37:00] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:37:00] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:37:01] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 621.3793ms - 200
[2025-05-02 20:37:01] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 622.4751ms - 200
[2025-05-02 20:37:07] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 88
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 375
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 20:37:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:37:10
[2025-05-02 20:37:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:37:10] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 20:37:11] [Warning] School_TV_Show.HostedService.CloudflareStreamMonitor: Schedule 22 marked as LateStart at 05/02/2025 20:37:00.
[2025-05-02 20:37:16] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:37:16] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:37:16] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 422.7829ms - 200
[2025-05-02 20:37:16] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 423.5521ms - 200
[2025-05-02 20:37:31] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:37:31] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:37:32] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 376.0464ms - 200
[2025-05-02 20:37:32] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 377.4605ms - 200
[2025-05-02 20:37:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:37:41
[2025-05-02 20:37:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:37:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:37:47] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:37:47] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:37:48] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 646.7577ms - 200
[2025-05-02 20:37:48] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 647.4638ms - 200
[2025-05-02 20:38:03] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:38:03] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:38:03] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 495.9996ms - 200
[2025-05-02 20:38:03] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 497.5196ms - 200
[2025-05-02 20:38:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:38:11
[2025-05-02 20:38:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:38:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:38:18] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:38:18] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:38:19] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 554.4777ms - 200
[2025-05-02 20:38:19] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 556.4255ms - 200
[2025-05-02 20:38:34] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:38:34] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:38:34] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 485.3305ms - 200
[2025-05-02 20:38:34] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 488.7685ms - 200
[2025-05-02 20:38:38] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 88
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 375
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 20:38:38] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 145
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 41
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 20:38:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:38:41
[2025-05-02 20:38:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:38:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:38:50] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:38:50] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:38:50] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 488.0333ms - 200
[2025-05-02 20:38:50] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 489.0468ms - 200
[2025-05-02 20:39:05] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:39:05] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:39:06] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 413.1192ms - 200
[2025-05-02 20:39:06] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 415.5228ms - 200
[2025-05-02 20:39:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:39:11
[2025-05-02 20:39:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:39:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:39:21] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:39:21] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:39:21] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 516.55ms - 200
[2025-05-02 20:39:21] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 517.6084ms - 200
[2025-05-02 20:39:36] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:39:36] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:39:37] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 404.0663ms - 200
[2025-05-02 20:39:37] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 405.2154ms - 200
[2025-05-02 20:39:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:39:41
[2025-05-02 20:39:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:39:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:39:52] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:39:52] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:39:52] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 503.199ms - 200
[2025-05-02 20:39:52] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 505.0334ms - 200
[2025-05-02 20:40:02] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 88
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 375
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 20:40:07] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 88
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 375
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 20:40:08] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:40:08] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:40:08] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 562.5835ms - 200
[2025-05-02 20:40:08] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 563.6704ms - 200
[2025-05-02 20:40:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:40:11
[2025-05-02 20:40:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:40:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:40:12] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.VideoHistoryDAO.GetExpiredUploadedVideosAsync(DateTime currentTime) in F:\Workspace\School_TV_BE\DAOs\VideoHistoryDAO.cs:line 44
   at Repos.VideoHistoryRepo.GetExpiredUploadedVideosAsync(DateTime currentTime) in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 60
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 342
[2025-05-02 20:40:12] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 145
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 41
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 20:40:16] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 88
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 375
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 20:40:20] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 145
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 41
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 20:40:23] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:40:23] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:40:24] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 568.2695ms - 200
[2025-05-02 20:40:24] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 571.2631ms - 200
[2025-05-02 20:40:39] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:40:39] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:40:39] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 374.3508ms - 200
[2025-05-02 20:40:39] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 375.0803ms - 200
[2025-05-02 20:40:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:40:42
[2025-05-02 20:40:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:40:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:40:55] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:40:55] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:40:55] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 503.0072ms - 200
[2025-05-02 20:40:55] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 507.765ms - 200
[2025-05-02 20:41:10] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:41:10] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:41:11] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 406.4177ms - 200
[2025-05-02 20:41:11] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 407.7174ms - 200
[2025-05-02 20:41:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:41:12
[2025-05-02 20:41:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:41:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:41:26] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:41:26] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:41:26] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 463.2448ms - 200
[2025-05-02 20:41:26] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 464.821ms - 200
[2025-05-02 20:41:41] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:41:41] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:41:42] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 426.1628ms - 200
[2025-05-02 20:41:42] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 427.6905ms - 200
[2025-05-02 20:41:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:41:42
[2025-05-02 20:41:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:41:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:41:57] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:41:57] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:41:58] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 845.6038ms - 200
[2025-05-02 20:41:58] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 846.7155ms - 200
[2025-05-02 20:42:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:42:12
[2025-05-02 20:42:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:42:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:42:13] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 88
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 375
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 20:42:13] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 145
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 41
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 20:42:13] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:42:13] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:42:13] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 418.8844ms - 200
[2025-05-02 20:42:13] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 419.6806ms - 200
[2025-05-02 20:42:28] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:42:28] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:42:29] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 506.1752ms - 200
[2025-05-02 20:42:29] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 507.0387ms - 200
[2025-05-02 20:42:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:42:42
[2025-05-02 20:42:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:42:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:42:44] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:42:44] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:42:45] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 511.9965ms - 200
[2025-05-02 20:42:45] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 513.0218ms - 200
[2025-05-02 20:43:00] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:43:00] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:43:00] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 430.6957ms - 200
[2025-05-02 20:43:00] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 431.5501ms - 200
[2025-05-02 20:43:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:43:12
[2025-05-02 20:43:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:43:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:43:15] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:43:15] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:43:16] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 380.3489ms - 200
[2025-05-02 20:43:16] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 381.7654ms - 200
[2025-05-02 20:43:31] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:43:31] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:43:31] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 660.5821ms - 200
[2025-05-02 20:43:31] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 662.6421ms - 200
[2025-05-02 20:43:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:43:43
[2025-05-02 20:43:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:43:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:43:47] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:43:47] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:43:47] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 392.6955ms - 200
[2025-05-02 20:43:47] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 394.1027ms - 200
[2025-05-02 20:44:02] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:44:02] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:44:03] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 473.0629ms - 200
[2025-05-02 20:44:03] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 473.8605ms - 200
[2025-05-02 20:44:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:44:13
[2025-05-02 20:44:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:44:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:44:18] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:44:18] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:44:18] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 521.2464ms - 200
[2025-05-02 20:44:18] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 522.3714ms - 200
[2025-05-02 20:44:33] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:44:33] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:44:34] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 564.1631ms - 200
[2025-05-02 20:44:34] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 565.2457ms - 200
[2025-05-02 20:44:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:44:43
[2025-05-02 20:44:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:44:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:44:49] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:44:49] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:44:50] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 526.9198ms - 200
[2025-05-02 20:44:50] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 528.6234ms - 200
[2025-05-02 20:45:05] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:45:05] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:45:07] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 2233.9579ms - 200
[2025-05-02 20:45:07] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 2234.9495ms - 200
[2025-05-02 20:45:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:45:13
[2025-05-02 20:45:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:45:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:45:22] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:45:22] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:45:23] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 827.7173ms - 200
[2025-05-02 20:45:23] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 828.6024ms - 200
[2025-05-02 20:45:38] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:45:38] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:45:39] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 507.9639ms - 200
[2025-05-02 20:45:39] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 509.1787ms - 200
[2025-05-02 20:45:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:45:43
[2025-05-02 20:45:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:45:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:45:51] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 145
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 41
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 20:45:54] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:45:54] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:45:54] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 378.1506ms - 200
[2025-05-02 20:45:54] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 379.3602ms - 200
[2025-05-02 20:46:09] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:46:09] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:46:10] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 478.0226ms - 200
[2025-05-02 20:46:10] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 479.1628ms - 200
[2025-05-02 20:46:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:46:13
[2025-05-02 20:46:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:46:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:46:25] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:46:25] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:46:25] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 546.8545ms - 200
[2025-05-02 20:46:25] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 553.0592ms - 200
[2025-05-02 20:46:28] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetAllSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 88
   at Services.ScheduleService.GetSchedulesGroupedTimelineAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 84
   at School_TV_Show.Controllers.ScheduleController.GetSchedulesTimeline() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 375
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 20:46:40] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:46:40] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:46:41] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 923.5154ms - 200
[2025-05-02 20:46:41] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 924.5885ms - 200
[2025-05-02 20:46:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:46:44
[2025-05-02 20:46:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:46:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:46:57] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:46:57] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:46:57] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 777.7934ms - 200
[2025-05-02 20:46:57] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 779.0215ms - 200
[2025-05-02 20:47:12] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:47:12] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:47:13] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 511.4493ms - 200
[2025-05-02 20:47:13] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 513.1053ms - 200
[2025-05-02 20:47:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:47:14
[2025-05-02 20:47:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:47:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:47:28] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:47:28] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:47:28] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 368.314ms - 200
[2025-05-02 20:47:28] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 369.2697ms - 200
[2025-05-02 20:47:44] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:47:44] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:47:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:47:44
[2025-05-02 20:47:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:47:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:47:44] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 517.9465ms - 200
[2025-05-02 20:47:44] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 518.8317ms - 200
[2025-05-02 20:47:59] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:47:59] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:48:00] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 363.1693ms - 200
[2025-05-02 20:48:00] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 364.2942ms - 200
[2025-05-02 20:48:15] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-02 20:48:17] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-02 20:48:17] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-02 20:48:17] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-02 20:48:17] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 45
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 52
[2025-05-02 20:48:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-02 20:48:17] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:48:17
[2025-05-02 20:48:18] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-02 20:48:18] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-02 20:48:18] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-02 20:48:18] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-02 20:48:18] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-02 20:48:18] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-02 20:48:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:48:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:48:22] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:48:22] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:48:23] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 733.7701ms - 200
[2025-05-02 20:48:23] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 753.8959ms - 200
[2025-05-02 20:48:27] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 145
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 41
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 20:48:27] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 145
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 41
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 20:48:39] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:48:39] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:48:40] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 423.8366ms - 200
[2025-05-02 20:48:40] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 424.8565ms - 200
[2025-05-02 20:48:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:48:48
[2025-05-02 20:48:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:48:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:48:55] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:48:55] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:48:55] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 572.7799ms - 200
[2025-05-02 20:48:55] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 573.8243ms - 200
[2025-05-02 20:49:22] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-02 20:49:23] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-02 20:49:23] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-02 20:49:23] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-02 20:49:23] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 45
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 52
[2025-05-02 20:49:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-02 20:49:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:49:23
[2025-05-02 20:49:24] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-02 20:49:24] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-02 20:49:24] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-02 20:49:24] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-02 20:49:24] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-02 20:49:24] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-02 20:49:24] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:49:24] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:49:29] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:49:29] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:49:29] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 683.9976ms - 200
[2025-05-02 20:49:29] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 692.5796ms - 200
[2025-05-02 20:49:44] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:49:44] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:49:45] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 616.254ms - 200
[2025-05-02 20:49:45] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 619.4434ms - 200
[2025-05-02 20:49:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:49:54
[2025-05-02 20:49:54] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:49:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:50:00] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:50:00] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:50:01] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 528.5504ms - 200
[2025-05-02 20:50:01] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 530.0737ms - 200
[2025-05-02 20:50:16] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:50:16] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:50:16] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 406.0068ms - 200
[2025-05-02 20:50:16] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 407.0782ms - 200
[2025-05-02 20:50:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:50:25
[2025-05-02 20:50:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:50:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:50:31] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:50:31] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:50:32] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 462.8573ms - 200
[2025-05-02 20:50:32] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 464.3036ms - 200
[2025-05-02 20:50:47] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:50:47] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:50:48] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 488.2893ms - 200
[2025-05-02 20:50:48] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 489.5856ms - 200
[2025-05-02 20:50:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:50:55
[2025-05-02 20:50:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:50:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:51:03] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:51:03] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:51:03] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 529.7617ms - 200
[2025-05-02 20:51:03] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 531.7423ms - 200
[2025-05-02 20:51:18] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:51:18] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:51:19] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 412.6064ms - 200
[2025-05-02 20:51:19] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 413.5916ms - 200
[2025-05-02 20:51:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:51:25
[2025-05-02 20:51:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:51:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:51:34] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:51:34] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:51:35] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 805.6417ms - 200
[2025-05-02 20:51:35] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 807.3598ms - 200
[2025-05-02 20:51:50] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:51:50] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:51:50] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 428.0161ms - 200
[2025-05-02 20:51:50] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 428.9616ms - 200
[2025-05-02 20:51:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:51:55
[2025-05-02 20:51:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:51:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:52:05] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:52:05] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:52:06] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 481.0254ms - 200
[2025-05-02 20:52:06] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 482.8498ms - 200
[2025-05-02 20:52:21] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:52:21] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:52:21] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 394.6038ms - 200
[2025-05-02 20:52:21] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 395.8494ms - 200
[2025-05-02 20:52:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:52:25
[2025-05-02 20:52:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:52:25] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:52:37] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:52:37] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:52:37] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 468.153ms - 200
[2025-05-02 20:52:37] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 470.6195ms - 200
[2025-05-02 20:52:52] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:52:52] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:52:53] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 368.2913ms - 200
[2025-05-02 20:52:53] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 369.6191ms - 200
[2025-05-02 20:52:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:52:55
[2025-05-02 20:52:55] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:52:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:53:08] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:53:08] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:53:08] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 465.5692ms - 200
[2025-05-02 20:53:08] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 467.034ms - 200
[2025-05-02 20:53:23] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:53:23] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:53:24] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 397.3044ms - 200
[2025-05-02 20:53:24] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 398.1888ms - 200
[2025-05-02 20:53:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:53:26
[2025-05-02 20:53:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:53:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:53:39] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:53:39] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:53:39] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 555.924ms - 200
[2025-05-02 20:53:39] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 557.0128ms - 200
[2025-05-02 20:53:54] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:53:54] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:53:55] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 428.7062ms - 200
[2025-05-02 20:53:55] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 430.2283ms - 200
[2025-05-02 20:53:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:53:56
[2025-05-02 20:53:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:53:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:54:10] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:54:10] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:54:10] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 456.4548ms - 200
[2025-05-02 20:54:10] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 458.6886ms - 200
[2025-05-02 20:54:26] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:54:26] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:54:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:54:26
[2025-05-02 20:54:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:54:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:54:26] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 394.7935ms - 200
[2025-05-02 20:54:26] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 395.8519ms - 200
[2025-05-02 20:54:41] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:54:41] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:54:42] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 607.7197ms - 200
[2025-05-02 20:54:42] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 609.4707ms - 200
[2025-05-02 20:54:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:54:56
[2025-05-02 20:54:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:54:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:54:57] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:54:57] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:54:57] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 407.9093ms - 200
[2025-05-02 20:54:57] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 412.2721ms - 200
[2025-05-02 20:55:12] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:55:12] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:55:13] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 472.8897ms - 200
[2025-05-02 20:55:13] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 476.3033ms - 200
[2025-05-02 20:55:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:55:26
[2025-05-02 20:55:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:55:26] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:55:28] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:55:28] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:55:29] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 472.5828ms - 200
[2025-05-02 20:55:29] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 473.7964ms - 200
[2025-05-02 20:55:32] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 145
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 41
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 20:55:36] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 145
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 41
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-02 20:55:45] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:55:45] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:55:46] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 1171.5839ms - 200
[2025-05-02 20:55:46] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 1172.6852ms - 200
[2025-05-02 20:55:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:55:56
[2025-05-02 20:55:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:55:56] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:56:01] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:56:01] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:56:02] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 870.0325ms - 200
[2025-05-02 20:56:02] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 870.8484ms - 200
[2025-05-02 20:56:17] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:56:17] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:56:18] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 904.5973ms - 200
[2025-05-02 20:56:18] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 906.4215ms - 200
[2025-05-02 20:56:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:56:27
[2025-05-02 20:56:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:56:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:56:33] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:56:33] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:56:44] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 10938.2552ms - 200
[2025-05-02 20:56:44] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 10940.2794ms - 200
[2025-05-02 20:56:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:56:57
[2025-05-02 20:56:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:56:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:56:59] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:56:59] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:57:00] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 950.2066ms - 200
[2025-05-02 20:57:00] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 951.338ms - 200
[2025-05-02 20:57:15] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:57:15] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:57:16] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 859.4019ms - 200
[2025-05-02 20:57:16] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 860.161ms - 200
[2025-05-02 20:57:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:57:27
[2025-05-02 20:57:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:57:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:57:31] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:57:31] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:57:32] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 903.6818ms - 200
[2025-05-02 20:57:32] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 905.0553ms - 200
[2025-05-02 20:57:47] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:57:47] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:57:48] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 599.7769ms - 200
[2025-05-02 20:57:48] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 601.5023ms - 200
[2025-05-02 20:57:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:57:57
[2025-05-02 20:57:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:57:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:58:03] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:58:03] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:58:03] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 425.9843ms - 200
[2025-05-02 20:58:03] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 429.5994ms - 200
[2025-05-02 20:58:19] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:58:19] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:58:19] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 487.0558ms - 200
[2025-05-02 20:58:19] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 536.4276ms - 200
[2025-05-02 20:58:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:58:27
[2025-05-02 20:58:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:58:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:58:35] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:58:35] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:58:35] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 358.6409ms - 200
[2025-05-02 20:58:35] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 360.9856ms - 200
[2025-05-02 20:58:50] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:58:50] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:58:50] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 433.7444ms - 200
[2025-05-02 20:58:50] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 434.8721ms - 200
[2025-05-02 20:58:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:58:57
[2025-05-02 20:58:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:58:57] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:59:06] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:59:06] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:59:06] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 363.6167ms - 200
[2025-05-02 20:59:06] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 365.4287ms - 200
[2025-05-02 20:59:21] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:59:21] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:59:22] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 416.5738ms - 200
[2025-05-02 20:59:22] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 418.2613ms - 200
[2025-05-02 20:59:27] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:59:27
[2025-05-02 20:59:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:59:28] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 20:59:37] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:59:37] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:59:37] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 389.9321ms - 200
[2025-05-02 20:59:37] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 391.2366ms - 200
[2025-05-02 20:59:52] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:59:52] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 20:59:53] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 587.0193ms - 200
[2025-05-02 20:59:53] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 588.8174ms - 200
[2025-05-02 20:59:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 20:59:58
[2025-05-02 20:59:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 20:59:58] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 21:00:15] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-02 21:00:18] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-02 21:00:18] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-02 21:00:18] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-02 21:00:18] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 45
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 52
[2025-05-02 21:00:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-02 21:00:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:00:18
[2025-05-02 21:00:18] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-02 21:00:18] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-02 21:00:18] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-02 21:00:18] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-02 21:00:18] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-02 21:00:18] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-02 21:00:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:00:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 21:00:23] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:00:23] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:00:24] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 723.39ms - 200
[2025-05-02 21:00:24] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 742.8839ms - 200
[2025-05-02 21:00:39] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:00:39] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:00:40] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 438.3155ms - 200
[2025-05-02 21:00:40] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 441.2707ms - 200
[2025-05-02 21:00:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:00:49
[2025-05-02 21:00:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:00:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 21:00:55] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:00:55] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:00:55] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 421.2859ms - 200
[2025-05-02 21:00:55] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 424.6289ms - 200
[2025-05-02 21:01:10] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:01:10] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:01:11] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 381.9468ms - 200
[2025-05-02 21:01:11] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 385.5724ms - 200
[2025-05-02 21:01:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:01:19
[2025-05-02 21:01:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:01:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 21:01:26] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:01:26] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:01:26] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 578.9507ms - 200
[2025-05-02 21:01:26] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 584.7593ms - 200
[2025-05-02 21:01:41] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:01:41] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:01:42] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 387.2669ms - 200
[2025-05-02 21:01:42] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 389.8257ms - 200
[2025-05-02 21:01:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:01:49
[2025-05-02 21:01:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 1
[2025-05-02 21:01:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedule 23 marked as READY.
[2025-05-02 21:01:49] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: ✅ Saved READY schedules to database.
[2025-05-02 21:01:50] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 21:01:50] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/760b1d3e838b846780b0790b470aa140
[2025-05-02 21:01:50] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/760b1d3e838b846780b0790b470aa140
[2025-05-02 21:01:50] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 401.9559ms - 404
[2025-05-02 21:01:50] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 403.1326ms - 404
[2025-05-02 21:01:50] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Schedule' cannot be tracked because another instance with the same key value for {'ScheduleID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 87
   at Repos.LiveStreamRepo.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\Repos\LiveStreamRepo.cs:line 160
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 200
[2025-05-02 21:01:57] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:01:57] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:01:58] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 477.4133ms - 200
[2025-05-02 21:01:58] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 478.6423ms - 200
[2025-05-02 21:02:13] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:02:13] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:02:13] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 441.7006ms - 200
[2025-05-02 21:02:13] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 445.0597ms - 200
[2025-05-02 21:02:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:02:20
[2025-05-02 21:02:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:02:20] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 21:02:20] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request POST https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs
[2025-05-02 21:02:20] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request POST https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs
[2025-05-02 21:02:21] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 800.3022ms - 200
[2025-05-02 21:02:21] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 801.4012ms - 200
[2025-05-02 21:02:21] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: The instance of entity type 'Program' cannot be tracked because another instance with the same key value for {'ProgramID'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at DAOs.LiveStreamDAO.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 87
   at Repos.LiveStreamRepo.UpdateProgramAsync(Program program) in F:\Workspace\School_TV_BE\Repos\LiveStreamRepo.cs:line 160
   at Services.LiveStreamService.StartLiveStreamAsync(VideoHistory stream) in F:\Workspace\School_TV_BE\Services\LiveStreamService.cs:line 98
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 217
[2025-05-02 21:02:28] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:02:28] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:02:29] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 710.6908ms - 200
[2025-05-02 21:02:29] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 712.4061ms - 200
[2025-05-02 21:02:44] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:02:44] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:02:45] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 396.6359ms - 200
[2025-05-02 21:02:45] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 400.6607ms - 200
[2025-05-02 21:02:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:02:51
[2025-05-02 21:02:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:02:51] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 21:02:51] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:02:51] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:02:52] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 436.2109ms - 200
[2025-05-02 21:02:52] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 439.134ms - 200
[2025-05-02 21:02:52] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:02:52] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:02:52] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 349.3955ms - 200
[2025-05-02 21:02:52] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 350.7772ms - 200
[2025-05-02 21:02:52] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Is live input created for schedule: True.
[2025-05-02 21:03:18] [Warning] BLL.Services.LiveStream.Implements.LiveStreamScheduler: No email found for ScheduleID 23's streamer.
[2025-05-02 21:03:18] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:03:18] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:03:18] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 472.3072ms - 200
[2025-05-02 21:03:18] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 473.6035ms - 200
[2025-05-02 21:03:18] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:03:18] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:03:19] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 752.671ms - 200
[2025-05-02 21:03:19] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 754.5869ms - 200
[2025-05-02 21:03:34] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:03:34] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:03:34] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 479.2222ms - 200
[2025-05-02 21:03:34] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 480.4956ms - 200
[2025-05-02 21:03:34] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:03:34] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:03:35] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 809.2035ms - 200
[2025-05-02 21:03:35] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 811.1543ms - 200
[2025-05-02 21:03:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:03:48
[2025-05-02 21:03:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:03:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 21:03:50] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:03:50] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:03:51] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 515.1093ms - 200
[2025-05-02 21:03:51] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 516.5387ms - 200
[2025-05-02 21:03:51] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:03:51] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:03:52] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 755.2012ms - 200
[2025-05-02 21:03:52] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 757.0699ms - 200
[2025-05-02 21:04:07] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:04:07] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:04:07] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 429.2193ms - 200
[2025-05-02 21:04:07] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 430.9166ms - 200
[2025-05-02 21:04:07] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:04:07] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:04:08] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 445.1394ms - 200
[2025-05-02 21:04:08] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 446.6807ms - 200
[2025-05-02 21:04:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:04:18
[2025-05-02 21:04:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:04:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 21:04:23] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:04:23] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:04:23] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 550.2745ms - 200
[2025-05-02 21:04:23] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 552.6114ms - 200
[2025-05-02 21:04:23] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:04:23] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:04:24] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 416.2293ms - 200
[2025-05-02 21:04:24] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 419.5251ms - 200
[2025-05-02 21:04:39] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:04:39] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:04:39] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 541.3304ms - 200
[2025-05-02 21:04:39] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 543.0141ms - 200
[2025-05-02 21:04:39] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:04:39] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:04:40] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 368.1814ms - 200
[2025-05-02 21:04:40] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 369.9784ms - 200
[2025-05-02 21:04:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:04:48
[2025-05-02 21:04:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:04:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 21:04:55] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:04:55] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:04:56] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 796.0959ms - 200
[2025-05-02 21:04:56] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 797.3937ms - 200
[2025-05-02 21:04:56] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:04:56] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:04:56] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 408.6305ms - 200
[2025-05-02 21:04:56] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 410.6742ms - 200
[2025-05-02 21:05:11] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:05:11] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:05:12] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 845.1404ms - 200
[2025-05-02 21:05:12] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 846.7248ms - 200
[2025-05-02 21:05:12] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:05:12] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:05:13] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 742.2753ms - 200
[2025-05-02 21:05:13] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 743.2382ms - 200
[2025-05-02 21:05:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:05:18
[2025-05-02 21:05:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:05:18] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 21:05:28] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:05:28] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:05:29] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 774.8822ms - 200
[2025-05-02 21:05:29] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 777.0509ms - 200
[2025-05-02 21:05:29] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:05:29] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:05:29] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 398.3098ms - 200
[2025-05-02 21:05:29] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 402.1643ms - 200
[2025-05-02 21:05:44] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:05:44] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:05:45] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 416.023ms - 200
[2025-05-02 21:05:45] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 417.6622ms - 200
[2025-05-02 21:05:45] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:05:45] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:05:45] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 603.4993ms - 200
[2025-05-02 21:05:45] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 606.1284ms - 200
[2025-05-02 21:05:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:05:48
[2025-05-02 21:05:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:05:48] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 21:06:00] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:06:00] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:06:01] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 482.0391ms - 200
[2025-05-02 21:06:01] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 483.3484ms - 200
[2025-05-02 21:06:01] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:06:01] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:06:01] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 428.1132ms - 200
[2025-05-02 21:06:01] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 430.242ms - 200
[2025-05-02 21:06:16] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:06:16] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:06:17] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 842.9666ms - 200
[2025-05-02 21:06:17] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 844.3168ms - 200
[2025-05-02 21:06:17] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:06:17] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:06:18] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 409.1902ms - 200
[2025-05-02 21:06:18] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 410.7078ms - 200
[2025-05-02 21:06:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:06:19
[2025-05-02 21:06:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:06:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 21:06:33] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:06:33] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:06:33] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 503.2322ms - 200
[2025-05-02 21:06:33] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 504.2189ms - 200
[2025-05-02 21:06:33] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:06:33] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:06:34] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 427.9983ms - 200
[2025-05-02 21:06:34] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 443.8897ms - 200
[2025-05-02 21:06:57] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-02 21:06:59] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-02 21:06:59] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-02 21:06:59] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-02 21:06:59] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 45
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 52
[2025-05-02 21:06:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-02 21:06:59] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:06:59
[2025-05-02 21:06:59] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-02 21:06:59] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-02 21:06:59] [Information] Services.HostedServices.PendingAccountReminderService: Reminder process completed. Total reminders sent: 0
[2025-05-02 21:06:59] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-02 21:06:59] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-02 21:06:59] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-02 21:07:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:07:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 21:07:04] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:07:04] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:07:05] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 761.6593ms - 200
[2025-05-02 21:07:05] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 771.2625ms - 200
[2025-05-02 21:07:05] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:07:05] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:07:05] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 356.9713ms - 200
[2025-05-02 21:07:05] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 358.4119ms - 200
[2025-05-02 21:07:15] [Warning] School_TV_Show.HostedService.CloudflareStreamMonitor: Schedule 23 marked as LateStart at 05/02/2025 21:07:04.
[2025-05-02 21:07:21] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:07:21] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:07:21] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 382.3429ms - 200
[2025-05-02 21:07:21] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 383.8322ms - 200
[2025-05-02 21:07:21] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:07:21] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:07:21] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 324.9438ms - 200
[2025-05-02 21:07:21] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 326.4747ms - 200
[2025-05-02 21:07:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:07:30
[2025-05-02 21:07:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:07:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 21:07:36] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:07:36] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:07:37] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 514.1377ms - 200
[2025-05-02 21:07:37] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 515.8357ms - 200
[2025-05-02 21:07:37] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:07:37] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:07:37] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 351.3674ms - 200
[2025-05-02 21:07:37] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 352.5309ms - 200
[2025-05-02 21:07:52] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:07:52] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:07:53] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 407.0017ms - 200
[2025-05-02 21:07:53] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 408.9939ms - 200
[2025-05-02 21:07:53] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:07:53] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:07:53] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 451.2415ms - 200
[2025-05-02 21:07:53] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 453.2492ms - 200
[2025-05-02 21:08:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:08:00
[2025-05-02 21:08:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:08:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 21:08:08] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:08:08] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:08:09] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 470.0059ms - 200
[2025-05-02 21:08:09] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 471.4374ms - 200
[2025-05-02 21:08:09] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:08:09] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:08:09] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 396.5711ms - 200
[2025-05-02 21:08:09] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 398.6532ms - 200
[2025-05-02 21:08:24] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:08:24] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:08:25] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 386.5438ms - 200
[2025-05-02 21:08:25] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 387.858ms - 200
[2025-05-02 21:08:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:08:30
[2025-05-02 21:08:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:08:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 21:08:40] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:08:40] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:08:40] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 464.9809ms - 200
[2025-05-02 21:08:40] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 466.0649ms - 200
[2025-05-02 21:08:55] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:08:55] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:08:56] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 1010.9326ms - 200
[2025-05-02 21:08:56] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 1011.914ms - 200
[2025-05-02 21:09:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:09:00
[2025-05-02 21:09:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:09:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 21:09:12] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:09:12] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:09:12] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 788.7804ms - 200
[2025-05-02 21:09:12] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 789.7537ms - 200
[2025-05-02 21:09:28] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:09:28] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:09:28] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 426.1945ms - 200
[2025-05-02 21:09:28] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 428.0594ms - 200
[2025-05-02 21:09:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:09:31
[2025-05-02 21:09:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:09:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 21:09:43] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:09:43] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:09:44] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 524.1222ms - 200
[2025-05-02 21:09:44] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 525.5989ms - 200
[2025-05-02 21:09:59] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:09:59] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:09:59] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 439.3581ms - 200
[2025-05-02 21:09:59] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 441.2442ms - 200
[2025-05-02 21:10:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:10:01
[2025-05-02 21:10:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:10:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 21:10:14] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:10:14] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:10:15] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 607.2632ms - 200
[2025-05-02 21:10:15] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 608.722ms - 200
[2025-05-02 21:10:30] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:10:30] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:10:31] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 428.9105ms - 200
[2025-05-02 21:10:31] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 430.1667ms - 200
[2025-05-02 21:10:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:10:31
[2025-05-02 21:10:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:10:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 21:10:46] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:10:46] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:10:46] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 483.0078ms - 200
[2025-05-02 21:10:46] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 483.9323ms - 200
[2025-05-02 21:11:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:11:01
[2025-05-02 21:11:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:11:01] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 21:11:01] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:11:01] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:11:02] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 432.2752ms - 200
[2025-05-02 21:11:02] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 433.5663ms - 200
[2025-05-02 21:11:17] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:11:17] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:11:17] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 596.6514ms - 200
[2025-05-02 21:11:17] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 597.6823ms - 200
[2025-05-02 21:11:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:11:31
[2025-05-02 21:11:31] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:11:33] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:11:34] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:11:35] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 756.0603ms - 200
[2025-05-02 21:11:36] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 2068.8803ms - 200
[2025-05-02 21:11:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-02 21:11:51] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:11:51] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:11:52] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 800.1854ms - 200
[2025-05-02 21:11:52] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 801.9158ms - 200
[2025-05-02 21:12:07] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:12:07] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:12:08] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 412.8662ms - 200
[2025-05-02 21:12:08] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 415.5217ms - 200
[2025-05-02 21:12:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:12:11
[2025-05-02 21:12:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:12:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 21:12:23] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:12:23] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:12:23] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 448.5181ms - 200
[2025-05-02 21:12:23] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 450.0583ms - 200
[2025-05-02 21:12:38] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:12:38] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:12:39] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 400.9927ms - 200
[2025-05-02 21:12:39] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 403.5514ms - 200
[2025-05-02 21:12:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:12:42
[2025-05-02 21:12:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:12:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 21:12:54] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:12:54] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:12:54] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 435.425ms - 200
[2025-05-02 21:12:54] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 437.605ms - 200
[2025-05-02 21:13:10] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:13:10] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:13:10] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 378.8097ms - 200
[2025-05-02 21:13:10] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 380.5573ms - 200
[2025-05-02 21:13:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:13:12
[2025-05-02 21:13:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:13:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 21:13:28] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:13:28] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:13:36] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 7475.0784ms - 200
[2025-05-02 21:13:37] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 8561.9757ms - 200
[2025-05-02 21:13:54] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:13:54] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:13:55] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 399.1484ms - 200
[2025-05-02 21:13:55] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 400.4729ms - 200
[2025-05-02 21:14:10] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:14:10] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:14:10] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 502.0412ms - 200
[2025-05-02 21:14:10] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 503.8148ms - 200
[2025-05-02 21:14:22] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:14:22
[2025-05-02 21:14:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:14:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 21:14:25] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:14:25] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:14:26] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 404.4617ms - 200
[2025-05-02 21:14:26] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 406.7807ms - 200
[2025-05-02 21:14:41] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:14:41] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:14:41] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 442.0317ms - 200
[2025-05-02 21:14:41] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 444.3415ms - 200
[2025-05-02 21:14:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:14:53
[2025-05-02 21:14:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:14:53] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 21:14:56] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:14:56] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:14:57] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 400.8751ms - 200
[2025-05-02 21:14:57] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 403.4295ms - 200
[2025-05-02 21:15:12] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:15:12] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:15:12] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 457.9622ms - 200
[2025-05-02 21:15:12] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 459.2717ms - 200
[2025-05-02 21:15:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:15:23
[2025-05-02 21:15:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:15:23] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 21:15:30] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:15:30] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:15:31] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 1408.2841ms - 200
[2025-05-02 21:15:31] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 1416.7234ms - 200
[2025-05-02 21:15:52] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:15:52] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:15:52] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 462.9993ms - 200
[2025-05-02 21:15:52] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 465.2393ms - 200
[2025-05-02 21:16:07] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:16:07] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:16:08] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 416.0387ms - 200
[2025-05-02 21:16:08] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 416.7433ms - 200
[2025-05-02 21:16:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:16:12
[2025-05-02 21:16:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:16:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 21:16:18] [Warning] School_TV_Show.HostedService.CloudflareStreamMonitor: Schedule 23 marked as LateStart at 05/02/2025 21:16:07.
[2025-05-02 21:16:23] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:16:23] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:16:23] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 486.3488ms - 200
[2025-05-02 21:16:23] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 488.7054ms - 200
[2025-05-02 21:16:33] [Warning] School_TV_Show.HostedService.CloudflareStreamMonitor: Schedule 23 marked as LateStart at 05/02/2025 21:16:23.
[2025-05-02 21:16:39] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:16:39] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:16:39] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 404.1591ms - 200
[2025-05-02 21:16:39] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 407.6311ms - 200
[2025-05-02 21:16:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:16:42
[2025-05-02 21:16:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:16:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 21:16:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:16:42] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:16:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 570.837ms - 200
[2025-05-02 21:16:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 573.1053ms - 200
[2025-05-02 21:16:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:16:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:16:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.ClientHandler: Received HTTP response headers after 428.9804ms - 200
[2025-05-02 21:16:43] [Information] System.Net.Http.HttpClient.ILiveStreamService.LogicalHandler: End processing HTTP request after 429.7503ms - 200
[2025-05-02 21:16:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Is live input created for schedule: True.
[2025-05-02 21:16:55] [Warning] School_TV_Show.HostedService.CloudflareStreamMonitor: Schedule 23 marked as LateStart at 05/02/2025 21:16:38.
[2025-05-02 21:17:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Stream URL created and email sent to 723lachuyennho101@gmail.com for ScheduleID 23.
[2025-05-02 21:17:00] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:17:00] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:17:01] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 530.0611ms - 200
[2025-05-02 21:17:01] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 531.7028ms - 200
[2025-05-02 21:17:01] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:17:01] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:17:01] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 538.6411ms - 200
[2025-05-02 21:17:01] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 542.4049ms - 200
[2025-05-02 21:17:11] [Warning] School_TV_Show.HostedService.CloudflareStreamMonitor: Schedule 23 marked as LateStart at 05/02/2025 21:17:00.
[2025-05-02 21:17:16] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:17:16] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:17:17] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 367.564ms - 200
[2025-05-02 21:17:17] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 369.829ms - 200
[2025-05-02 21:17:17] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:17:17] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:17:17] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 369.4949ms - 200
[2025-05-02 21:17:17] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 371.7023ms - 200
[2025-05-02 21:17:27] [Warning] School_TV_Show.HostedService.CloudflareStreamMonitor: Schedule 23 marked as LateStart at 05/02/2025 21:17:16.
[2025-05-02 21:17:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:17:30
[2025-05-02 21:17:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:17:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 21:17:32] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:17:32] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:17:33] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 566.2828ms - 200
[2025-05-02 21:17:33] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 569.6394ms - 200
[2025-05-02 21:17:33] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:17:33] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:17:33] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 374.838ms - 200
[2025-05-02 21:17:33] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 376.6394ms - 200
[2025-05-02 21:17:43] [Warning] School_TV_Show.HostedService.CloudflareStreamMonitor: Schedule 23 marked as LateStart at 05/02/2025 21:17:32.
[2025-05-02 21:17:48] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:17:48] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:17:49] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 431.5033ms - 200
[2025-05-02 21:17:49] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 433.4857ms - 200
[2025-05-02 21:17:49] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:17:49] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:17:49] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 384.0513ms - 200
[2025-05-02 21:17:49] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 388.4912ms - 200
[2025-05-02 21:17:59] [Warning] School_TV_Show.HostedService.CloudflareStreamMonitor: Schedule 23 marked as LateStart at 05/02/2025 21:17:48.
[2025-05-02 21:18:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:18:00
[2025-05-02 21:18:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:18:00] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 21:18:04] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:18:04] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:18:05] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 443.1785ms - 200
[2025-05-02 21:18:05] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 444.5412ms - 200
[2025-05-02 21:18:05] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:18:05] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:18:05] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 386.7289ms - 200
[2025-05-02 21:18:05] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 398.0006ms - 200
[2025-05-02 21:18:15] [Warning] School_TV_Show.HostedService.CloudflareStreamMonitor: Schedule 23 marked as LateStart at 05/02/2025 21:18:04.
[2025-05-02 21:18:20] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:18:20] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:18:21] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 396.03ms - 200
[2025-05-02 21:18:21] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 399.301ms - 200
[2025-05-02 21:18:21] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:18:21] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:18:21] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 360.0717ms - 200
[2025-05-02 21:18:21] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 362.5333ms - 200
[2025-05-02 21:18:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/02/2025 21:18:30
[2025-05-02 21:18:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-02 21:18:30] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 1
[2025-05-02 21:18:31] [Warning] School_TV_Show.HostedService.CloudflareStreamMonitor: Schedule 23 marked as LateStart at 05/02/2025 21:18:20.
[2025-05-02 21:18:36] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:18:36] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:18:37] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 474.9397ms - 200
[2025-05-02 21:18:37] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 476.3595ms - 200
[2025-05-02 21:18:37] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:18:37] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:18:37] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 422.2653ms - 200
[2025-05-02 21:18:37] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 423.1302ms - 200
[2025-05-02 21:18:47] [Warning] School_TV_Show.HostedService.CloudflareStreamMonitor: Schedule 23 marked as LateStart at 05/02/2025 21:18:36.
[2025-05-02 21:18:52] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:18:52] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-02 21:18:52] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 369.6655ms - 200
[2025-05-02 21:18:52] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 370.6788ms - 200
[2025-05-02 21:18:52] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:18:52] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/1acd29102985be30f0224f1e66d5985c
[2025-05-02 21:18:53] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 383.8014ms - 200
[2025-05-02 21:18:53] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 384.6003ms - 200
[2025-05-03 13:52:10] [Information] Services.HostedServices.PendingAccountReminderService: PendingAccountReminderService started.
[2025-05-03 13:52:18] [Information] Services.HostedServices.ExpiredOrderCheckerService: ⏳ Starting Expired Order Checker Service...
[2025-05-03 13:52:18] [Information] Services.HostedServices.DurationTrackingService: DurationTrackingService started.
[2025-05-03 13:52:19] [Information] School_TV_Show.HostedService.CloudflareStreamMonitor: 📡 CloudflareStreamMonitor started.
[2025-05-03 13:52:19] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 45
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 52
[2025-05-03 13:52:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: LiveStreamScheduler is starting.
[2025-05-03 13:52:19] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/03/2025 13:52:19
[2025-05-03 13:52:20] [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7085
[2025-05-03 13:52:20] [Information] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5226
[2025-05-03 13:52:20] [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-05-03 13:52:20] [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-05-03 13:52:20] [Information] Microsoft.Hosting.Lifetime: Content root path: F:\Workspace\School_TV_BE\School_TV_Show
[2025-05-03 13:52:24] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 45
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 52
[2025-05-03 13:52:30] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 45
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 52
[2025-05-03 13:52:35] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Repos.VideoHistoryRepo.GetActiveUnconfirmedStreamsAsync() in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 45
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 52
[2025-05-03 13:52:36] [Error] Services.HostedServices.PendingAccountReminderService: Error while sending OTP reminders.
Exception: Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=17206; handshake=21; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(SqlConnectionEncryptOption encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired, Boolean tlsFirst, String serverCert)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.AccountDAO.GetPendingAccountsOlderThanAsync(DateTime threshold) in F:\Workspace\School_TV_BE\DAOs\AccountDAO.cs:line 235
   at Repos.AccountRepo.GetPendingAccountsOlderThanAsync(DateTime threshold) in F:\Workspace\School_TV_BE\Repos\AccountRepo.cs:line 50
   at Services.AccountService.GetPendingAccountsAsync(DateTime threshold) in F:\Workspace\School_TV_BE\Services\AccountService.cs:line 74
   at Services.HostedServices.PendingAccountReminderService.SendPendingAccountRemindersAsync() in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\PendingAccountReminderService.cs:line 58
ClientConnectionId:fb5150dd-de4a-4eb2-b058-943c117fc787
Error Number:-2,State:0,Class:11
[2025-05-03 13:52:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-03 13:52:39] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-03 13:52:41] [Error] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Error during LiveStreamScheduler tick
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.VideoHistoryDAO.GetExpiredUploadedVideosAsync(DateTime currentTime) in F:\Workspace\School_TV_BE\DAOs\VideoHistoryDAO.cs:line 44
   at Repos.VideoHistoryRepo.GetExpiredUploadedVideosAsync(DateTime currentTime) in F:\Workspace\School_TV_BE\Repos\VideoHistoryRepo.cs:line 60
   at BLL.Services.LiveStream.Implements.LiveStreamScheduler.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\LiveStreamScheduler.cs:line 342
[2025-05-03 13:52:42] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:52:42] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:52:46] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 3463.3684ms - 200
[2025-05-03 13:52:46] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 3654.334ms - 200
[2025-05-03 13:53:04] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:53:04] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:53:05] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 940.1236ms - 200
[2025-05-03 13:53:05] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 941.2789ms - 200
[2025-05-03 13:53:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/03/2025 13:53:11
[2025-05-03 13:53:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-03 13:53:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-03 13:53:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Expire] Uploaded video 30 marked as inactive.
[2025-05-03 13:53:20] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:53:20] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:53:21] [Error] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.ScheduleDAO.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\DAOs\ScheduleDAO.cs:line 145
   at Repos.ScheduleRepo.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Repos\ScheduleRepo.cs:line 41
   at Services.ScheduleService.GetLiveNowSchedulesAsync() in F:\Workspace\School_TV_BE\Services\ScheduleService.cs:line 101
   at School_TV_Show.Controllers.ScheduleController.GetLiveNowSchedules() in F:\Workspace\School_TV_BE\School_TV_Show\Controllers\ScheduleController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-05-03 13:53:21] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 1008.9468ms - 200
[2025-05-03 13:53:21] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 1010.0124ms - 200
[2025-05-03 13:53:36] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:53:36] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:53:37] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 821.2594ms - 200
[2025-05-03 13:53:37] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 822.33ms - 200
[2025-05-03 13:53:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/03/2025 13:53:41
[2025-05-03 13:53:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-03 13:53:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-03 13:53:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Expire] Uploaded video 30 marked as inactive.
[2025-05-03 13:53:52] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:53:52] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:53:53] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 921.4385ms - 200
[2025-05-03 13:53:53] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 922.4478ms - 200
[2025-05-03 13:54:08] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:54:08] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:54:09] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 811.4021ms - 200
[2025-05-03 13:54:09] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 812.9797ms - 200
[2025-05-03 13:54:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/03/2025 13:54:11
[2025-05-03 13:54:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-03 13:54:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-03 13:54:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Expire] Uploaded video 30 marked as inactive.
[2025-05-03 13:54:24] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:54:24] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:54:25] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 959.982ms - 200
[2025-05-03 13:54:25] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 961.0768ms - 200
[2025-05-03 13:54:40] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:54:40] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:54:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/03/2025 13:54:41
[2025-05-03 13:54:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-03 13:54:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-03 13:54:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Expire] Uploaded video 30 marked as inactive.
[2025-05-03 13:54:41] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 861.5149ms - 200
[2025-05-03 13:54:41] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 862.4064ms - 200
[2025-05-03 13:54:56] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:54:56] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:54:57] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 979.8631ms - 200
[2025-05-03 13:54:57] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 980.8477ms - 200
[2025-05-03 13:55:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/03/2025 13:55:11
[2025-05-03 13:55:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-03 13:55:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-03 13:55:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Expire] Uploaded video 30 marked as inactive.
[2025-05-03 13:55:12] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:55:12] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:55:13] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 824.9249ms - 200
[2025-05-03 13:55:13] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 826.1539ms - 200
[2025-05-03 13:55:28] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:55:28] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:55:29] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 903.4105ms - 200
[2025-05-03 13:55:29] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 905.0082ms - 200
[2025-05-03 13:55:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/03/2025 13:55:41
[2025-05-03 13:55:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-03 13:55:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-03 13:55:41] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Expire] Uploaded video 30 marked as inactive.
[2025-05-03 13:55:44] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:55:44] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:55:45] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 819.6325ms - 200
[2025-05-03 13:55:45] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 821.8076ms - 200
[2025-05-03 13:56:00] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:56:00] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:56:01] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 1145.6143ms - 200
[2025-05-03 13:56:01] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 1146.8226ms - 200
[2025-05-03 13:56:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/03/2025 13:56:11
[2025-05-03 13:56:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-03 13:56:11] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-03 13:56:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Expire] Uploaded video 30 marked as inactive.
[2025-05-03 13:56:12] [Error] School_TV_Show.HostedService.CloudflareStreamMonitor: 🔥 Error in CloudflareStreamMonitor loop.
Exception: System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DAOs.LiveStreamDAO.GetLateStartCandidatesAsync(DateTime currentTime) in F:\Workspace\School_TV_BE\DAOs\LiveStreamDAO.cs:line 189
   at Repos.LiveStreamRepo.GetLateStartCandidatesAsync(DateTime thresholdTime) in F:\Workspace\School_TV_BE\Repos\LiveStreamRepo.cs:line 65
   at School_TV_Show.HostedService.CloudflareStreamMonitor.MarkScheduleLateStartAsync(IServiceScope scope, DateTime now) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 133
   at School_TV_Show.HostedService.CloudflareStreamMonitor.ExecuteAsync(CancellationToken stoppingToken) in F:\Workspace\School_TV_BE\School_TV_Show\HostedService\CloudflareStreamMonitor.cs:line 87
[2025-05-03 13:56:17] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:56:17] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:56:18] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 928.1354ms - 200
[2025-05-03 13:56:18] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 935.3762ms - 200
[2025-05-03 13:56:33] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:56:33] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:56:33] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 804.3529ms - 200
[2025-05-03 13:56:33] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 805.7091ms - 200
[2025-05-03 13:56:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/03/2025 13:56:42
[2025-05-03 13:56:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-03 13:56:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-03 13:56:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Expire] Uploaded video 30 marked as inactive.
[2025-05-03 13:56:49] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:56:49] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:56:49] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 852.9093ms - 200
[2025-05-03 13:56:49] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 855.239ms - 200
[2025-05-03 13:57:05] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:57:05] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:57:06] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 1149.913ms - 200
[2025-05-03 13:57:06] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 1152.2118ms - 200
[2025-05-03 13:57:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/03/2025 13:57:12
[2025-05-03 13:57:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-03 13:57:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-03 13:57:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Expire] Uploaded video 30 marked as inactive.
[2025-05-03 13:57:21] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:57:21] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:57:22] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 1091.2331ms - 200
[2025-05-03 13:57:22] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 1092.4696ms - 200
[2025-05-03 13:57:37] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:57:37] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:57:38] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 881.8741ms - 200
[2025-05-03 13:57:38] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 882.8527ms - 200
[2025-05-03 13:57:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/03/2025 13:57:42
[2025-05-03 13:57:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-03 13:57:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-03 13:57:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Expire] Uploaded video 30 marked as inactive.
[2025-05-03 13:57:53] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:57:53] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:57:54] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 927.4643ms - 200
[2025-05-03 13:57:54] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 928.8182ms - 200
[2025-05-03 13:58:09] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:58:09] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:58:10] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 847.8621ms - 200
[2025-05-03 13:58:10] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 850.5115ms - 200
[2025-05-03 13:58:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/03/2025 13:58:12
[2025-05-03 13:58:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-03 13:58:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-03 13:58:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Expire] Uploaded video 30 marked as inactive.
[2025-05-03 13:58:25] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:58:25] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:58:26] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 923.7267ms - 200
[2025-05-03 13:58:26] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 925.7602ms - 200
[2025-05-03 13:58:41] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:58:41] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:58:42] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 801.3715ms - 200
[2025-05-03 13:58:42] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 802.4327ms - 200
[2025-05-03 13:58:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/03/2025 13:58:42
[2025-05-03 13:58:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-03 13:58:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-03 13:58:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Expire] Uploaded video 30 marked as inactive.
[2025-05-03 13:58:57] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:58:57] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:58:58] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 792.7099ms - 200
[2025-05-03 13:58:58] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 794.6171ms - 200
[2025-05-03 13:59:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/03/2025 13:59:12
[2025-05-03 13:59:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-03 13:59:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-03 13:59:12] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Expire] Uploaded video 30 marked as inactive.
[2025-05-03 13:59:13] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:59:13] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:59:14] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 877.7444ms - 200
[2025-05-03 13:59:14] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 878.5282ms - 200
[2025-05-03 13:59:29] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:59:29] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:59:30] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 884.4748ms - 200
[2025-05-03 13:59:30] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 886.2505ms - 200
[2025-05-03 13:59:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/03/2025 13:59:42
[2025-05-03 13:59:42] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-03 13:59:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-03 13:59:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Expire] Uploaded video 30 marked as inactive.
[2025-05-03 13:59:45] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:59:45] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 13:59:46] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 797.0862ms - 200
[2025-05-03 13:59:46] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 798.3341ms - 200
[2025-05-03 14:00:01] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:00:01] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:00:04] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 2823.136ms - 200
[2025-05-03 14:00:04] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 2826.4948ms - 200
[2025-05-03 14:00:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/03/2025 14:00:13
[2025-05-03 14:00:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-03 14:00:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-03 14:00:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Expire] Uploaded video 30 marked as inactive.
[2025-05-03 14:00:19] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:00:19] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:00:20] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 804.1713ms - 200
[2025-05-03 14:00:20] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 806.218ms - 200
[2025-05-03 14:00:35] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:00:35] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:00:36] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 833.0759ms - 200
[2025-05-03 14:00:36] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 833.8855ms - 200
[2025-05-03 14:00:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/03/2025 14:00:43
[2025-05-03 14:00:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-03 14:00:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-03 14:00:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Expire] Uploaded video 30 marked as inactive.
[2025-05-03 14:00:51] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:00:51] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:00:52] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 870.8435ms - 200
[2025-05-03 14:00:52] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 872.4795ms - 200
[2025-05-03 14:01:07] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:01:07] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:01:08] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 810.7494ms - 200
[2025-05-03 14:01:08] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 812.133ms - 200
[2025-05-03 14:01:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/03/2025 14:01:13
[2025-05-03 14:01:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-03 14:01:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-03 14:01:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Expire] Uploaded video 30 marked as inactive.
[2025-05-03 14:01:23] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:01:23] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:01:24] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 921.7944ms - 200
[2025-05-03 14:01:24] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 923.0486ms - 200
[2025-05-03 14:01:39] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:01:39] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:01:40] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 795.5547ms - 200
[2025-05-03 14:01:40] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 796.4105ms - 200
[2025-05-03 14:01:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/03/2025 14:01:43
[2025-05-03 14:01:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-03 14:01:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-03 14:01:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Expire] Uploaded video 30 marked as inactive.
[2025-05-03 14:01:55] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:01:55] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:01:56] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 997.7692ms - 200
[2025-05-03 14:01:56] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 998.9917ms - 200
[2025-05-03 14:02:11] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:02:11] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:02:12] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 801.725ms - 200
[2025-05-03 14:02:12] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 802.682ms - 200
[2025-05-03 14:02:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/03/2025 14:02:13
[2025-05-03 14:02:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-03 14:02:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-03 14:02:13] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Expire] Uploaded video 30 marked as inactive.
[2025-05-03 14:02:27] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:02:27] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:02:28] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 760.9181ms - 200
[2025-05-03 14:02:28] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 762.3407ms - 200
[2025-05-03 14:02:43] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:02:43] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:02:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/03/2025 14:02:43
[2025-05-03 14:02:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-03 14:02:43] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-03 14:02:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Expire] Uploaded video 30 marked as inactive.
[2025-05-03 14:02:44] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 873.1911ms - 200
[2025-05-03 14:02:44] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 875.0367ms - 200
[2025-05-03 14:02:59] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:02:59] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:03:00] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 842.3233ms - 200
[2025-05-03 14:03:00] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 843.6684ms - 200
[2025-05-03 14:03:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/03/2025 14:03:14
[2025-05-03 14:03:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-03 14:03:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-03 14:03:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Expire] Uploaded video 30 marked as inactive.
[2025-05-03 14:03:15] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:03:15] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:03:16] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 784.8348ms - 200
[2025-05-03 14:03:16] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 786.2707ms - 200
[2025-05-03 14:03:31] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:03:31] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:03:32] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 898.7342ms - 200
[2025-05-03 14:03:32] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 900.1134ms - 200
[2025-05-03 14:03:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/03/2025 14:03:44
[2025-05-03 14:03:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-03 14:03:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-03 14:03:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Expire] Uploaded video 30 marked as inactive.
[2025-05-03 14:03:47] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:03:47] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:03:48] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 819.8233ms - 200
[2025-05-03 14:03:48] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 821.3369ms - 200
[2025-05-03 14:04:03] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:04:03] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:04:04] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 793.4974ms - 200
[2025-05-03 14:04:04] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 794.8536ms - 200
[2025-05-03 14:04:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/03/2025 14:04:14
[2025-05-03 14:04:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-03 14:04:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-03 14:04:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Expire] Uploaded video 30 marked as inactive.
[2025-05-03 14:04:19] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:04:19] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:04:20] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 859.0569ms - 200
[2025-05-03 14:04:20] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 859.9196ms - 200
[2025-05-03 14:04:35] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:04:35] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:04:36] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 853.0327ms - 200
[2025-05-03 14:04:36] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 853.9216ms - 200
[2025-05-03 14:04:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/03/2025 14:04:44
[2025-05-03 14:04:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-03 14:04:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-03 14:04:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Expire] Uploaded video 30 marked as inactive.
[2025-05-03 14:04:51] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:04:51] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:04:51] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 760.0757ms - 200
[2025-05-03 14:04:51] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 761.0354ms - 200
[2025-05-03 14:05:07] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:05:07] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:05:07] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 813.7251ms - 200
[2025-05-03 14:05:07] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 814.6999ms - 200
[2025-05-03 14:05:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/03/2025 14:05:14
[2025-05-03 14:05:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-03 14:05:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-03 14:05:14] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Expire] Uploaded video 30 marked as inactive.
[2025-05-03 14:05:23] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:05:23] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:05:23] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 845.212ms - 200
[2025-05-03 14:05:23] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 846.7429ms - 200
[2025-05-03 14:05:39] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: Start processing HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:05:39] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Sending HTTP request GET https://api.cloudflare.com/client/v4/accounts/0f8785237edcec9778f5d01eda134e87/stream/live_inputs/b47d2589ee3b323c44f5ceb7ffaf13bf
[2025-05-03 14:05:39] [Information] System.Net.Http.HttpClient.Default.ClientHandler: Received HTTP response headers after 887.1152ms - 200
[2025-05-03 14:05:39] [Information] System.Net.Http.HttpClient.Default.LogicalHandler: End processing HTTP request after 889.0247ms - 200
[2025-05-03 14:05:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Scheduler Tick] Vietnam time now: 05/03/2025 14:05:44
[2025-05-03 14:05:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Pending schedules to prepare: 0
[2025-05-03 14:05:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: Schedules to start: 0
[2025-05-03 14:05:44] [Information] BLL.Services.LiveStream.Implements.LiveStreamScheduler: [Expire] Uploaded video 30 marked as inactive.
